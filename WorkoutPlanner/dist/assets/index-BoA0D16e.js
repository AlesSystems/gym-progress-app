(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var bN=n=>n.disabled||Array.isArray(n.accessibilityStates)&&n.accessibilityStates.indexOf("disabled")>-1,SN={adjustable:"slider",button:"button",header:"heading",image:"img",imagebutton:null,keyboardkey:null,label:null,link:"link",none:"presentation",search:"search",summary:"region",text:null},QR=n=>{var e=n.accessibilityRole,t=n.role,r=t||e;if(r){var a=SN[r];if(a!==null)return a||r}},TN={article:"article",banner:"header",blockquote:"blockquote",button:"button",code:"code",complementary:"aside",contentinfo:"footer",deletion:"del",emphasis:"em",figure:"figure",insertion:"ins",form:"form",list:"ul",listitem:"li",main:"main",navigation:"nav",paragraph:"p",region:"section",strong:"strong"},EN={},wN=function(e){e===void 0&&(e=EN);var t=e.role||e.accessibilityRole;if(t==="label")return"label";var r=QR(e);if(r){if(r==="heading"){var a=e.accessibilityLevel||e["aria-level"];return a!=null?"h"+a:"h1"}return TN[r]}},XR={isDisabled:bN,propsToAccessibilityComponent:wN,propsToAriaRole:QR};function Cd(n){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cd(n)}function xN(n,e){if(Cd(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function CN(n){var e=xN(n,"string");return Cd(e)=="symbol"?e:e+""}function RN(n,e,t){return(e=CN(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function xw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Ee(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xw(Object(t),!0).forEach(function(r){RN(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):xw(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function An(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var om={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridRowEnd:!0,gridRowGap:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridColumnStart:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},AN=["ms","Moz","O","Webkit"],IN=(n,e)=>n+e.charAt(0).toUpperCase()+e.substring(1);Object.keys(om).forEach(n=>{AN.forEach(e=>{om[IN(e,n)]=om[n]})});var kN=n=>n==="currentcolor"||n==="currentColor"||n==="inherit"||n.indexOf("var(")===0;function tr(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function JR(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){var a=!1;try{a=this instanceof r}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var a=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:function(){return n[r]}})}),t}var Py,Cw;function ON(){if(Cw)return Py;Cw=1;function n(C){if(typeof C=="number")return C>>>0===C&&C>=0&&C<=4294967295?C:null;if(typeof C!="string")return null;const I=g();let R;if(R=I.hex6.exec(C))return parseInt(R[1]+"ff",16)>>>0;const O=x(C);return O??((R=I.rgb.exec(C))?(y(R[1])<<24|y(R[2])<<16|y(R[3])<<8|255)>>>0:(R=I.rgba.exec(C))?R[6]!==void 0?(y(R[6])<<24|y(R[7])<<16|y(R[8])<<8|S(R[9]))>>>0:(y(R[2])<<24|y(R[3])<<16|y(R[4])<<8|S(R[5]))>>>0:(R=I.hex3.exec(C))?parseInt(R[1]+R[1]+R[2]+R[2]+R[3]+R[3]+"ff",16)>>>0:(R=I.hex8.exec(C))?parseInt(R[1],16)>>>0:(R=I.hex4.exec(C))?parseInt(R[1]+R[1]+R[2]+R[2]+R[3]+R[3]+R[4]+R[4],16)>>>0:(R=I.hsl.exec(C))?(t(_(R[1]),T(R[2]),T(R[3]))|255)>>>0:(R=I.hsla.exec(C))?R[6]!==void 0?(t(_(R[6]),T(R[7]),T(R[8]))|S(R[9]))>>>0:(t(_(R[2]),T(R[3]),T(R[4]))|S(R[5]))>>>0:(R=I.hwb.exec(C))?(r(_(R[1]),T(R[2]),T(R[3]))|255)>>>0:null)}function e(C,I,R){return R<0&&(R+=1),R>1&&(R-=1),R<1/6?C+(I-C)*6*R:R<1/2?I:R<2/3?C+(I-C)*(2/3-R)*6:C}function t(C,I,R){const O=R<.5?R*(1+I):R+I-R*I,z=2*R-O,H=e(z,O,C+1/3),F=e(z,O,C),N=e(z,O,C-1/3);return Math.round(H*255)<<24|Math.round(F*255)<<16|Math.round(N*255)<<8}function r(C,I,R){if(I+R>=1){const F=Math.round(I*255/(I+R));return F<<24|F<<16|F<<8}const O=e(0,1,C+1/3)*(1-I-R)+I,z=e(0,1,C)*(1-I-R)+I,H=e(0,1,C-1/3)*(1-I-R)+I;return Math.round(O*255)<<24|Math.round(z*255)<<16|Math.round(H*255)<<8}const a="[-+]?\\d*\\.?\\d+",o=a+"%";function u(...C){return"\\(\\s*("+C.join(")\\s*,?\\s*(")+")\\s*\\)"}function c(...C){return"\\(\\s*("+C.slice(0,C.length-1).join(")\\s*,?\\s*(")+")\\s*/\\s*("+C[C.length-1]+")\\s*\\)"}function h(...C){return"\\(\\s*("+C.join(")\\s*,\\s*(")+")\\s*\\)"}let f;function g(){return f===void 0&&(f={rgb:new RegExp("rgb"+u(a,a,a)),rgba:new RegExp("rgba("+h(a,a,a,a)+"|"+c(a,a,a,a)+")"),hsl:new RegExp("hsl"+u(a,o,o)),hsla:new RegExp("hsla("+h(a,o,o,a)+"|"+c(a,o,o,a)+")"),hwb:new RegExp("hwb"+u(a,o,o)),hex3:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#([0-9a-fA-F]{6})$/,hex8:/^#([0-9a-fA-F]{8})$/}),f}function y(C){const I=parseInt(C,10);return I<0?0:I>255?255:I}function _(C){return(parseFloat(C)%360+360)%360/360}function S(C){const I=parseFloat(C);return I<0?0:I>1?255:Math.round(I*255)}function T(C){const I=parseFloat(C);return I<0?0:I>100?1:I/100}function x(C){switch(C){case"transparent":return 0;case"aliceblue":return 4042850303;case"antiquewhite":return 4209760255;case"aqua":return 16777215;case"aquamarine":return 2147472639;case"azure":return 4043309055;case"beige":return 4126530815;case"bisque":return 4293182719;case"black":return 255;case"blanchedalmond":return 4293643775;case"blue":return 65535;case"blueviolet":return 2318131967;case"brown":return 2771004159;case"burlywood":return 3736635391;case"burntsienna":return 3934150143;case"cadetblue":return 1604231423;case"chartreuse":return 2147418367;case"chocolate":return 3530104575;case"coral":return 4286533887;case"cornflowerblue":return 1687547391;case"cornsilk":return 4294499583;case"crimson":return 3692313855;case"cyan":return 16777215;case"darkblue":return 35839;case"darkcyan":return 9145343;case"darkgoldenrod":return 3095792639;case"darkgray":return 2846468607;case"darkgreen":return 6553855;case"darkgrey":return 2846468607;case"darkkhaki":return 3182914559;case"darkmagenta":return 2332068863;case"darkolivegreen":return 1433087999;case"darkorange":return 4287365375;case"darkorchid":return 2570243327;case"darkred":return 2332033279;case"darksalmon":return 3918953215;case"darkseagreen":return 2411499519;case"darkslateblue":return 1211993087;case"darkslategray":return 793726975;case"darkslategrey":return 793726975;case"darkturquoise":return 13554175;case"darkviolet":return 2483082239;case"deeppink":return 4279538687;case"deepskyblue":return 12582911;case"dimgray":return 1768516095;case"dimgrey":return 1768516095;case"dodgerblue":return 512819199;case"firebrick":return 2988581631;case"floralwhite":return 4294635775;case"forestgreen":return 579543807;case"fuchsia":return 4278255615;case"gainsboro":return 3705462015;case"ghostwhite":return 4177068031;case"gold":return 4292280575;case"goldenrod":return 3668254975;case"gray":return 2155905279;case"green":return 8388863;case"greenyellow":return 2919182335;case"grey":return 2155905279;case"honeydew":return 4043305215;case"hotpink":return 4285117695;case"indianred":return 3445382399;case"indigo":return 1258324735;case"ivory":return 4294963455;case"khaki":return 4041641215;case"lavender":return 3873897215;case"lavenderblush":return 4293981695;case"lawngreen":return 2096890111;case"lemonchiffon":return 4294626815;case"lightblue":return 2916673279;case"lightcoral":return 4034953471;case"lightcyan":return 3774873599;case"lightgoldenrodyellow":return 4210742015;case"lightgray":return 3553874943;case"lightgreen":return 2431553791;case"lightgrey":return 3553874943;case"lightpink":return 4290167295;case"lightsalmon":return 4288707327;case"lightseagreen":return 548580095;case"lightskyblue":return 2278488831;case"lightslategray":return 2005441023;case"lightslategrey":return 2005441023;case"lightsteelblue":return 2965692159;case"lightyellow":return 4294959359;case"lime":return 16711935;case"limegreen":return 852308735;case"linen":return 4210091775;case"magenta":return 4278255615;case"maroon":return 2147483903;case"mediumaquamarine":return 1724754687;case"mediumblue":return 52735;case"mediumorchid":return 3126187007;case"mediumpurple":return 2473647103;case"mediumseagreen":return 1018393087;case"mediumslateblue":return 2070474495;case"mediumspringgreen":return 16423679;case"mediumturquoise":return 1221709055;case"mediumvioletred":return 3340076543;case"midnightblue":return 421097727;case"mintcream":return 4127193855;case"mistyrose":return 4293190143;case"moccasin":return 4293178879;case"navajowhite":return 4292783615;case"navy":return 33023;case"oldlace":return 4260751103;case"olive":return 2155872511;case"olivedrab":return 1804477439;case"orange":return 4289003775;case"orangered":return 4282712319;case"orchid":return 3664828159;case"palegoldenrod":return 4008225535;case"palegreen":return 2566625535;case"paleturquoise":return 2951671551;case"palevioletred":return 3681588223;case"papayawhip":return 4293907967;case"peachpuff":return 4292524543;case"peru":return 3448061951;case"pink":return 4290825215;case"plum":return 3718307327;case"powderblue":return 2967529215;case"purple":return 2147516671;case"rebeccapurple":return 1714657791;case"red":return 4278190335;case"rosybrown":return 3163525119;case"royalblue":return 1097458175;case"saddlebrown":return 2336560127;case"salmon":return 4202722047;case"sandybrown":return 4104413439;case"seagreen":return 780883967;case"seashell":return 4294307583;case"sienna":return 2689740287;case"silver":return 3233857791;case"skyblue":return 2278484991;case"slateblue":return 1784335871;case"slategray":return 1887473919;case"slategrey":return 1887473919;case"snow":return 4294638335;case"springgreen":return 16744447;case"steelblue":return 1182971135;case"tan":return 3535047935;case"teal":return 8421631;case"thistle":return 3636451583;case"tomato":return 4284696575;case"turquoise":return 1088475391;case"violet":return 4001558271;case"wheat":return 4125012991;case"white":return 4294967295;case"whitesmoke":return 4126537215;case"yellow":return 4294902015;case"yellowgreen":return 2597139199}return null}return Py=n,Py}var DN=ON();const C0=tr(DN);var NN=n=>{if(n==null)return n;var e=C0(n);if(e!=null)return e=(e<<24|e>>>8)>>>0,e},R0=function(e,t){if(t===void 0&&(t=1),e!=null){if(typeof e=="string"&&kN(e))return e;var r=NN(e);if(r!=null){var a=r>>16&255,o=r>>8&255,u=r&255,c=(r>>24&255)/255,h=(c*t).toFixed(2);return"rgba("+a+","+o+","+u+","+h+")"}}},MN={backgroundColor:!0,borderColor:!0,borderTopColor:!0,borderRightColor:!0,borderBottomColor:!0,borderLeftColor:!0,color:!0,shadowColor:!0,textDecorationColor:!0,textShadowColor:!0};function Sr(n,e){var t=n;return(e==null||!om[e])&&typeof n=="number"?t=n+"px":e!=null&&MN[e]&&(t=R0(n)),t}var Gt=!!(typeof window<"u"&&window.document&&window.document.createElement),PN={},LN=!Gt||window.CSS!=null&&window.CSS.supports!=null&&(window.CSS.supports("text-decoration-line","none")||window.CSS.supports("-webkit-text-decoration-line","none")),VN="monospace,monospace",Rw='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif',jN={borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderBlockColor:["borderTopColor","borderBottomColor"],borderInlineColor:["borderRightColor","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderStyle:["borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle"],borderBlockStyle:["borderTopStyle","borderBottomStyle"],borderInlineStyle:["borderRightStyle","borderLeftStyle"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],borderBlockWidth:["borderTopWidth","borderBottomWidth"],borderInlineWidth:["borderRightWidth","borderLeftWidth"],insetBlock:["top","bottom"],insetInline:["left","right"],marginBlock:["marginTop","marginBottom"],marginInline:["marginRight","marginLeft"],paddingBlock:["paddingTop","paddingBottom"],paddingInline:["paddingRight","paddingLeft"],overflow:["overflowX","overflowY"],overscrollBehavior:["overscrollBehaviorX","overscrollBehaviorY"],borderBlockStartColor:["borderTopColor"],borderBlockStartStyle:["borderTopStyle"],borderBlockStartWidth:["borderTopWidth"],borderBlockEndColor:["borderBottomColor"],borderBlockEndStyle:["borderBottomStyle"],borderBlockEndWidth:["borderBottomWidth"],borderEndStartRadius:["borderBottomLeftRadius"],borderEndEndRadius:["borderBottomRightRadius"],borderStartStartRadius:["borderTopLeftRadius"],borderStartEndRadius:["borderTopRightRadius"],insetBlockEnd:["bottom"],insetBlockStart:["top"],marginBlockStart:["marginTop"],marginBlockEnd:["marginBottom"],paddingBlockStart:["paddingTop"],paddingBlockEnd:["paddingBottom"]},ZR=(n,e)=>{if(!n)return PN;var t={},r=function(){var c=n[a];if(c==null)return"continue";if(a==="backgroundClip")c==="text"&&(t.backgroundClip=c,t.WebkitBackgroundClip=c);else if(a==="flex")c===-1?(t.flexGrow=0,t.flexShrink=1,t.flexBasis="auto"):t.flex=c;else if(a==="font")t[a]=c.replace("System",Rw);else if(a==="fontFamily")if(c.indexOf("System")>-1){var h=c.split(/,\s*/);h[h.indexOf("System")]=Rw,t[a]=h.join(",")}else c==="monospace"?t[a]=VN:t[a]=c;else if(a==="textDecorationLine")LN?t.textDecorationLine=c:t.textDecoration=c;else if(a==="writingDirection")t.direction=c;else{var f=Sr(n[a],a),g=jN[a];e&&a==="inset"?(n.insetInline==null&&(t.left=f,t.right=f),n.insetBlock==null&&(t.top=f,t.bottom=f)):e&&a==="margin"?(n.marginInline==null&&(t.marginLeft=f,t.marginRight=f),n.marginBlock==null&&(t.marginTop=f,t.marginBottom=f)):e&&a==="padding"?(n.paddingInline==null&&(t.paddingLeft=f,t.paddingRight=f),n.paddingBlock==null&&(t.paddingTop=f,t.paddingBottom=f)):g?g.forEach((y,_)=>{n[y]==null&&(t[y]=f)}):t[a]=f}};for(var a in n)var o=r();return t};function BN(n,e){for(var t=n.length,r=e^t,a=0,o;t>=4;)o=n.charCodeAt(a)&255|(n.charCodeAt(++a)&255)<<8|(n.charCodeAt(++a)&255)<<16|(n.charCodeAt(++a)&255)<<24,o=(o&65535)*1540483477+(((o>>>16)*1540483477&65535)<<16),o^=o>>>24,o=(o&65535)*1540483477+(((o>>>16)*1540483477&65535)<<16),r=(r&65535)*1540483477+(((r>>>16)*1540483477&65535)<<16)^o,t-=4,++a;switch(t){case 3:r^=(n.charCodeAt(a+2)&255)<<16;case 2:r^=(n.charCodeAt(a+1)&255)<<8;case 1:r^=n.charCodeAt(a)&255,r=(r&65535)*1540483477+(((r>>>16)*1540483477&65535)<<16)}return r^=r>>>13,r=(r&65535)*1540483477+(((r>>>16)*1540483477&65535)<<16),r^=r>>>15,r>>>0}var zN=n=>BN(n,1).toString(36),FN=/[A-Z]/g,UN=/^ms-/,Ly={};function HN(n){return"-"+n.toLowerCase()}function WN(n){if(n in Ly)return Ly[n];var e=n.replace(FN,HN);return Ly[n]=UN.test(e)?"-"+e:e}var wf={},xf={},Cf={},Aw;function eA(){if(Aw)return Cf;Aw=1,Object.defineProperty(Cf,"__esModule",{value:!0}),Cf.default=n;function n(e){return e.charAt(0).toUpperCase()+e.slice(1)}return Cf}var Iw;function qN(){if(Iw)return xf;Iw=1,Object.defineProperty(xf,"__esModule",{value:!0}),xf.default=r;var n=eA(),e=t(n);function t(a){return a&&a.__esModule?a:{default:a}}function r(a,o,u){var c=a[o];if(c&&u.hasOwnProperty(o))for(var h=(0,e.default)(o),f=0;f<c.length;++f){var g=c[f]+h;u[g]||(u[g]=u[o])}return u}return xf}var Rf={},kw;function GN(){if(kw)return Rf;kw=1,Object.defineProperty(Rf,"__esModule",{value:!0}),Rf.default=n;function n(e,t,r,a,o){for(var u=0,c=e.length;u<c;++u){var h=e[u](t,r,a,o);if(h)return h}}return Rf}var Af={},Ow;function KN(){if(Ow)return Af;Ow=1,Object.defineProperty(Af,"__esModule",{value:!0}),Af.default=e;function n(t,r){t.indexOf(r)===-1&&t.push(r)}function e(t,r){if(Array.isArray(r))for(var a=0,o=r.length;a<o;++a)n(t,r[a]);else n(t,r)}return Af}var If={},Dw;function $N(){if(Dw)return If;Dw=1,Object.defineProperty(If,"__esModule",{value:!0}),If.default=n;function n(e){return e instanceof Object&&!Array.isArray(e)}return If}var Nw;function YN(){if(Nw)return wf;Nw=1,Object.defineProperty(wf,"__esModule",{value:!0}),wf.default=f;var n=qN(),e=h(n),t=GN(),r=h(t),a=KN(),o=h(a),u=$N(),c=h(u);function h(g){return g&&g.__esModule?g:{default:g}}function f(g){var y=g.prefixMap,_=g.plugins;return function S(T){for(var x in T){var C=T[x];if((0,c.default)(C))T[x]=S(C);else if(Array.isArray(C)){for(var I=[],R=0,O=C.length;R<O;++R){var z=(0,r.default)(_,x,C[R],T,y);(0,o.default)(I,z||C[R])}I.length>0&&(T[x]=I)}else{var H=(0,r.default)(_,x,C,T,y);H&&(T[x]=H),T=(0,e.default)(y,x,T)}}return T}}return wf}var QN=YN();const XN=tr(QN);var kf={};function lm(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lm=function(t){return typeof t}:lm=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lm(n)}function JN(n){return nM(n)||tM(n)||eM(n)||ZN()}function ZN(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eM(n,e){if(n){if(typeof n=="string")return g_(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(t);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return g_(n,e)}}function tM(n){if(typeof Symbol<"u"&&Symbol.iterator in Object(n))return Array.from(n)}function nM(n){if(Array.isArray(n))return g_(n)}function g_(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Mw(n){return n.filter(function(e,t){return n.lastIndexOf(e)===t})}function tA(n){for(var e=0,t=arguments.length<=1?0:arguments.length-1;e<t;++e){var r=e+1<1||arguments.length<=e+1?void 0:arguments[e+1];for(var a in r){var o=r[a],u=n[a];if(u&&o){if(Array.isArray(u)){n[a]=Mw(u.concat(o));continue}if(Array.isArray(o)){n[a]=Mw([u].concat(JN(o)));continue}if(lm(o)==="object"){n[a]=tA({},u,o);continue}}n[a]=o}}return n}var rM=/-([a-z])/g,iM=/^Ms/g,Vy={};function aM(n){return n[1].toUpperCase()}function nA(n){if(Vy.hasOwnProperty(n))return Vy[n];var e=n.replace(rM,aM).replace(iM,"ms");return Vy[n]=e,e}var sM=/[A-Z]/g,oM=/^ms-/,jy={};function lM(n){return"-"+n.toLowerCase()}function rA(n){if(jy.hasOwnProperty(n))return jy[n];var e=n.replace(sM,lM);return jy[n]=oM.test(e)?"-"+e:e}const uM=Object.freeze(Object.defineProperty({__proto__:null,default:rA},Symbol.toStringTag,{value:"Module"}));function cg(n){return rA(n)}function iA(n,e){return cg(n)+":"+e}function cM(n){var e="";for(var t in n){var r=n[t];typeof r!="string"&&typeof r!="number"||(e&&(e+=";"),e+=iA(t,r))}return e}var dM=/^(Webkit|Moz|O|ms)/;function hM(n){return dM.test(n)}var fM=/-webkit-|-moz-|-ms-/;function mM(n){return typeof n=="string"&&fM.test(n)}var Rd={borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pw=["animationIterationCount","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridColumn","gridColumnEnd","gridColumnStart","gridRow","gridRowEnd","gridRowStart","lineClamp","order"],Lw=["Webkit","ms","Moz","O"];function gM(n,e){return n+e.charAt(0).toUpperCase()+e.slice(1)}for(var By=0,pM=Pw.length;By<pM;++By){var Vw=Pw[By];Rd[Vw]=!0;for(var zy=0,yM=Lw.length;zy<yM;++zy)Rd[gM(Lw[zy],Vw)]=!0}for(var vM in Rd)Rd[cg(vM)]=!0;function _M(n){return Rd.hasOwnProperty(n)}var bM=/^(ms|Webkit|Moz|O)/;function aA(n){var e=n.replace(bM,"");return e.charAt(0).toLowerCase()+e.slice(1)}function SM(n){return aA(nA(n))}function TM(n,e){return e.join(";"+cg(n)+":")}var EM=/(-ms-|-webkit-|-moz-|-o-)/g;function wM(n){return typeof n=="string"?n.replace(EM,""):n}const xM=Object.freeze(Object.defineProperty({__proto__:null,assignStyle:tA,camelCaseProperty:nA,cssifyDeclaration:iA,cssifyObject:cM,hyphenateProperty:cg,isPrefixedProperty:hM,isPrefixedValue:mM,isUnitlessProperty:_M,normalizeProperty:SM,resolveArrayValue:TM,unprefixProperty:aA,unprefixValue:wM},Symbol.toStringTag,{value:"Module"})),CM=JR(xM);var jw;function RM(){if(jw)return kf;jw=1,Object.defineProperty(kf,"__esModule",{value:!0}),kf.default=r;var n=CM,e=/cross-fade\(/g,t=["-webkit-",""];function r(a,o){if(typeof o=="string"&&!(0,n.isPrefixedValue)(o)&&o.indexOf("cross-fade(")!==-1)return t.map(function(u){return o.replace(e,u+"cross-fade(")})}return kf}var AM=RM();const IM=tr(AM);var Of={},Fy={},Bw;function sA(){return Bw||(Bw=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=t;var e=/-webkit-|-moz-|-ms-/;function t(r){return typeof r=="string"&&e.test(r)}})(Fy)),Fy}var zw;function kM(){if(zw)return Of;zw=1,Object.defineProperty(Of,"__esModule",{value:!0}),Of.default=a;var n=sA(),e=t(n);function t(o){return o&&o.__esModule?o:{default:o}}var r=["-webkit-",""];function a(o,u){if(typeof u=="string"&&!(0,e.default)(u)&&u.indexOf("image-set(")>-1)return r.map(function(c){return u.replace(/image-set\(/g,c+"image-set(")})}return Of}var OM=kM();const DM=tr(OM);var Df={},Fw;function NM(){if(Fw)return Df;Fw=1,Object.defineProperty(Df,"__esModule",{value:!0}),Df.default=e;var n={marginBlockStart:["WebkitMarginBefore"],marginBlockEnd:["WebkitMarginAfter"],marginInlineStart:["WebkitMarginStart","MozMarginStart"],marginInlineEnd:["WebkitMarginEnd","MozMarginEnd"],paddingBlockStart:["WebkitPaddingBefore"],paddingBlockEnd:["WebkitPaddingAfter"],paddingInlineStart:["WebkitPaddingStart","MozPaddingStart"],paddingInlineEnd:["WebkitPaddingEnd","MozPaddingEnd"],borderBlockStart:["WebkitBorderBefore"],borderBlockStartColor:["WebkitBorderBeforeColor"],borderBlockStartStyle:["WebkitBorderBeforeStyle"],borderBlockStartWidth:["WebkitBorderBeforeWidth"],borderBlockEnd:["WebkitBorderAfter"],borderBlockEndColor:["WebkitBorderAfterColor"],borderBlockEndStyle:["WebkitBorderAfterStyle"],borderBlockEndWidth:["WebkitBorderAfterWidth"],borderInlineStart:["WebkitBorderStart","MozBorderStart"],borderInlineStartColor:["WebkitBorderStartColor","MozBorderStartColor"],borderInlineStartStyle:["WebkitBorderStartStyle","MozBorderStartStyle"],borderInlineStartWidth:["WebkitBorderStartWidth","MozBorderStartWidth"],borderInlineEnd:["WebkitBorderEnd","MozBorderEnd"],borderInlineEndColor:["WebkitBorderEndColor","MozBorderEndColor"],borderInlineEndStyle:["WebkitBorderEndStyle","MozBorderEndStyle"],borderInlineEndWidth:["WebkitBorderEndWidth","MozBorderEndWidth"]};function e(t,r,a){if(Object.prototype.hasOwnProperty.call(n,t))for(var o=n[t],u=0,c=o.length;u<c;++u)a[o[u]]=r}return Df}var MM=NM();const PM=tr(MM);var Nf={},Uw;function LM(){if(Uw)return Nf;Uw=1,Object.defineProperty(Nf,"__esModule",{value:!0}),Nf.default=n;function n(e,t){if(e==="position"&&t==="sticky")return["-webkit-sticky","sticky"]}return Nf}var VM=LM();const jM=tr(VM);var Mf={},Hw;function BM(){if(Hw)return Mf;Hw=1,Object.defineProperty(Mf,"__esModule",{value:!0}),Mf.default=r;var n=["-webkit-","-moz-",""],e={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},t={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};function r(a,o){if(e.hasOwnProperty(a)&&t.hasOwnProperty(o))return n.map(function(u){return u+o})}return Mf}var zM=BM();const FM=tr(zM);var Pf={},Uy={};const UM=JR(uM);var Ww;function HM(){return Ww||(Ww=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=a;var e=UM,t=r(e);function r(o){return o&&o.__esModule?o:{default:o}}function a(o){return(0,t.default)(o)}})(Uy)),Uy}var qw;function WM(){if(qw)return Pf;qw=1,Object.defineProperty(Pf,"__esModule",{value:!0}),Pf.default=g;var n=HM(),e=u(n),t=sA(),r=u(t),a=eA(),o=u(a);function u(y){return y&&y.__esModule?y:{default:y}}var c={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},h={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"};function f(y,_){if((0,r.default)(y))return y;for(var S=y.split(/,(?![^()]*(?:\([^()]*\))?\))/g),T=0,x=S.length;T<x;++T){var C=S[T],I=[C];for(var R in _){var O=(0,e.default)(R);if(C.indexOf(O)>-1&&O!=="order")for(var z=_[R],H=0,F=z.length;H<F;++H)I.unshift(C.replace(O,h[z[H]]+O))}S[T]=I.join(",")}return S.join(",")}function g(y,_,S,T){if(typeof _=="string"&&c.hasOwnProperty(y)){var x=f(_,T),C=x.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(R){return!/-moz-|-ms-/.test(R)}).join(",");if(y.indexOf("Webkit")>-1)return C;var I=x.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(R){return!/-webkit-|-ms-/.test(R)}).join(",");return y.indexOf("Moz")>-1?I:(S["Webkit"+(0,o.default)(y)]=C,S["Moz"+(0,o.default)(y)]=I,x)}}return Pf}var qM=WM();const GM=tr(qM);var Vt=["Webkit"],KM=["Moz"],$M=["Webkit","Moz"],rn=["Webkit","ms"],YM=["Webkit","Moz","ms"];const QM={plugins:[IM,DM,PM,jM,FM,GM],prefixMap:{appearance:YM,userSelect:$M,textEmphasisPosition:rn,textEmphasis:rn,textEmphasisStyle:rn,textEmphasisColor:rn,boxDecorationBreak:rn,clipPath:Vt,maskImage:rn,maskMode:rn,maskRepeat:rn,maskPosition:rn,maskClip:rn,maskOrigin:rn,maskSize:rn,maskComposite:rn,mask:rn,maskBorderSource:rn,maskBorderMode:rn,maskBorderSlice:rn,maskBorderWidth:rn,maskBorderOutset:rn,maskBorderRepeat:rn,maskBorder:rn,maskType:rn,textDecorationStyle:Vt,textDecorationSkip:Vt,textDecorationLine:Vt,textDecorationColor:Vt,filter:Vt,breakAfter:Vt,breakBefore:Vt,breakInside:Vt,columnCount:Vt,columnFill:Vt,columnGap:Vt,columnRule:Vt,columnRuleColor:Vt,columnRuleStyle:Vt,columnRuleWidth:Vt,columns:Vt,columnSpan:Vt,columnWidth:Vt,backdropFilter:Vt,hyphens:Vt,flowInto:Vt,flowFrom:Vt,regionFragment:Vt,textOrientation:Vt,tabSize:KM,fontKerning:Vt,textSizeAdjust:Vt}};var XM=XN(QM),JM=["animationKeyframes"],Gw=new Map,ZM={},eP=1,tP=3,nP={borderColor:2,borderRadius:2,borderStyle:2,borderWidth:2,display:2,flex:2,inset:2,margin:2,overflow:2,overscrollBehavior:2,padding:2,insetBlock:2.1,insetInline:2.1,marginInline:2.1,marginBlock:2.1,paddingInline:2.1,paddingBlock:2.1,borderBlockStartColor:2.2,borderBlockStartStyle:2.2,borderBlockStartWidth:2.2,borderBlockEndColor:2.2,borderBlockEndStyle:2.2,borderBlockEndWidth:2.2,borderInlineStartColor:2.2,borderInlineStartStyle:2.2,borderInlineStartWidth:2.2,borderInlineEndColor:2.2,borderInlineEndStyle:2.2,borderInlineEndWidth:2.2,borderEndStartRadius:2.2,borderEndEndRadius:2.2,borderStartStartRadius:2.2,borderStartEndRadius:2.2,insetBlockEnd:2.2,insetBlockStart:2.2,insetInlineEnd:2.2,insetInlineStart:2.2,marginBlockStart:2.2,marginBlockEnd:2.2,marginInlineStart:2.2,marginInlineEnd:2.2,paddingBlockStart:2.2,paddingBlockEnd:2.2,paddingInlineStart:2.2,paddingInlineEnd:2.2},p_="borderTopLeftRadius",y_="borderTopRightRadius",v_="borderBottomLeftRadius",__="borderBottomRightRadius",b_="borderLeftColor",S_="borderLeftStyle",T_="borderLeftWidth",E_="borderRightColor",w_="borderRightStyle",x_="borderRightWidth",C_="right",R_="marginLeft",A_="marginRight",I_="paddingLeft",k_="paddingRight",O_="left",Rm={[p_]:y_,[y_]:p_,[v_]:__,[__]:v_,[b_]:E_,[S_]:w_,[T_]:x_,[E_]:b_,[w_]:S_,[x_]:T_,[O_]:C_,[R_]:A_,[A_]:R_,[I_]:k_,[k_]:I_,[C_]:O_},gd={borderStartStartRadius:p_,borderStartEndRadius:y_,borderEndStartRadius:v_,borderEndEndRadius:__,borderInlineStartColor:b_,borderInlineStartStyle:S_,borderInlineStartWidth:T_,borderInlineEndColor:E_,borderInlineEndStyle:w_,borderInlineEndWidth:x_,insetInlineEnd:C_,insetInlineStart:O_,marginInlineStart:R_,marginInlineEnd:A_,paddingInlineStart:I_,paddingInlineEnd:k_},oA=["clear","float","textAlign"];function rP(n){var e={$$css:!0},t=[];function r(a,o,u){var c=sP(u,o),h=o+c,f=Gw.get(h),g;if(f!=null)g=f[0],t.push(f[1]);else{var y=a!==o?h:c;g=A0("r",a,y);var _=nP[a]||tP,S=oP(g,o,u),T=[S,_];t.push(T),Gw.set(h,[g,T])}return g}return Object.keys(n).sort().forEach(a=>{var o=n[a];if(o!=null){var u;if(oA.indexOf(a)>-1){var c=r(a,a,"left"),h=r(a,a,"right");o==="start"?u=[c,h]:o==="end"&&(u=[h,c])}var f=gd[a];if(f!=null){var g=r(a,f,o),y=r(a,Rm[f],o);u=[g,y]}if(a==="transitionProperty"){for(var _=Array.isArray(o)?o:[o],S=[],T=0;T<_.length;T++){var x=_[T];typeof x=="string"&&gd[x]!=null&&S.push(T)}if(S.length>0){var C=[..._],I=[..._];S.forEach(R=>{var O=C[R];if(typeof O=="string"){var z=gd[O],H=Rm[z];C[R]=z,I[R]=H;var F=r(a,a,C),N=r(a,a,I);u=[F,N]}})}}u==null?u=r(a,a,o):e.$$css$localize=!0,e[a]=u}}),[e,t]}function iP(n,e){var t={$$css:!0},r=[],a=n.animationKeyframes,o=An(n,JM),u=A0("css",e,JSON.stringify(n)),c="."+u,h;if(a!=null){var f=lA(a),g=f[0],y=f[1];h=g.join(","),r.push(...y)}var _=Sa(Ee(Ee({},o),{},{animationName:h}));return r.push(""+c+_),t[u]=u,[t,[[r,eP]]]}function aP(n,e){var t=n||ZM,r={},a={},o=function(){var f=t[u],g=u,y=f;if(!Object.prototype.hasOwnProperty.call(t,u)||f==null)return"continue";oA.indexOf(u)>-1&&(f==="start"?y=e?"right":"left":f==="end"&&(y=e?"left":"right"));var _=gd[u];if(_!=null&&(g=e?Rm[_]:_),u==="transitionProperty"){var S=Array.isArray(f)?f:[f];S.forEach((T,x)=>{if(typeof T=="string"){var C=gd[T];C!=null&&(S[x]=e?Rm[C]:C,y=S.join(" "))}})}r[g]||(a[g]=y),g===u&&(r[g]=!0)};for(var u in t)var c=o();return ZR(a,!0)}function sP(n,e){var t=Sr(n,e);return typeof t!="string"?JSON.stringify(t||""):t}function oP(n,e,t){var r=[],a="."+n;switch(e){case"animationKeyframes":{var o=lA(t),u=o[0],c=o[1],h=Sa({animationName:u.join(",")});r.push(""+a+h,...c);break}case"placeholderTextColor":{var f=Sa({color:t,opacity:1});r.push(a+"::-webkit-input-placeholder"+f,a+"::-moz-placeholder"+f,a+":-ms-input-placeholder"+f,a+"::placeholder"+f);break}case"pointerEvents":{var g=t;if(t==="auto")g="auto!important";else if(t==="none"){g="none!important";var y=Sa({pointerEvents:"none"});r.push(a+">* "+y)}else if(t==="box-none"){g="none!important";var _=Sa({pointerEvents:"auto"});r.push(a+">* "+_)}else if(t==="box-only"){g="auto!important";var S=Sa({pointerEvents:"none"});r.push(a+">* "+S)}var T=Sa({pointerEvents:g});r.push(""+a+T);break}case"scrollbarWidth":{t==="none"&&r.push(a+"::-webkit-scrollbar{display:none}");var x=Sa({scrollbarWidth:t});r.push(""+a+x);break}default:{var C=Sa({[e]:t});r.push(""+a+C);break}}return r}function Sa(n){var e=XM(ZR(n)),t=Object.keys(e).map(r=>{var a=e[r],o=WN(r);return Array.isArray(a)?a.map(u=>o+":"+u).join(";"):o+":"+a}).sort().join(";");return"{"+t+";}"}function A0(n,e,t){var r=zN(e+t);return n+"-"+r}function lP(n){var e=["-webkit-",""],t=A0("r","animation",JSON.stringify(n)),r="{"+Object.keys(n).map(o=>{var u=n[o],c=Sa(u);return""+o+c}).join("")+"}",a=e.map(o=>"@"+o+"keyframes "+t+r);return[t,a]}function lA(n){if(typeof n=="number")throw new Error("Invalid CSS keyframes type: "+typeof n);var e=[],t=[],r=Array.isArray(n)?n:[n];return r.forEach(a=>{if(typeof a=="string")e.push(a);else{var o=lP(a),u=o[0],c=o[1];e.push(u),t.push(...c)}}),[e,t]}function Hy(n,e,t){if(Gt){var r=e??document,a=r.getElementById(n);if(a==null)if(a=document.createElement("style"),a.setAttribute("id",n),typeof t=="string"&&a.appendChild(document.createTextNode(t)),r instanceof ShadowRoot)r.insertBefore(a,r.firstChild);else{var o=r.head;o&&o.insertBefore(a,o.firstChild)}return a.sheet}else return null}var uP=Array.prototype.slice;function Wy(n){var e={},t={};if(n!=null){var r;uP.call(n.cssRules).forEach((u,c)=>{var h=u.cssText;if(h.indexOf("stylesheet-group")>-1)r=hP(u),e[r]={start:c,rules:[h]};else{var f=$w(h);f!=null&&(t[f]=!0,e[r].rules.push(h))}})}function a(u,c,h){var f=Kw(e),g=f.indexOf(c),y=g+1,_=f[y],S=_!=null&&e[_].start!=null?e[_].start:u.cssRules.length,T=mP(u,h,S);if(T){e[c].start==null&&(e[c].start=S);for(var x=y;x<f.length;x+=1){var C=f[x],I=e[C].start||0;e[C].start=I+1}}return T}var o={getTextContent(){return Kw(e).map(u=>{var c=e[u].rules,h=c.shift();return c.sort(),c.unshift(h),c.join(`
`)}).join(`
`)},insert(u,c){var h=Number(c);if(e[h]==null){var f=cP(h);e[h]={start:null,rules:[f]},n!=null&&a(n,h,f)}var g=$w(u);if(g!=null&&t[g]==null&&(t[g]=!0,e[h].rules.push(u),n!=null)){var y=a(n,h,u);y||e[h].rules.pop()}}};return o}function cP(n){return'[stylesheet-group="'+n+'"]{}'}var dP=/["']/g;function hP(n){return Number(n.selectorText.split(dP)[1])}function Kw(n){return Object.keys(n).map(Number).sort((e,t)=>e>t?1:-1)}var fP=/\s*([,])\s*/g;function $w(n){var e=n.split("{")[0].trim();return e!==""?e.replace(fP,"$1"):null}function mP(n,e,t){try{return n.insertRule(e,t),!0}catch{return!1}}var gP="react-native-stylesheet",qy=new WeakMap,qi=[],Yw=["html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0);}","body{margin:0;}","button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0;}","input::-webkit-search-cancel-button,input::-webkit-search-decoration,input::-webkit-search-results-button,input::-webkit-search-results-decoration{display:none;}"];function I0(n,e){e===void 0&&(e=gP);var t;if(Gt){var r=n!=null?n.getRootNode():document;if(qi.length===0)t=Wy(Hy(e)),Yw.forEach(c=>{t.insert(c,0)}),qy.set(r,qi.length),qi.push(t);else{var a=qy.get(r);if(a==null){var o=qi[0],u=o!=null?o.getTextContent():"";t=Wy(Hy(e,r,u)),qy.set(r,qi.length),qi.push(t)}else t=qi[a]}}else qi.length===0?(t=Wy(Hy(e)),Yw.forEach(c=>{t.insert(c,0)}),qi.push(t)):t=qi[0];return{getTextContent(){return t.getTextContent()},id:e,insert(c,h){qi.forEach(f=>{f.insert(c,h)})}}}var Lf={},Qw;function pP(){if(Qw)return Lf;Qw=1,Object.defineProperty(Lf,"__esModule",{value:!0}),Lf.localizeStyle=r;var n=new WeakMap,e="$$css$localize";function t(a,o){var u={};for(var c in a)if(c!==e){var h=a[c];Array.isArray(h)?u[c]=o?h[1]:h[0]:u[c]=h}return u}function r(a,o){if(a[e]!=null){var u=o?1:0;if(n.has(a)){var c=n.get(a),h=c[u];return h==null&&(h=t(a,o),c[u]=h,n.set(a,c)),h}var f=t(a,o),g=new Array(2);return g[u]=f,n.set(a,g),f}return a}return Lf}var Gy,Xw;function yP(){return Xw||(Xw=1,Gy=pP()),Gy}var vP=yP(),_P={},uA={height:0,width:0},cA=n=>{var e=n.shadowColor,t=n.shadowOffset,r=n.shadowOpacity,a=n.shadowRadius,o=t||uA,u=o.height,c=o.width,h=Sr(c),f=Sr(u),g=Sr(a||0),y=R0(e||"black",r);if(y!=null&&h!=null&&f!=null&&g!=null)return h+" "+f+" "+g+" "+y},bP=n=>{var e=n.textShadowColor,t=n.textShadowOffset,r=n.textShadowRadius,a=t||uA,o=a.height,u=a.width,c=r||0,h=Sr(u),f=Sr(o),g=Sr(c),y=Sr(e,"textShadowColor");if(y&&(o!==0||u!==0||c!==0)&&h!=null&&f!=null&&g!=null)return h+" "+f+" "+g+" "+y},SP=n=>{if(typeof n=="string")return n;var e=Sr(n.offsetX)||0,t=Sr(n.offsetY)||0,r=Sr(n.blurRadius)||0,a=Sr(n.spreadDistance)||0,o=R0(n.color)||"black",u=n.inset?"inset ":"";return""+u+e+" "+t+" "+r+" "+a+" "+o},TP=n=>n.map(SP).join(", "),EP=n=>{var e=Object.keys(n)[0],t=n[e];if(e==="matrix"||e==="matrix3d")return e+"("+t.join(",")+")";var r=Sr(t,e);return e+"("+r+")"},wP=n=>n.map(EP).join(" "),xP=n=>n.map(e=>Sr(e)).join(" "),CP={borderBottomEndRadius:"borderEndEndRadius",borderBottomStartRadius:"borderEndStartRadius",borderTopEndRadius:"borderStartEndRadius",borderTopStartRadius:"borderStartStartRadius",borderEndColor:"borderInlineEndColor",borderEndStyle:"borderInlineEndStyle",borderEndWidth:"borderInlineEndWidth",borderStartColor:"borderInlineStartColor",borderStartStyle:"borderInlineStartStyle",borderStartWidth:"borderInlineStartWidth",end:"insetInlineEnd",marginEnd:"marginInlineEnd",marginHorizontal:"marginInline",marginStart:"marginInlineStart",marginVertical:"marginBlock",paddingEnd:"paddingInlineEnd",paddingHorizontal:"paddingInline",paddingStart:"paddingInlineStart",paddingVertical:"paddingBlock",start:"insetInlineStart"},RP={elevation:!0,overlayColor:!0,resizeMode:!0,tintColor:!0},dA=function(e,t){t===void 0&&(t={});var r=e||_P,a={};if(t.shadow,r.shadowColor!=null||r.shadowOffset!=null||r.shadowOpacity!=null||r.shadowRadius!=null){var o=cA(r);o!=null&&(a.boxShadow=o)}if(t.textShadow,r.textShadowColor!=null||r.textShadowOffset!=null||r.textShadowRadius!=null){var u=bP(r);if(u!=null&&a.textShadow==null){var c=r.textShadow,h=c?c+", "+u:u;a.textShadow=h}}for(var f in r)if(!(RP[f]!=null||f==="shadowColor"||f==="shadowOffset"||f==="shadowOpacity"||f==="shadowRadius"||f==="textShadowColor"||f==="textShadowOffset"||f==="textShadowRadius")){var g=r[f],y=CP[f]||f,_=g;if(!(!Object.prototype.hasOwnProperty.call(r,f)||y!==f&&r[y]!=null))if(y==="aspectRatio"&&typeof _=="number")a[y]=_.toString();else if(y==="boxShadow"){Array.isArray(_)&&(_=TP(_));var S=a.boxShadow;a.boxShadow=S?_+", "+S:_}else y==="fontVariant"?(Array.isArray(_)&&_.length>0&&(_=_.join(" ")),a[y]=_):y==="textAlignVertical"?r.verticalAlign==null&&(a.verticalAlign=_==="center"?"middle":_):y==="transform"?(Array.isArray(_)&&(_=wP(_)),a.transform=_):y==="transformOrigin"?(Array.isArray(_)&&(_=xP(_)),a.transformOrigin=_):a[y]=_}return a},Hc={},Jw;function AP(){if(Jw)return Hc;Jw=1,Object.defineProperty(Hc,"__esModule",{value:!0}),Hc.styleq=void 0;var n=new WeakMap,e="$$css";function t(a){var o,u,c;return a!=null&&(o=a.disableCache===!0,u=a.disableMix===!0,c=a.transform),function(){for(var f=[],g="",y=null,_=o?null:n,S=new Array(arguments.length),T=0;T<arguments.length;T++)S[T]=arguments[T];for(;S.length>0;){var x=S.pop();if(!(x==null||x===!1)){if(Array.isArray(x)){for(var C=0;C<x.length;C++)S.push(x[C]);continue}var I=c!=null?c(x):x;if(I.$$css){var R="";if(_!=null&&_.has(I)){var O=_.get(I);O!=null&&(R=O[0],f.push.apply(f,O[1]),_=O[2])}else{var z=[];for(var H in I){var F=I[H];H!==e&&(typeof F=="string"||F===null?f.includes(H)||(f.push(H),_!=null&&z.push(H),typeof F=="string"&&(R+=R?" "+F:F)):console.error("styleq: ".concat(H," typeof ").concat(String(F),' is not "string" or "null".')))}if(_!=null){var N=new WeakMap;_.set(I,[R,z,N]),_=N}}R&&(g=g?R+" "+g:R)}else if(u)y==null&&(y={}),y=Object.assign({},I,y);else{var D=null;for(var V in I){var B=I[V];B!==void 0&&(f.includes(V)||(B!=null&&(y==null&&(y={}),D==null&&(D={}),D[V]=B),f.push(V),_=null))}D!=null&&(y=Object.assign(D,y))}}}var L=[g,y];return L}}var r=t();return Hc.styleq=r,r.factory=t,Hc}var IP=AP(),kP=["writingDirection"],hA=new WeakMap,Am=I0(),fA={shadow:!0,textShadow:!0};function OP(n,e){e===void 0&&(e={});var t=e,r=t.writingDirection,a=An(t,kP),o=r==="rtl";return IP.styleq.factory({transform(u){var c=hA.get(u);return c!=null?vP.localizeStyle(c,o):dA(u,Ee(Ee({},fA),a))}})(n)}function mA(n){n.forEach(e=>{var t=e[0],r=e[1];Am!=null&&t.forEach(a=>{Am.insert(a,r)})})}function DP(n){var e=rP(dA(n,fA)),t=e[0],r=e[1];return mA(r),t}function NP(n,e){var t=iP(n,e),r=t[0],a=t[1];return mA(a),r}var gA={position:"absolute",left:0,right:0,top:0,bottom:0},MP=pA({x:Ee({},gA)}).x;function pA(n){return Object.keys(n).forEach(e=>{var t=n[e];if(t!=null&&t.$$css!==!0){var r;e.indexOf("$raw")>-1?r=NP(t,e.split("$raw")[0]):r=DP(t),hA.set(t,r)}}),n}function PP(n,e){return[n,e]}function LP(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];for(var r=e.flat(1/0),a={},o=0;o<r.length;o++){var u=r[o];u!=null&&typeof u=="object"&&Object.assign(a,u)}return a}function VP(){return{id:Am.id,textContent:Am.getTextContent()}}function vs(n,e){e===void 0&&(e={});var t=e.writingDirection==="rtl",r=OP(n,e);return Array.isArray(r)&&r[1]!=null&&(r[1]=aP(r[1],t)),r}vs.absoluteFill=MP;vs.absoluteFillObject=gA;vs.create=pA;vs.compose=PP;vs.flatten=LP;vs.getSheet=VP;vs.hairlineWidth=1;Gt&&window.__REACT_DEVTOOLS_GLOBAL_HOOK__&&(window.__REACT_DEVTOOLS_GLOBAL_HOOK__.resolveRNStyle=vs.flatten);var Ne=vs,jP=["aria-activedescendant","accessibilityActiveDescendant","aria-atomic","accessibilityAtomic","aria-autocomplete","accessibilityAutoComplete","aria-busy","accessibilityBusy","aria-checked","accessibilityChecked","aria-colcount","accessibilityColumnCount","aria-colindex","accessibilityColumnIndex","aria-colspan","accessibilityColumnSpan","aria-controls","accessibilityControls","aria-current","accessibilityCurrent","aria-describedby","accessibilityDescribedBy","aria-details","accessibilityDetails","aria-disabled","accessibilityDisabled","aria-errormessage","accessibilityErrorMessage","aria-expanded","accessibilityExpanded","aria-flowto","accessibilityFlowTo","aria-haspopup","accessibilityHasPopup","aria-hidden","accessibilityHidden","aria-invalid","accessibilityInvalid","aria-keyshortcuts","accessibilityKeyShortcuts","aria-label","accessibilityLabel","aria-labelledby","accessibilityLabelledBy","aria-level","accessibilityLevel","aria-live","accessibilityLiveRegion","aria-modal","accessibilityModal","aria-multiline","accessibilityMultiline","aria-multiselectable","accessibilityMultiSelectable","aria-orientation","accessibilityOrientation","aria-owns","accessibilityOwns","aria-placeholder","accessibilityPlaceholder","aria-posinset","accessibilityPosInSet","aria-pressed","accessibilityPressed","aria-readonly","accessibilityReadOnly","aria-required","accessibilityRequired","role","accessibilityRole","aria-roledescription","accessibilityRoleDescription","aria-rowcount","accessibilityRowCount","aria-rowindex","accessibilityRowIndex","aria-rowspan","accessibilityRowSpan","aria-selected","accessibilitySelected","aria-setsize","accessibilitySetSize","aria-sort","accessibilitySort","aria-valuemax","accessibilityValueMax","aria-valuemin","accessibilityValueMin","aria-valuenow","accessibilityValueNow","aria-valuetext","accessibilityValueText","dataSet","focusable","id","nativeID","pointerEvents","style","tabIndex","testID"],BP={},zP=Object.prototype.hasOwnProperty,FP=Array.isArray,UP=/[A-Z]/g;function HP(n){return"-"+n.toLowerCase()}function WP(n){return n.replace(UP,HP)}function gu(n){return FP(n)?n.join(" "):n}var qP=Ne.create({auto:{pointerEvents:"auto"},"box-none":{pointerEvents:"box-none"},"box-only":{pointerEvents:"box-only"},none:{pointerEvents:"none"}}),GP=(n,e,t)=>{e||(e=BP);var r=e,a=r["aria-activedescendant"],o=r.accessibilityActiveDescendant,u=r["aria-atomic"],c=r.accessibilityAtomic,h=r["aria-autocomplete"],f=r.accessibilityAutoComplete,g=r["aria-busy"],y=r.accessibilityBusy,_=r["aria-checked"],S=r.accessibilityChecked,T=r["aria-colcount"],x=r.accessibilityColumnCount,C=r["aria-colindex"],I=r.accessibilityColumnIndex,R=r["aria-colspan"],O=r.accessibilityColumnSpan,z=r["aria-controls"],H=r.accessibilityControls,F=r["aria-current"],N=r.accessibilityCurrent,D=r["aria-describedby"],V=r.accessibilityDescribedBy,B=r["aria-details"],L=r.accessibilityDetails,q=r["aria-disabled"],M=r.accessibilityDisabled,ue=r["aria-errormessage"],me=r.accessibilityErrorMessage,Y=r["aria-expanded"],se=r.accessibilityExpanded,ge=r["aria-flowto"],ee=r.accessibilityFlowTo,ie=r["aria-haspopup"],G=r.accessibilityHasPopup,X=r["aria-hidden"],ye=r.accessibilityHidden,be=r["aria-invalid"],Ie=r.accessibilityInvalid,De=r["aria-keyshortcuts"],ke=r.accessibilityKeyShortcuts,Ve=r["aria-label"],$e=r.accessibilityLabel,We=r["aria-labelledby"],gt=r.accessibilityLabelledBy,xt=r["aria-level"],le=r.accessibilityLevel,Se=r["aria-live"],Ct=r.accessibilityLiveRegion,Rt=r["aria-modal"],sn=r.accessibilityModal,mn=r["aria-multiline"],et=r.accessibilityMultiline,ve=r["aria-multiselectable"],je=r.accessibilityMultiSelectable,Ze=r["aria-orientation"],Kt=r.accessibilityOrientation,Pt=r["aria-owns"],Tt=r.accessibilityOwns,gn=r["aria-placeholder"],Un=r.accessibilityPlaceholder,fr=r["aria-posinset"],Na=r.accessibilityPosInSet,Oi=r["aria-pressed"],na=r.accessibilityPressed,Di=r["aria-readonly"],Hn=r.accessibilityReadOnly,$t=r["aria-required"],nt=r.accessibilityRequired;r.role,r.accessibilityRole;var kt=r["aria-roledescription"],ra=r.accessibilityRoleDescription,jr=r["aria-rowcount"],ia=r.accessibilityRowCount,Wn=r["aria-rowindex"],Br=r.accessibilityRowIndex,Re=r["aria-rowspan"],ft=r.accessibilityRowSpan,zt=r["aria-selected"],In=r.accessibilitySelected,wr=r["aria-setsize"],di=r.accessibilitySetSize,mr=r["aria-sort"],aa=r.accessibilitySort,Ni=r["aria-valuemax"],xr=r.accessibilityValueMax,zr=r["aria-valuemin"],Fr=r.accessibilityValueMin,Cr=r["aria-valuenow"],Ur=r.accessibilityValueNow,Ln=r["aria-valuetext"],nr=r.accessibilityValueText,kn=r.dataSet,Et=r.focusable,on=r.id,hi=r.nativeID,Ma=r.pointerEvents,nc=r.style,sa=r.tabIndex,jo=r.testID,Ae=An(r,jP),bs=q||M,pn=XR.propsToAriaRole(e),gr=a??o;gr!=null&&(Ae["aria-activedescendant"]=gr);var rr=u!=null?a:c;rr!=null&&(Ae["aria-atomic"]=rr);var Hr=h??f;Hr!=null&&(Ae["aria-autocomplete"]=Hr);var Xt=g??y;Xt!=null&&(Ae["aria-busy"]=Xt);var Ss=_??S;Ss!=null&&(Ae["aria-checked"]=Ss);var Ts=T??x;Ts!=null&&(Ae["aria-colcount"]=Ts);var Wr=C??I;Wr!=null&&(Ae["aria-colindex"]=Wr);var qr=R??O;qr!=null&&(Ae["aria-colspan"]=qr);var Es=z??H;Es!=null&&(Ae["aria-controls"]=gu(Es));var ws=F??N;ws!=null&&(Ae["aria-current"]=ws);var xs=D??V;xs!=null&&(Ae["aria-describedby"]=gu(xs));var Bo=B??L;Bo!=null&&(Ae["aria-details"]=Bo),bs===!0&&(Ae["aria-disabled"]=!0,(n==="button"||n==="form"||n==="input"||n==="select"||n==="textarea")&&(Ae.disabled=!0));var Pa=ue??me;Pa!=null&&(Ae["aria-errormessage"]=Pa);var ir=Y??se;ir!=null&&(Ae["aria-expanded"]=ir);var Jt=ge??ee;Jt!=null&&(Ae["aria-flowto"]=gu(Jt));var ln=ie??G;ln!=null&&(Ae["aria-haspopup"]=ln);var Mi=X??ye;Mi===!0&&(Ae["aria-hidden"]=Mi);var Cs=be??Ie;Cs!=null&&(Ae["aria-invalid"]=Cs);var pt=De??ke;pt!=null&&(Ae["aria-keyshortcuts"]=gu(pt));var oa=Ve??$e;oa!=null&&(Ae["aria-label"]=oa);var Gr=We??gt;Gr!=null&&(Ae["aria-labelledby"]=gu(Gr));var la=xt??le;la!=null&&(Ae["aria-level"]=la);var Vn=Se??Ct;Vn!=null&&(Ae["aria-live"]=Vn==="none"?"off":Vn);var La=Rt??sn;La!=null&&(Ae["aria-modal"]=La);var zo=mn??et;zo!=null&&(Ae["aria-multiline"]=zo);var Rs=ve??je;Rs!=null&&(Ae["aria-multiselectable"]=Rs);var Pi=Ze??Kt;Pi!=null&&(Ae["aria-orientation"]=Pi);var Fo=Pt??Tt;Fo!=null&&(Ae["aria-owns"]=gu(Fo));var Li=gn??Un;Li!=null&&(Ae["aria-placeholder"]=Li);var qn=fr??Na;qn!=null&&(Ae["aria-posinset"]=qn);var Uo=Oi??na;Uo!=null&&(Ae["aria-pressed"]=Uo);var As=Di??Hn;As!=null&&(Ae["aria-readonly"]=As,(n==="input"||n==="select"||n==="textarea")&&(Ae.readOnly=!0));var Is=$t??nt;Is!=null&&(Ae["aria-required"]=Is,(n==="input"||n==="select"||n==="textarea")&&(Ae.required=nt)),pn!=null&&(Ae.role=pn==="none"?"presentation":pn);var Va=kt??ra;Va!=null&&(Ae["aria-roledescription"]=Va);var Ho=jr??ia;Ho!=null&&(Ae["aria-rowcount"]=Ho);var Vi=Wn??Br;Vi!=null&&(Ae["aria-rowindex"]=Vi);var ja=Re??ft;ja!=null&&(Ae["aria-rowspan"]=ja);var Rr=zt??In;Rr!=null&&(Ae["aria-selected"]=Rr);var ks=wr??di;ks!=null&&(Ae["aria-setsize"]=ks);var pr=mr??aa;pr!=null&&(Ae["aria-sort"]=pr);var ji=Ni??xr;ji!=null&&(Ae["aria-valuemax"]=ji);var Kr=zr??Fr;Kr!=null&&(Ae["aria-valuemin"]=Kr);var ua=Cr??Ur;ua!=null&&(Ae["aria-valuenow"]=ua);var Ba=Ln??nr;if(Ba!=null&&(Ae["aria-valuetext"]=Ba),kn!=null){for(var fi in kn)if(zP.call(kn,fi)){var $r=WP(fi),yr=kn[fi];yr!=null&&(Ae["data-"+$r]=yr)}}sa===0||sa==="0"||sa===-1||sa==="-1"?Ae.tabIndex=sa:(Et===!1&&(Ae.tabIndex="-1"),n==="a"||n==="button"||n==="input"||n==="select"||n==="textarea"?(Et===!1||M===!0)&&(Ae.tabIndex="-1"):pn==="button"||pn==="checkbox"||pn==="link"||pn==="radio"||pn==="textbox"||pn==="switch"?Et!==!1&&(Ae.tabIndex="0"):Et===!0&&(Ae.tabIndex="0"));var ca=Ne([nc,Ma&&qP[Ma]],Ee({writingDirection:"ltr"},t)),_t=ca[0],Yr=ca[1];_t&&(Ae.className=_t),Yr&&(Ae.style=Yr);var Os=on??hi;return Os!=null&&(Ae.id=Os),jo!=null&&(Ae["data-testid"]=jo),Ae.type==null&&n==="button"&&(Ae.type="button"),Ae},Ky={exports:{}},Ge={};var Zw;function KP(){if(Zw)return Ge;Zw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),_=Symbol.iterator;function S(G){return G===null||typeof G!="object"?null:(G=_&&G[_]||G["@@iterator"],typeof G=="function"?G:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,C={};function I(G,X,ye){this.props=G,this.context=X,this.refs=C,this.updater=ye||T}I.prototype.isReactComponent={},I.prototype.setState=function(G,X){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,X,"setState")},I.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function R(){}R.prototype=I.prototype;function O(G,X,ye){this.props=G,this.context=X,this.refs=C,this.updater=ye||T}var z=O.prototype=new R;z.constructor=O,x(z,I.prototype),z.isPureReactComponent=!0;var H=Array.isArray;function F(){}var N={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function V(G,X,ye){var be=ye.ref;return{$$typeof:n,type:G,key:X,ref:be!==void 0?be:null,props:ye}}function B(G,X){return V(G.type,X,G.props)}function L(G){return typeof G=="object"&&G!==null&&G.$$typeof===n}function q(G){var X={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(ye){return X[ye]})}var M=/\/+/g;function ue(G,X){return typeof G=="object"&&G!==null&&G.key!=null?q(""+G.key):X.toString(36)}function me(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(F,F):(G.status="pending",G.then(function(X){G.status==="pending"&&(G.status="fulfilled",G.value=X)},function(X){G.status==="pending"&&(G.status="rejected",G.reason=X)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function Y(G,X,ye,be,Ie){var De=typeof G;(De==="undefined"||De==="boolean")&&(G=null);var ke=!1;if(G===null)ke=!0;else switch(De){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(G.$$typeof){case n:case e:ke=!0;break;case g:return ke=G._init,Y(ke(G._payload),X,ye,be,Ie)}}if(ke)return Ie=Ie(G),ke=be===""?"."+ue(G,0):be,H(Ie)?(ye="",ke!=null&&(ye=ke.replace(M,"$&/")+"/"),Y(Ie,X,ye,"",function(We){return We})):Ie!=null&&(L(Ie)&&(Ie=B(Ie,ye+(Ie.key==null||G&&G.key===Ie.key?"":(""+Ie.key).replace(M,"$&/")+"/")+ke)),X.push(Ie)),1;ke=0;var Ve=be===""?".":be+":";if(H(G))for(var $e=0;$e<G.length;$e++)be=G[$e],De=Ve+ue(be,$e),ke+=Y(be,X,ye,De,Ie);else if($e=S(G),typeof $e=="function")for(G=$e.call(G),$e=0;!(be=G.next()).done;)be=be.value,De=Ve+ue(be,$e++),ke+=Y(be,X,ye,De,Ie);else if(De==="object"){if(typeof G.then=="function")return Y(me(G),X,ye,be,Ie);throw X=String(G),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return ke}function se(G,X,ye){if(G==null)return G;var be=[],Ie=0;return Y(G,be,"","",function(De){return X.call(ye,De,Ie++)}),be}function ge(G){if(G._status===-1){var X=G._result;X=X(),X.then(function(ye){(G._status===0||G._status===-1)&&(G._status=1,G._result=ye)},function(ye){(G._status===0||G._status===-1)&&(G._status=2,G._result=ye)}),G._status===-1&&(G._status=0,G._result=X)}if(G._status===1)return G._result.default;throw G._result}var ee=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},ie={map:se,forEach:function(G,X,ye){se(G,function(){X.apply(this,arguments)},ye)},count:function(G){var X=0;return se(G,function(){X++}),X},toArray:function(G){return se(G,function(X){return X})||[]},only:function(G){if(!L(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return Ge.Activity=y,Ge.Children=ie,Ge.Component=I,Ge.Fragment=t,Ge.Profiler=a,Ge.PureComponent=O,Ge.StrictMode=r,Ge.Suspense=h,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(G){return N.H.useMemoCache(G)}},Ge.cache=function(G){return function(){return G.apply(null,arguments)}},Ge.cacheSignal=function(){return null},Ge.cloneElement=function(G,X,ye){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var be=x({},G.props),Ie=G.key;if(X!=null)for(De in X.key!==void 0&&(Ie=""+X.key),X)!D.call(X,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&X.ref===void 0||(be[De]=X[De]);var De=arguments.length-2;if(De===1)be.children=ye;else if(1<De){for(var ke=Array(De),Ve=0;Ve<De;Ve++)ke[Ve]=arguments[Ve+2];be.children=ke}return V(G.type,Ie,be)},Ge.createContext=function(G){return G={$$typeof:u,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:o,_context:G},G},Ge.createElement=function(G,X,ye){var be,Ie={},De=null;if(X!=null)for(be in X.key!==void 0&&(De=""+X.key),X)D.call(X,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&(Ie[be]=X[be]);var ke=arguments.length-2;if(ke===1)Ie.children=ye;else if(1<ke){for(var Ve=Array(ke),$e=0;$e<ke;$e++)Ve[$e]=arguments[$e+2];Ie.children=Ve}if(G&&G.defaultProps)for(be in ke=G.defaultProps,ke)Ie[be]===void 0&&(Ie[be]=ke[be]);return V(G,De,Ie)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(G){return{$$typeof:c,render:G}},Ge.isValidElement=L,Ge.lazy=function(G){return{$$typeof:g,_payload:{_status:-1,_result:G},_init:ge}},Ge.memo=function(G,X){return{$$typeof:f,type:G,compare:X===void 0?null:X}},Ge.startTransition=function(G){var X=N.T,ye={};N.T=ye;try{var be=G(),Ie=N.S;Ie!==null&&Ie(ye,be),typeof be=="object"&&be!==null&&typeof be.then=="function"&&be.then(F,ee)}catch(De){ee(De)}finally{X!==null&&ye.types!==null&&(X.types=ye.types),N.T=X}},Ge.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ge.use=function(G){return N.H.use(G)},Ge.useActionState=function(G,X,ye){return N.H.useActionState(G,X,ye)},Ge.useCallback=function(G,X){return N.H.useCallback(G,X)},Ge.useContext=function(G){return N.H.useContext(G)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(G,X){return N.H.useDeferredValue(G,X)},Ge.useEffect=function(G,X){return N.H.useEffect(G,X)},Ge.useEffectEvent=function(G){return N.H.useEffectEvent(G)},Ge.useId=function(){return N.H.useId()},Ge.useImperativeHandle=function(G,X,ye){return N.H.useImperativeHandle(G,X,ye)},Ge.useInsertionEffect=function(G,X){return N.H.useInsertionEffect(G,X)},Ge.useLayoutEffect=function(G,X){return N.H.useLayoutEffect(G,X)},Ge.useMemo=function(G,X){return N.H.useMemo(G,X)},Ge.useOptimistic=function(G,X){return N.H.useOptimistic(G,X)},Ge.useReducer=function(G,X,ye){return N.H.useReducer(G,X,ye)},Ge.useRef=function(G){return N.H.useRef(G)},Ge.useState=function(G){return N.H.useState(G)},Ge.useSyncExternalStore=function(G,X,ye){return N.H.useSyncExternalStore(G,X,ye)},Ge.useTransition=function(){return N.H.useTransition()},Ge.version="19.2.4",Ge}var ex;function Gd(){return ex||(ex=1,Ky.exports=KP()),Ky.exports}var E=Gd();const En=tr(E);var $P=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),tx=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","far","glk","he","iw","khw","ks","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]),nx=new Map;function YP(n){var e=nx.get(n);if(e)return e;var t=!1;if(Intl.Locale)try{var r=new Intl.Locale(n).maximize().script;t=$P.has(r)}catch{var a=n.split("-")[0];t=tx.has(a)}else{var o=n.split("-")[0];t=tx.has(o)}return nx.set(n,t),t}var QP={direction:"ltr",locale:"en-US"},yA=E.createContext(QP);function dg(n){return YP(n)?"rtl":"ltr"}function XP(n){var e=n.direction,t=n.locale,r=n.children,a=e||t;return a?En.createElement(yA.Provider,{children:r,value:{direction:t?dg(t):e,locale:t}}):r}function k0(){return E.useContext(yA)}var Dl=(n,e,t)=>{var r;n&&n.constructor===String&&(r=XR.propsToAccessibilityComponent(e));var a=r||n,o=GP(a,e,t),u=En.createElement(a,o),c=o.dir?En.createElement(XP,{children:u,direction:o.dir,locale:o.lang}):u;return c},$y={exports:{}},Wc={},Yy={exports:{}},Qy={};var rx;function JP(){return rx||(rx=1,(function(n){function e(Y,se){var ge=Y.length;Y.push(se);e:for(;0<ge;){var ee=ge-1>>>1,ie=Y[ee];if(0<a(ie,se))Y[ee]=se,Y[ge]=ie,ge=ee;else break e}}function t(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var se=Y[0],ge=Y.pop();if(ge!==se){Y[0]=ge;e:for(var ee=0,ie=Y.length,G=ie>>>1;ee<G;){var X=2*(ee+1)-1,ye=Y[X],be=X+1,Ie=Y[be];if(0>a(ye,ge))be<ie&&0>a(Ie,ye)?(Y[ee]=Ie,Y[be]=ge,ee=be):(Y[ee]=ye,Y[X]=ge,ee=X);else if(be<ie&&0>a(Ie,ge))Y[ee]=Ie,Y[be]=ge,ee=be;else break e}}return se}function a(Y,se){var ge=Y.sortIndex-se.sortIndex;return ge!==0?ge:Y.id-se.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();n.unstable_now=function(){return u.now()-c}}var h=[],f=[],g=1,y=null,_=3,S=!1,T=!1,x=!1,C=!1,I=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function z(Y){for(var se=t(f);se!==null;){if(se.callback===null)r(f);else if(se.startTime<=Y)r(f),se.sortIndex=se.expirationTime,e(h,se);else break;se=t(f)}}function H(Y){if(x=!1,z(Y),!T)if(t(h)!==null)T=!0,F||(F=!0,q());else{var se=t(f);se!==null&&me(H,se.startTime-Y)}}var F=!1,N=-1,D=5,V=-1;function B(){return C?!0:!(n.unstable_now()-V<D)}function L(){if(C=!1,F){var Y=n.unstable_now();V=Y;var se=!0;try{e:{T=!1,x&&(x=!1,R(N),N=-1),S=!0;var ge=_;try{t:{for(z(Y),y=t(h);y!==null&&!(y.expirationTime>Y&&B());){var ee=y.callback;if(typeof ee=="function"){y.callback=null,_=y.priorityLevel;var ie=ee(y.expirationTime<=Y);if(Y=n.unstable_now(),typeof ie=="function"){y.callback=ie,z(Y),se=!0;break t}y===t(h)&&r(h),z(Y)}else r(h);y=t(h)}if(y!==null)se=!0;else{var G=t(f);G!==null&&me(H,G.startTime-Y),se=!1}}break e}finally{y=null,_=ge,S=!1}se=void 0}}finally{se?q():F=!1}}}var q;if(typeof O=="function")q=function(){O(L)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,ue=M.port2;M.port1.onmessage=L,q=function(){ue.postMessage(null)}}else q=function(){I(L,0)};function me(Y,se){N=I(function(){Y(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(Y){switch(_){case 1:case 2:case 3:var se=3;break;default:se=_}var ge=_;_=se;try{return Y()}finally{_=ge}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(Y,se){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ge=_;_=Y;try{return se()}finally{_=ge}},n.unstable_scheduleCallback=function(Y,se,ge){var ee=n.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?ee+ge:ee):ge=ee,Y){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=ge+ie,Y={id:g++,callback:se,priorityLevel:Y,startTime:ge,expirationTime:ie,sortIndex:-1},ge>ee?(Y.sortIndex=ge,e(f,Y),t(h)===null&&Y===t(f)&&(x?(R(N),N=-1):x=!0,me(H,ge-ee))):(Y.sortIndex=ie,e(h,Y),T||S||(T=!0,F||(F=!0,q()))),Y},n.unstable_shouldYield=B,n.unstable_wrapCallback=function(Y){var se=_;return function(){var ge=_;_=se;try{return Y.apply(this,arguments)}finally{_=ge}}}})(Qy)),Qy}var ix;function ZP(){return ix||(ix=1,Yy.exports=JP()),Yy.exports}var Xy={exports:{}},ar={};var ax;function eL(){if(ax)return ar;ax=1;var n=Gd();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(h,f,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:h,containerInfo:f,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ar.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ar.createPortal=function(h,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(h,f,null,g)},ar.flushSync=function(h){var f=u.T,g=r.p;try{if(u.T=null,r.p=2,h)return h()}finally{u.T=f,r.p=g,r.d.f()}},ar.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(h,f))},ar.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},ar.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var g=f.as,y=c(g,f.crossOrigin),_=typeof f.integrity=="string"?f.integrity:void 0,S=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?r.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:S}):g==="script"&&r.d.X(h,{crossOrigin:y,integrity:_,fetchPriority:S,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ar.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=c(f.as,f.crossOrigin);r.d.M(h,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(h)},ar.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,y=c(g,f.crossOrigin);r.d.L(h,g,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ar.preloadModule=function(h,f){if(typeof h=="string")if(f){var g=c(f.as,f.crossOrigin);r.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(h)},ar.requestFormReset=function(h){r.d.r(h)},ar.unstable_batchedUpdates=function(h,f){return h(f)},ar.useFormState=function(h,f,g){return u.H.useFormState(h,f,g)},ar.useFormStatus=function(){return u.H.useHostTransitionStatus()},ar.version="19.2.4",ar}var sx;function vA(){if(sx)return Xy.exports;sx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Xy.exports=eL(),Xy.exports}var ox;function tL(){if(ox)return Wc;ox=1;var n=ZP(),e=Gd(),t=vA();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function c(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(o(i)!==i)throw Error(r(188))}function f(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,d=s;;){var p=l.return;if(p===null)break;var b=p.alternate;if(b===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===b.child){for(b=p.child;b;){if(b===l)return h(p),i;if(b===d)return h(p),s;b=b.sibling}throw Error(r(188))}if(l.return!==d.return)l=p,d=b;else{for(var A=!1,P=p.child;P;){if(P===l){A=!0,l=p,d=b;break}if(P===d){A=!0,d=p,l=b;break}P=P.sibling}if(!A){for(P=b.child;P;){if(P===l){A=!0,l=b,d=p;break}if(P===d){A=!0,d=b,l=p;break}P=P.sibling}if(!A)throw Error(r(189))}}if(l.alternate!==d)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function g(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=g(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),O=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function q(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var M=Symbol.for("react.client.reference");function ue(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===M?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case x:return"Fragment";case I:return"Profiler";case C:return"StrictMode";case H:return"Suspense";case F:return"SuspenseList";case V:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case T:return"Portal";case O:return i.displayName||"Context";case R:return(i._context.displayName||"Context")+".Consumer";case z:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return s=i.displayName||null,s!==null?s:ue(i.type)||"Memo";case D:s=i._payload,i=i._init;try{return ue(i(s))}catch{}}return null}var me=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},ee=[],ie=-1;function G(i){return{current:i}}function X(i){0>ie||(i.current=ee[ie],ee[ie]=null,ie--)}function ye(i,s){ie++,ee[ie]=i.current,i.current=s}var be=G(null),Ie=G(null),De=G(null),ke=G(null);function Ve(i,s){switch(ye(De,s),ye(Ie,i),ye(be,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?$E(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=$E(s),i=YE(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}X(be),ye(be,i)}function $e(){X(be),X(Ie),X(De)}function We(i){i.memoizedState!==null&&ye(ke,i);var s=be.current,l=YE(s,i.type);s!==l&&(ye(Ie,i),ye(be,l))}function gt(i){Ie.current===i&&(X(be),X(Ie)),ke.current===i&&(X(ke),Bc._currentValue=ge)}var xt,le;function Se(i){if(xt===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);xt=s&&s[1]||"",le=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xt+i+le}var Ct=!1;function Rt(i,s){if(!i||Ct)return"";Ct=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(s){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(oe){var re=oe}Reflect.construct(i,[],fe)}else{try{fe.call()}catch(oe){re=oe}i.call(fe.prototype)}}else{try{throw Error()}catch(oe){re=oe}(fe=i())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(oe){if(oe&&re&&typeof oe.stack=="string")return[oe.stack,re.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),A=b[0],P=b[1];if(A&&P){var $=A.split(`
`),ne=P.split(`
`);for(p=d=0;d<$.length&&!$[d].includes("DetermineComponentFrameRoot");)d++;for(;p<ne.length&&!ne[p].includes("DetermineComponentFrameRoot");)p++;if(d===$.length||p===ne.length)for(d=$.length-1,p=ne.length-1;1<=d&&0<=p&&$[d]!==ne[p];)p--;for(;1<=d&&0<=p;d--,p--)if($[d]!==ne[p]){if(d!==1||p!==1)do if(d--,p--,0>p||$[d]!==ne[p]){var ce=`
`+$[d].replace(" at new "," at ");return i.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",i.displayName)),ce}while(1<=d&&0<=p);break}}}finally{Ct=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Se(l):""}function sn(i,s){switch(i.tag){case 26:case 27:case 5:return Se(i.type);case 16:return Se("Lazy");case 13:return i.child!==s&&s!==null?Se("Suspense Fallback"):Se("Suspense");case 19:return Se("SuspenseList");case 0:case 15:return Rt(i.type,!1);case 11:return Rt(i.type.render,!1);case 1:return Rt(i.type,!0);case 31:return Se("Activity");default:return""}}function mn(i){try{var s="",l=null;do s+=sn(i,l),l=i,i=i.return;while(i);return s}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var et=Object.prototype.hasOwnProperty,ve=n.unstable_scheduleCallback,je=n.unstable_cancelCallback,Ze=n.unstable_shouldYield,Kt=n.unstable_requestPaint,Pt=n.unstable_now,Tt=n.unstable_getCurrentPriorityLevel,gn=n.unstable_ImmediatePriority,Un=n.unstable_UserBlockingPriority,fr=n.unstable_NormalPriority,Na=n.unstable_LowPriority,Oi=n.unstable_IdlePriority,na=n.log,Di=n.unstable_setDisableYieldValue,Hn=null,$t=null;function nt(i){if(typeof na=="function"&&Di(i),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(Hn,i)}catch{}}var kt=Math.clz32?Math.clz32:ia,ra=Math.log,jr=Math.LN2;function ia(i){return i>>>=0,i===0?32:31-(ra(i)/jr|0)|0}var Wn=256,Br=262144,Re=4194304;function ft(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function zt(i,s,l){var d=i.pendingLanes;if(d===0)return 0;var p=0,b=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var P=d&134217727;return P!==0?(d=P&~b,d!==0?p=ft(d):(A&=P,A!==0?p=ft(A):l||(l=P&~i,l!==0&&(p=ft(l))))):(P=d&~b,P!==0?p=ft(P):A!==0?p=ft(A):l||(l=d&~i,l!==0&&(p=ft(l)))),p===0?0:s!==0&&s!==p&&(s&b)===0&&(b=p&-p,l=s&-s,b>=l||b===32&&(l&4194048)!==0)?s:p}function In(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function wr(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function di(){var i=Re;return Re<<=1,(Re&62914560)===0&&(Re=4194304),i}function mr(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function aa(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ni(i,s,l,d,p,b){var A=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var P=i.entanglements,$=i.expirationTimes,ne=i.hiddenUpdates;for(l=A&~l;0<l;){var ce=31-kt(l),fe=1<<ce;P[ce]=0,$[ce]=-1;var re=ne[ce];if(re!==null)for(ne[ce]=null,ce=0;ce<re.length;ce++){var oe=re[ce];oe!==null&&(oe.lane&=-536870913)}l&=~fe}d!==0&&xr(i,d,0),b!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=b&~(A&~s))}function xr(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var d=31-kt(s);i.entangledLanes|=s,i.entanglements[d]=i.entanglements[d]|1073741824|l&261930}function zr(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var d=31-kt(l),p=1<<d;p&s|i[d]&s&&(i[d]|=s),l&=~p}}function Fr(i,s){var l=s&-s;return l=(l&42)!==0?1:Cr(l),(l&(i.suspendedLanes|s))!==0?0:l}function Cr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ur(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ln(){var i=se.p;return i!==0?i:(i=window.event,i===void 0?32:vw(i.type))}function nr(i,s){var l=se.p;try{return se.p=i,s()}finally{se.p=l}}var kn=Math.random().toString(36).slice(2),Et="__reactFiber$"+kn,on="__reactProps$"+kn,hi="__reactContainer$"+kn,Ma="__reactEvents$"+kn,nc="__reactListeners$"+kn,sa="__reactHandles$"+kn,jo="__reactResources$"+kn,Ae="__reactMarker$"+kn;function bs(i){delete i[Et],delete i[on],delete i[Ma],delete i[nc],delete i[sa]}function pn(i){var s=i[Et];if(s)return s;for(var l=i.parentNode;l;){if(s=l[hi]||l[Et]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=nw(i);i!==null;){if(l=i[Et])return l;i=nw(i)}return s}i=l,l=i.parentNode}return null}function gr(i){if(i=i[Et]||i[hi]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function rr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Hr(i){var s=i[jo];return s||(s=i[jo]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Xt(i){i[Ae]=!0}var Ss=new Set,Ts={};function Wr(i,s){qr(i,s),qr(i+"Capture",s)}function qr(i,s){for(Ts[i]=s,i=0;i<s.length;i++)Ss.add(s[i])}var Es=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ws={},xs={};function Bo(i){return et.call(xs,i)?!0:et.call(ws,i)?!1:Es.test(i)?xs[i]=!0:(ws[i]=!0,!1)}function Pa(i,s,l){if(Bo(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var d=s.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function ir(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function Jt(i,s,l,d){if(d===null)i.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+d)}}function ln(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Mi(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Cs(i,s,l){var d=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var p=d.get,b=d.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(A){l=""+A,b.call(this,A)}}),Object.defineProperty(i,s,{enumerable:d.enumerable}),{getValue:function(){return l},setValue:function(A){l=""+A},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function pt(i){if(!i._valueTracker){var s=Mi(i)?"checked":"value";i._valueTracker=Cs(i,s,""+i[s])}}function oa(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return i&&(d=Mi(i)?i.checked?"true":"false":i.value),i=d,i!==l?(s.setValue(i),!0):!1}function Gr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var la=/[\n"\\]/g;function Vn(i){return i.replace(la,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function La(i,s,l,d,p,b,A,P){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),s!=null?A==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+ln(s)):i.value!==""+ln(s)&&(i.value=""+ln(s)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),s!=null?Rs(i,A,ln(s)):l!=null?Rs(i,A,ln(l)):d!=null&&i.removeAttribute("value"),p==null&&b!=null&&(i.defaultChecked=!!b),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?i.name=""+ln(P):i.removeAttribute("name")}function zo(i,s,l,d,p,b,A,P){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),s!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||s!=null)){pt(i);return}l=l!=null?""+ln(l):"",s=s!=null?""+ln(s):l,P||s===i.value||(i.value=s),i.defaultValue=s}d=d??p,d=typeof d!="function"&&typeof d!="symbol"&&!!d,i.checked=P?i.checked:!!d,i.defaultChecked=!!d,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A),pt(i)}function Rs(i,s,l){s==="number"&&Gr(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Pi(i,s,l,d){if(i=i.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=s.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&d&&(i[l].defaultSelected=!0)}else{for(l=""+ln(l),s=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,d&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function Fo(i,s,l){if(s!=null&&(s=""+ln(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+ln(l):""}function Li(i,s,l,d){if(s==null){if(d!=null){if(l!=null)throw Error(r(92));if(me(d)){if(1<d.length)throw Error(r(93));d=d[0]}l=d}l==null&&(l=""),s=l}l=ln(s),i.defaultValue=l,d=i.textContent,d===l&&d!==""&&d!==null&&(i.value=d),pt(i)}function qn(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var Uo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function As(i,s,l){var d=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":d?i.setProperty(s,l):typeof l!="number"||l===0||Uo.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function Is(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||s!=null&&s.hasOwnProperty(d)||(d.indexOf("--")===0?i.setProperty(d,""):d==="float"?i.cssFloat="":i[d]="");for(var p in s)d=s[p],s.hasOwnProperty(p)&&l[p]!==d&&As(i,p,d)}else for(var b in s)s.hasOwnProperty(b)&&As(i,b,s[b])}function Va(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ho=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ja(i){return Vi.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Rr(){}var ks=null;function pr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ji=null,Kr=null;function ua(i){var s=gr(i);if(s&&(i=s.stateNode)){var l=i[on]||null;e:switch(i=s.stateNode,s.type){case"input":if(La(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Vn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==i&&d.form===i.form){var p=d[on]||null;if(!p)throw Error(r(90));La(d,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<l.length;s++)d=l[s],d.form===i.form&&oa(d)}break e;case"textarea":Fo(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Pi(i,!!l.multiple,s,!1)}}}var Ba=!1;function fi(i,s,l){if(Ba)return i(s,l);Ba=!0;try{var d=i(s);return d}finally{if(Ba=!1,(ji!==null||Kr!==null)&&(tf(),ji&&(s=ji,i=Kr,Kr=ji=null,ua(s),i)))for(s=0;s<i.length;s++)ua(i[s])}}function $r(i,s){var l=i.stateNode;if(l===null)return null;var d=l[on]||null;if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ca=!1;if(yr)try{var _t={};Object.defineProperty(_t,"passive",{get:function(){ca=!0}}),window.addEventListener("test",_t,_t),window.removeEventListener("test",_t,_t)}catch{ca=!1}var Yr=null,Os=null,Wo=null;function rc(){if(Wo)return Wo;var i,s=Os,l=s.length,d,p="value"in Yr?Yr.value:Yr.textContent,b=p.length;for(i=0;i<l&&s[i]===p[i];i++);var A=l-i;for(d=1;d<=A&&s[l-d]===p[b-d];d++);return Wo=p.slice(i,1<d?1-d:void 0)}function qo(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function za(){return!0}function Bi(){return!1}function Gn(i){function s(l,d,p,b,A){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=b,this.target=A,this.currentTarget=null;for(var P in i)i.hasOwnProperty(P)&&(l=i[P],this[P]=l?l(b):b[P]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?za:Bi,this.isPropagationStopped=Bi,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=za)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=za)},persist:function(){},isPersistent:za}),s}var Fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},da=Gn(Fa),Ds=y({},Fa,{view:0,detail:0}),ic=Gn(Ds),Ns,Ll,ha,Vl=y({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ms,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ha&&(ha&&i.type==="mousemove"?(Ns=i.screenX-ha.screenX,Ll=i.screenY-ha.screenY):Ll=Ns=0,ha=i),Ns)},movementY:function(i){return"movementY"in i?i.movementY:Ll}}),ac=Gn(Vl),Go=y({},Vl,{dataTransfer:0}),uh=Gn(Go),ch=y({},Ds,{relatedTarget:0}),Ko=Gn(ch),sc=y({},Fa,{animationName:0,elapsedTime:0,pseudoElement:0}),dh=Gn(sc),jl=y({},Fa,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),hh=Gn(jl),fh=y({},Fa,{data:0}),fa=Gn(fh),mh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ph={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yh(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=ph[i])?!!s[i]:!1}function Ms(){return yh}var vr=y({},Ds,{key:function(i){if(i.key){var s=mh[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=qo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?gh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ms,charCode:function(i){return i.type==="keypress"?qo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?qo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),vh=Gn(vr),_h=y({},Vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ua=Gn(_h),m=y({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ms}),w=Gn(m),k=y({},Fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),U=Gn(k),Z=y({},Vl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ae=Gn(Z),xe=y({},Fa,{newState:0,oldState:0}),Qe=Gn(xe),un=[9,13,27,32],bt=yr&&"CompositionEvent"in window,Yt=null;yr&&"documentMode"in document&&(Yt=document.documentMode);var mi=yr&&"TextEvent"in window&&!Yt,ma=yr&&(!bt||Yt&&8<Yt&&11>=Yt),zi=" ",Fi=!1;function $o(i,s){switch(i){case"keyup":return un.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bl(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var zl=!1;function WO(i,s){switch(i){case"compositionend":return Bl(s);case"keypress":return s.which!==32?null:(Fi=!0,zi);case"textInput":return i=s.data,i===zi&&Fi?null:i;default:return null}}function qO(i,s){if(zl)return i==="compositionend"||!bt&&$o(i,s)?(i=rc(),Wo=Os=Yr=null,zl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ma&&s.locale!=="ko"?null:s.data;default:return null}}var GO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aS(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!GO[i.type]:s==="textarea"}function sS(i,s,l,d){ji?Kr?Kr.push(d):Kr=[d]:ji=d,s=uf(s,"onChange"),0<s.length&&(l=new da("onChange","change",null,l,d),i.push({event:l,listeners:s}))}var oc=null,lc=null;function KO(i){UE(i,0)}function bh(i){var s=rr(i);if(oa(s))return i}function oS(i,s){if(i==="change")return s}var lS=!1;if(yr){var Ug;if(yr){var Hg="oninput"in document;if(!Hg){var uS=document.createElement("div");uS.setAttribute("oninput","return;"),Hg=typeof uS.oninput=="function"}Ug=Hg}else Ug=!1;lS=Ug&&(!document.documentMode||9<document.documentMode)}function cS(){oc&&(oc.detachEvent("onpropertychange",dS),lc=oc=null)}function dS(i){if(i.propertyName==="value"&&bh(lc)){var s=[];sS(s,lc,i,pr(i)),fi(KO,s)}}function $O(i,s,l){i==="focusin"?(cS(),oc=s,lc=l,oc.attachEvent("onpropertychange",dS)):i==="focusout"&&cS()}function YO(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return bh(lc)}function QO(i,s){if(i==="click")return bh(s)}function XO(i,s){if(i==="input"||i==="change")return bh(s)}function JO(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Qr=typeof Object.is=="function"?Object.is:JO;function uc(i,s){if(Qr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!et.call(s,p)||!Qr(i[p],s[p]))return!1}return!0}function hS(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function fS(i,s){var l=hS(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=s&&d>=s)return{node:l,offset:s-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=hS(l)}}function mS(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?mS(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function gS(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Gr(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Gr(i.document)}return s}function Wg(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var ZO=yr&&"documentMode"in document&&11>=document.documentMode,Fl=null,qg=null,cc=null,Gg=!1;function pS(i,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Gg||Fl==null||Fl!==Gr(d)||(d=Fl,"selectionStart"in d&&Wg(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),cc&&uc(cc,d)||(cc=d,d=uf(qg,"onSelect"),0<d.length&&(s=new da("onSelect","select",null,s,l),i.push({event:s,listeners:d}),s.target=Fl)))}function Yo(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var Ul={animationend:Yo("Animation","AnimationEnd"),animationiteration:Yo("Animation","AnimationIteration"),animationstart:Yo("Animation","AnimationStart"),transitionrun:Yo("Transition","TransitionRun"),transitionstart:Yo("Transition","TransitionStart"),transitioncancel:Yo("Transition","TransitionCancel"),transitionend:Yo("Transition","TransitionEnd")},Kg={},yS={};yr&&(yS=document.createElement("div").style,"AnimationEvent"in window||(delete Ul.animationend.animation,delete Ul.animationiteration.animation,delete Ul.animationstart.animation),"TransitionEvent"in window||delete Ul.transitionend.transition);function Qo(i){if(Kg[i])return Kg[i];if(!Ul[i])return i;var s=Ul[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in yS)return Kg[i]=s[l];return i}var vS=Qo("animationend"),_S=Qo("animationiteration"),bS=Qo("animationstart"),eD=Qo("transitionrun"),tD=Qo("transitionstart"),nD=Qo("transitioncancel"),SS=Qo("transitionend"),TS=new Map,$g="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$g.push("scrollEnd");function Ui(i,s){TS.set(i,s),Wr(s,[i])}var Sh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},gi=[],Hl=0,Yg=0;function Th(){for(var i=Hl,s=Yg=Hl=0;s<i;){var l=gi[s];gi[s++]=null;var d=gi[s];gi[s++]=null;var p=gi[s];gi[s++]=null;var b=gi[s];if(gi[s++]=null,d!==null&&p!==null){var A=d.pending;A===null?p.next=p:(p.next=A.next,A.next=p),d.pending=p}b!==0&&ES(l,p,b)}}function Eh(i,s,l,d){gi[Hl++]=i,gi[Hl++]=s,gi[Hl++]=l,gi[Hl++]=d,Yg|=d,i.lanes|=d,i=i.alternate,i!==null&&(i.lanes|=d)}function Qg(i,s,l,d){return Eh(i,s,l,d),wh(i)}function Xo(i,s){return Eh(i,null,null,s),wh(i)}function ES(i,s,l){i.lanes|=l;var d=i.alternate;d!==null&&(d.lanes|=l);for(var p=!1,b=i.return;b!==null;)b.childLanes|=l,d=b.alternate,d!==null&&(d.childLanes|=l),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(p=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,p&&s!==null&&(p=31-kt(l),i=b.hiddenUpdates,d=i[p],d===null?i[p]=[s]:d.push(s),s.lane=l|536870912),b):null}function wh(i){if(50<Dc)throw Dc=0,ay=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Wl={};function rD(i,s,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xr(i,s,l,d){return new rD(i,s,l,d)}function Xg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ha(i,s){var l=i.alternate;return l===null?(l=Xr(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function wS(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function xh(i,s,l,d,p,b){var A=0;if(d=i,typeof i=="function")Xg(i)&&(A=1);else if(typeof i=="string")A=lN(i,l,be.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case V:return i=Xr(31,l,s,p),i.elementType=V,i.lanes=b,i;case x:return Jo(l.children,p,b,s);case C:A=8,p|=24;break;case I:return i=Xr(12,l,s,p|2),i.elementType=I,i.lanes=b,i;case H:return i=Xr(13,l,s,p),i.elementType=H,i.lanes=b,i;case F:return i=Xr(19,l,s,p),i.elementType=F,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case O:A=10;break e;case R:A=9;break e;case z:A=11;break e;case N:A=14;break e;case D:A=16,d=null;break e}A=29,l=Error(r(130,i===null?"null":typeof i,"")),d=null}return s=Xr(A,l,s,p),s.elementType=i,s.type=d,s.lanes=b,s}function Jo(i,s,l,d){return i=Xr(7,i,d,s),i.lanes=l,i}function Jg(i,s,l){return i=Xr(6,i,null,s),i.lanes=l,i}function xS(i){var s=Xr(18,null,null,0);return s.stateNode=i,s}function Zg(i,s,l){return s=Xr(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var CS=new WeakMap;function pi(i,s){if(typeof i=="object"&&i!==null){var l=CS.get(i);return l!==void 0?l:(s={value:i,source:s,stack:mn(s)},CS.set(i,s),s)}return{value:i,source:s,stack:mn(s)}}var ql=[],Gl=0,Ch=null,dc=0,yi=[],vi=0,Ps=null,ga=1,pa="";function Wa(i,s){ql[Gl++]=dc,ql[Gl++]=Ch,Ch=i,dc=s}function RS(i,s,l){yi[vi++]=ga,yi[vi++]=pa,yi[vi++]=Ps,Ps=i;var d=ga;i=pa;var p=32-kt(d)-1;d&=~(1<<p),l+=1;var b=32-kt(s)+p;if(30<b){var A=p-p%5;b=(d&(1<<A)-1).toString(32),d>>=A,p-=A,ga=1<<32-kt(s)+p|l<<p|d,pa=b+i}else ga=1<<b|l<<p|d,pa=i}function ep(i){i.return!==null&&(Wa(i,1),RS(i,1,0))}function tp(i){for(;i===Ch;)Ch=ql[--Gl],ql[Gl]=null,dc=ql[--Gl],ql[Gl]=null;for(;i===Ps;)Ps=yi[--vi],yi[vi]=null,pa=yi[--vi],yi[vi]=null,ga=yi[--vi],yi[vi]=null}function AS(i,s){yi[vi++]=ga,yi[vi++]=pa,yi[vi++]=Ps,ga=s.id,pa=s.overflow,Ps=i}var Kn=null,Ft=null,dt=!1,Ls=null,_i=!1,np=Error(r(519));function Vs(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hc(pi(s,i)),np}function IS(i){var s=i.stateNode,l=i.type,d=i.memoizedProps;switch(s[Et]=i,s[on]=d,l){case"dialog":it("cancel",s),it("close",s);break;case"iframe":case"object":case"embed":it("load",s);break;case"video":case"audio":for(l=0;l<Mc.length;l++)it(Mc[l],s);break;case"source":it("error",s);break;case"img":case"image":case"link":it("error",s),it("load",s);break;case"details":it("toggle",s);break;case"input":it("invalid",s),zo(s,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":it("invalid",s);break;case"textarea":it("invalid",s),Li(s,d.value,d.defaultValue,d.children)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||d.suppressHydrationWarning===!0||GE(s.textContent,l)?(d.popover!=null&&(it("beforetoggle",s),it("toggle",s)),d.onScroll!=null&&it("scroll",s),d.onScrollEnd!=null&&it("scrollend",s),d.onClick!=null&&(s.onclick=Rr),s=!0):s=!1,s||Vs(i,!0)}function kS(i){for(Kn=i.return;Kn;)switch(Kn.tag){case 5:case 31:case 13:_i=!1;return;case 27:case 3:_i=!0;return;default:Kn=Kn.return}}function Kl(i){if(i!==Kn)return!1;if(!dt)return kS(i),dt=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||by(i.type,i.memoizedProps)),l=!l),l&&Ft&&Vs(i),kS(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Ft=tw(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Ft=tw(i)}else s===27?(s=Ft,Xs(i.type)?(i=xy,xy=null,Ft=i):Ft=s):Ft=Kn?Si(i.stateNode.nextSibling):null;return!0}function Zo(){Ft=Kn=null,dt=!1}function rp(){var i=Ls;return i!==null&&(Or===null?Or=i:Or.push.apply(Or,i),Ls=null),i}function hc(i){Ls===null?Ls=[i]:Ls.push(i)}var ip=G(null),el=null,qa=null;function js(i,s,l){ye(ip,s._currentValue),s._currentValue=l}function Ga(i){i._currentValue=ip.current,X(ip)}function ap(i,s,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),i===l)break;i=i.return}}function sp(i,s,l,d){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var b=p.dependencies;if(b!==null){var A=p.child;b=b.firstContext;e:for(;b!==null;){var P=b;b=p;for(var $=0;$<s.length;$++)if(P.context===s[$]){b.lanes|=l,P=b.alternate,P!==null&&(P.lanes|=l),ap(b.return,l,i),d||(A=null);break e}b=P.next}}else if(p.tag===18){if(A=p.return,A===null)throw Error(r(341));A.lanes|=l,b=A.alternate,b!==null&&(b.lanes|=l),ap(A,l,i),A=null}else A=p.child;if(A!==null)A.return=p;else for(A=p;A!==null;){if(A===i){A=null;break}if(p=A.sibling,p!==null){p.return=A.return,A=p;break}A=A.return}p=A}}function $l(i,s,l,d){i=null;for(var p=s,b=!1;p!==null;){if(!b){if((p.flags&524288)!==0)b=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var A=p.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var P=p.type;Qr(p.pendingProps.value,A.value)||(i!==null?i.push(P):i=[P])}}else if(p===ke.current){if(A=p.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Bc):i=[Bc])}p=p.return}i!==null&&sp(s,i,l,d),s.flags|=262144}function Rh(i){for(i=i.firstContext;i!==null;){if(!Qr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function tl(i){el=i,qa=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function $n(i){return OS(el,i)}function Ah(i,s){return el===null&&tl(i),OS(i,s)}function OS(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},qa===null){if(i===null)throw Error(r(308));qa=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else qa=qa.next=s;return l}var iD=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,d){i.push(d)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},aD=n.unstable_scheduleCallback,sD=n.unstable_NormalPriority,yn={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function op(){return{controller:new iD,data:new Map,refCount:0}}function fc(i){i.refCount--,i.refCount===0&&aD(sD,function(){i.controller.abort()})}var mc=null,lp=0,Yl=0,Ql=null;function oD(i,s){if(mc===null){var l=mc=[];lp=0,Yl=dy(),Ql={status:"pending",value:void 0,then:function(d){l.push(d)}}}return lp++,s.then(DS,DS),s}function DS(){if(--lp===0&&mc!==null){Ql!==null&&(Ql.status="fulfilled");var i=mc;mc=null,Yl=0,Ql=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function lD(i,s){var l=[],d={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return i.then(function(){d.status="fulfilled",d.value=s;for(var p=0;p<l.length;p++)(0,l[p])(s)},function(p){for(d.status="rejected",d.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),d}var NS=Y.S;Y.S=function(i,s){pE=Pt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&oD(i,s),NS!==null&&NS(i,s)};var nl=G(null);function up(){var i=nl.current;return i!==null?i:Lt.pooledCache}function Ih(i,s){s===null?ye(nl,nl.current):ye(nl,s.pool)}function MS(){var i=up();return i===null?null:{parent:yn._currentValue,pool:i}}var Xl=Error(r(460)),cp=Error(r(474)),kh=Error(r(542)),Oh={then:function(){}};function PS(i){return i=i.status,i==="fulfilled"||i==="rejected"}function LS(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(Rr,Rr),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,jS(i),i;default:if(typeof s.status=="string")s.then(Rr,Rr);else{if(i=Lt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(d){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=d}},function(d){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=d}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,jS(i),i}throw il=s,Xl}}function rl(i){try{var s=i._init;return s(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(il=l,Xl):l}}var il=null;function VS(){if(il===null)throw Error(r(459));var i=il;return il=null,i}function jS(i){if(i===Xl||i===kh)throw Error(r(483))}var Jl=null,gc=0;function Dh(i){var s=gc;return gc+=1,Jl===null&&(Jl=[]),LS(Jl,i,s)}function pc(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Nh(i,s){throw s.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function BS(i){function s(J,Q){if(i){var te=J.deletions;te===null?(J.deletions=[Q],J.flags|=16):te.push(Q)}}function l(J,Q){if(!i)return null;for(;Q!==null;)s(J,Q),Q=Q.sibling;return null}function d(J){for(var Q=new Map;J!==null;)J.key!==null?Q.set(J.key,J):Q.set(J.index,J),J=J.sibling;return Q}function p(J,Q){return J=Ha(J,Q),J.index=0,J.sibling=null,J}function b(J,Q,te){return J.index=te,i?(te=J.alternate,te!==null?(te=te.index,te<Q?(J.flags|=67108866,Q):te):(J.flags|=67108866,Q)):(J.flags|=1048576,Q)}function A(J){return i&&J.alternate===null&&(J.flags|=67108866),J}function P(J,Q,te,de){return Q===null||Q.tag!==6?(Q=Jg(te,J.mode,de),Q.return=J,Q):(Q=p(Q,te),Q.return=J,Q)}function $(J,Q,te,de){var Be=te.type;return Be===x?ce(J,Q,te.props.children,de,te.key):Q!==null&&(Q.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===D&&rl(Be)===Q.type)?(Q=p(Q,te.props),pc(Q,te),Q.return=J,Q):(Q=xh(te.type,te.key,te.props,null,J.mode,de),pc(Q,te),Q.return=J,Q)}function ne(J,Q,te,de){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==te.containerInfo||Q.stateNode.implementation!==te.implementation?(Q=Zg(te,J.mode,de),Q.return=J,Q):(Q=p(Q,te.children||[]),Q.return=J,Q)}function ce(J,Q,te,de,Be){return Q===null||Q.tag!==7?(Q=Jo(te,J.mode,de,Be),Q.return=J,Q):(Q=p(Q,te),Q.return=J,Q)}function fe(J,Q,te){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=Jg(""+Q,J.mode,te),Q.return=J,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case S:return te=xh(Q.type,Q.key,Q.props,null,J.mode,te),pc(te,Q),te.return=J,te;case T:return Q=Zg(Q,J.mode,te),Q.return=J,Q;case D:return Q=rl(Q),fe(J,Q,te)}if(me(Q)||q(Q))return Q=Jo(Q,J.mode,te,null),Q.return=J,Q;if(typeof Q.then=="function")return fe(J,Dh(Q),te);if(Q.$$typeof===O)return fe(J,Ah(J,Q),te);Nh(J,Q)}return null}function re(J,Q,te,de){var Be=Q!==null?Q.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Be!==null?null:P(J,Q,""+te,de);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case S:return te.key===Be?$(J,Q,te,de):null;case T:return te.key===Be?ne(J,Q,te,de):null;case D:return te=rl(te),re(J,Q,te,de)}if(me(te)||q(te))return Be!==null?null:ce(J,Q,te,de,null);if(typeof te.then=="function")return re(J,Q,Dh(te),de);if(te.$$typeof===O)return re(J,Q,Ah(J,te),de);Nh(J,te)}return null}function oe(J,Q,te,de,Be){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return J=J.get(te)||null,P(Q,J,""+de,Be);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case S:return J=J.get(de.key===null?te:de.key)||null,$(Q,J,de,Be);case T:return J=J.get(de.key===null?te:de.key)||null,ne(Q,J,de,Be);case D:return de=rl(de),oe(J,Q,te,de,Be)}if(me(de)||q(de))return J=J.get(te)||null,ce(Q,J,de,Be,null);if(typeof de.then=="function")return oe(J,Q,te,Dh(de),Be);if(de.$$typeof===O)return oe(J,Q,te,Ah(Q,de),Be);Nh(Q,de)}return null}function Me(J,Q,te,de){for(var Be=null,yt=null,Le=Q,Je=Q=0,st=null;Le!==null&&Je<te.length;Je++){Le.index>Je?(st=Le,Le=null):st=Le.sibling;var vt=re(J,Le,te[Je],de);if(vt===null){Le===null&&(Le=st);break}i&&Le&&vt.alternate===null&&s(J,Le),Q=b(vt,Q,Je),yt===null?Be=vt:yt.sibling=vt,yt=vt,Le=st}if(Je===te.length)return l(J,Le),dt&&Wa(J,Je),Be;if(Le===null){for(;Je<te.length;Je++)Le=fe(J,te[Je],de),Le!==null&&(Q=b(Le,Q,Je),yt===null?Be=Le:yt.sibling=Le,yt=Le);return dt&&Wa(J,Je),Be}for(Le=d(Le);Je<te.length;Je++)st=oe(Le,J,Je,te[Je],de),st!==null&&(i&&st.alternate!==null&&Le.delete(st.key===null?Je:st.key),Q=b(st,Q,Je),yt===null?Be=st:yt.sibling=st,yt=st);return i&&Le.forEach(function(no){return s(J,no)}),dt&&Wa(J,Je),Be}function Fe(J,Q,te,de){if(te==null)throw Error(r(151));for(var Be=null,yt=null,Le=Q,Je=Q=0,st=null,vt=te.next();Le!==null&&!vt.done;Je++,vt=te.next()){Le.index>Je?(st=Le,Le=null):st=Le.sibling;var no=re(J,Le,vt.value,de);if(no===null){Le===null&&(Le=st);break}i&&Le&&no.alternate===null&&s(J,Le),Q=b(no,Q,Je),yt===null?Be=no:yt.sibling=no,yt=no,Le=st}if(vt.done)return l(J,Le),dt&&Wa(J,Je),Be;if(Le===null){for(;!vt.done;Je++,vt=te.next())vt=fe(J,vt.value,de),vt!==null&&(Q=b(vt,Q,Je),yt===null?Be=vt:yt.sibling=vt,yt=vt);return dt&&Wa(J,Je),Be}for(Le=d(Le);!vt.done;Je++,vt=te.next())vt=oe(Le,J,Je,vt.value,de),vt!==null&&(i&&vt.alternate!==null&&Le.delete(vt.key===null?Je:vt.key),Q=b(vt,Q,Je),yt===null?Be=vt:yt.sibling=vt,yt=vt);return i&&Le.forEach(function(_N){return s(J,_N)}),dt&&Wa(J,Je),Be}function Nt(J,Q,te,de){if(typeof te=="object"&&te!==null&&te.type===x&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case S:e:{for(var Be=te.key;Q!==null;){if(Q.key===Be){if(Be=te.type,Be===x){if(Q.tag===7){l(J,Q.sibling),de=p(Q,te.props.children),de.return=J,J=de;break e}}else if(Q.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===D&&rl(Be)===Q.type){l(J,Q.sibling),de=p(Q,te.props),pc(de,te),de.return=J,J=de;break e}l(J,Q);break}else s(J,Q);Q=Q.sibling}te.type===x?(de=Jo(te.props.children,J.mode,de,te.key),de.return=J,J=de):(de=xh(te.type,te.key,te.props,null,J.mode,de),pc(de,te),de.return=J,J=de)}return A(J);case T:e:{for(Be=te.key;Q!==null;){if(Q.key===Be)if(Q.tag===4&&Q.stateNode.containerInfo===te.containerInfo&&Q.stateNode.implementation===te.implementation){l(J,Q.sibling),de=p(Q,te.children||[]),de.return=J,J=de;break e}else{l(J,Q);break}else s(J,Q);Q=Q.sibling}de=Zg(te,J.mode,de),de.return=J,J=de}return A(J);case D:return te=rl(te),Nt(J,Q,te,de)}if(me(te))return Me(J,Q,te,de);if(q(te)){if(Be=q(te),typeof Be!="function")throw Error(r(150));return te=Be.call(te),Fe(J,Q,te,de)}if(typeof te.then=="function")return Nt(J,Q,Dh(te),de);if(te.$$typeof===O)return Nt(J,Q,Ah(J,te),de);Nh(J,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,Q!==null&&Q.tag===6?(l(J,Q.sibling),de=p(Q,te),de.return=J,J=de):(l(J,Q),de=Jg(te,J.mode,de),de.return=J,J=de),A(J)):l(J,Q)}return function(J,Q,te,de){try{gc=0;var Be=Nt(J,Q,te,de);return Jl=null,Be}catch(Le){if(Le===Xl||Le===kh)throw Le;var yt=Xr(29,Le,null,J.mode);return yt.lanes=de,yt.return=J,yt}}}var al=BS(!0),zS=BS(!1),Bs=!1;function dp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hp(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function zs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Fs(i,s,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(St&2)!==0){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,s=wh(i),ES(i,null,l),s}return Eh(i,d,s,l),wh(i)}function yc(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var d=s.lanes;d&=i.pendingLanes,l|=d,s.lanes=l,zr(i,l)}}function fp(i,s){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var A={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?p=b=A:b=b.next=A,l=l.next}while(l!==null);b===null?p=b=s:b=b.next=s}else p=b=s;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var mp=!1;function vc(){if(mp){var i=Ql;if(i!==null)throw i}}function _c(i,s,l,d){mp=!1;var p=i.updateQueue;Bs=!1;var b=p.firstBaseUpdate,A=p.lastBaseUpdate,P=p.shared.pending;if(P!==null){p.shared.pending=null;var $=P,ne=$.next;$.next=null,A===null?b=ne:A.next=ne,A=$;var ce=i.alternate;ce!==null&&(ce=ce.updateQueue,P=ce.lastBaseUpdate,P!==A&&(P===null?ce.firstBaseUpdate=ne:P.next=ne,ce.lastBaseUpdate=$))}if(b!==null){var fe=p.baseState;A=0,ce=ne=$=null,P=b;do{var re=P.lane&-536870913,oe=re!==P.lane;if(oe?(at&re)===re:(d&re)===re){re!==0&&re===Yl&&(mp=!0),ce!==null&&(ce=ce.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var Me=i,Fe=P;re=s;var Nt=l;switch(Fe.tag){case 1:if(Me=Fe.payload,typeof Me=="function"){fe=Me.call(Nt,fe,re);break e}fe=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Fe.payload,re=typeof Me=="function"?Me.call(Nt,fe,re):Me,re==null)break e;fe=y({},fe,re);break e;case 2:Bs=!0}}re=P.callback,re!==null&&(i.flags|=64,oe&&(i.flags|=8192),oe=p.callbacks,oe===null?p.callbacks=[re]:oe.push(re))}else oe={lane:re,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ce===null?(ne=ce=oe,$=fe):ce=ce.next=oe,A|=re;if(P=P.next,P===null){if(P=p.shared.pending,P===null)break;oe=P,P=oe.next,oe.next=null,p.lastBaseUpdate=oe,p.shared.pending=null}}while(!0);ce===null&&($=fe),p.baseState=$,p.firstBaseUpdate=ne,p.lastBaseUpdate=ce,b===null&&(p.shared.lanes=0),Gs|=A,i.lanes=A,i.memoizedState=fe}}function FS(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function US(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)FS(l[i],s)}var Zl=G(null),Mh=G(0);function HS(i,s){i=ts,ye(Mh,i),ye(Zl,s),ts=i|s.baseLanes}function gp(){ye(Mh,ts),ye(Zl,Zl.current)}function pp(){ts=Mh.current,X(Zl),X(Mh)}var Jr=G(null),bi=null;function Us(i){var s=i.alternate;ye(cn,cn.current&1),ye(Jr,i),bi===null&&(s===null||Zl.current!==null||s.memoizedState!==null)&&(bi=i)}function yp(i){ye(cn,cn.current),ye(Jr,i),bi===null&&(bi=i)}function WS(i){i.tag===22?(ye(cn,cn.current),ye(Jr,i),bi===null&&(bi=i)):Hs()}function Hs(){ye(cn,cn.current),ye(Jr,Jr.current)}function Zr(i){X(Jr),bi===i&&(bi=null),X(cn)}var cn=G(0);function Ph(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Ey(l)||wy(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ka=0,Xe=null,Ot=null,vn=null,Lh=!1,eu=!1,sl=!1,Vh=0,bc=0,tu=null,uD=0;function tn(){throw Error(r(321))}function vp(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Qr(i[l],s[l]))return!1;return!0}function _p(i,s,l,d,p,b){return Ka=b,Xe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Y.H=i===null||i.memoizedState===null?RT:Mp,sl=!1,b=l(d,p),sl=!1,eu&&(b=GS(s,l,d,p)),qS(i),b}function qS(i){Y.H=Ec;var s=Ot!==null&&Ot.next!==null;if(Ka=0,vn=Ot=Xe=null,Lh=!1,bc=0,tu=null,s)throw Error(r(300));i===null||_n||(i=i.dependencies,i!==null&&Rh(i)&&(_n=!0))}function GS(i,s,l,d){Xe=i;var p=0;do{if(eu&&(tu=null),bc=0,eu=!1,25<=p)throw Error(r(301));if(p+=1,vn=Ot=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}Y.H=AT,b=s(l,d)}while(eu);return b}function cD(){var i=Y.H,s=i.useState()[0];return s=typeof s.then=="function"?Sc(s):s,i=i.useState()[0],(Ot!==null?Ot.memoizedState:null)!==i&&(Xe.flags|=1024),s}function bp(){var i=Vh!==0;return Vh=0,i}function Sp(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function Tp(i){if(Lh){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Lh=!1}Ka=0,vn=Ot=Xe=null,eu=!1,bc=Vh=0,tu=null}function _r(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?Xe.memoizedState=vn=i:vn=vn.next=i,vn}function dn(){if(Ot===null){var i=Xe.alternate;i=i!==null?i.memoizedState:null}else i=Ot.next;var s=vn===null?Xe.memoizedState:vn.next;if(s!==null)vn=s,Ot=i;else{if(i===null)throw Xe.alternate===null?Error(r(467)):Error(r(310));Ot=i,i={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},vn===null?Xe.memoizedState=vn=i:vn=vn.next=i}return vn}function jh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sc(i){var s=bc;return bc+=1,tu===null&&(tu=[]),i=LS(tu,i,s),s=Xe,(vn===null?s.memoizedState:vn.next)===null&&(s=s.alternate,Y.H=s===null||s.memoizedState===null?RT:Mp),i}function Bh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Sc(i);if(i.$$typeof===O)return $n(i)}throw Error(r(438,String(i)))}function Ep(i){var s=null,l=Xe.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var d=Xe.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(s={data:d.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=jh(),Xe.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),d=0;d<i;d++)l[d]=B;return s.index++,l}function $a(i,s){return typeof s=="function"?s(i):s}function zh(i){var s=dn();return wp(s,Ot,i)}function wp(i,s,l){var d=i.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=l;var p=i.baseQueue,b=d.pending;if(b!==null){if(p!==null){var A=p.next;p.next=b.next,b.next=A}s.baseQueue=p=b,d.pending=null}if(b=i.baseState,p===null)i.memoizedState=b;else{s=p.next;var P=A=null,$=null,ne=s,ce=!1;do{var fe=ne.lane&-536870913;if(fe!==ne.lane?(at&fe)===fe:(Ka&fe)===fe){var re=ne.revertLane;if(re===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),fe===Yl&&(ce=!0);else if((Ka&re)===re){ne=ne.next,re===Yl&&(ce=!0);continue}else fe={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},$===null?(P=$=fe,A=b):$=$.next=fe,Xe.lanes|=re,Gs|=re;fe=ne.action,sl&&l(b,fe),b=ne.hasEagerState?ne.eagerState:l(b,fe)}else re={lane:fe,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},$===null?(P=$=re,A=b):$=$.next=re,Xe.lanes|=fe,Gs|=fe;ne=ne.next}while(ne!==null&&ne!==s);if($===null?A=b:$.next=P,!Qr(b,i.memoizedState)&&(_n=!0,ce&&(l=Ql,l!==null)))throw l;i.memoizedState=b,i.baseState=A,i.baseQueue=$,d.lastRenderedState=b}return p===null&&(d.lanes=0),[i.memoizedState,d.dispatch]}function xp(i){var s=dn(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var d=l.dispatch,p=l.pending,b=s.memoizedState;if(p!==null){l.pending=null;var A=p=p.next;do b=i(b,A.action),A=A.next;while(A!==p);Qr(b,s.memoizedState)||(_n=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),l.lastRenderedState=b}return[b,d]}function KS(i,s,l){var d=Xe,p=dn(),b=dt;if(b){if(l===void 0)throw Error(r(407));l=l()}else l=s();var A=!Qr((Ot||p).memoizedState,l);if(A&&(p.memoizedState=l,_n=!0),p=p.queue,Ap(QS.bind(null,d,p,i),[i]),p.getSnapshot!==s||A||vn!==null&&vn.memoizedState.tag&1){if(d.flags|=2048,nu(9,{destroy:void 0},YS.bind(null,d,p,l,s),null),Lt===null)throw Error(r(349));b||(Ka&127)!==0||$S(d,s,l)}return l}function $S(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Xe.updateQueue,s===null?(s=jh(),Xe.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function YS(i,s,l,d){s.value=l,s.getSnapshot=d,XS(s)&&JS(i)}function QS(i,s,l){return l(function(){XS(s)&&JS(i)})}function XS(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Qr(i,l)}catch{return!0}}function JS(i){var s=Xo(i,2);s!==null&&Dr(s,i,2)}function Cp(i){var s=_r();if(typeof i=="function"){var l=i;if(i=l(),sl){nt(!0);try{l()}finally{nt(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:i},s}function ZS(i,s,l,d){return i.baseState=l,wp(i,Ot,typeof d=="function"?d:$a)}function dD(i,s,l,d,p){if(Hh(i))throw Error(r(485));if(i=s.action,i!==null){var b={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){b.listeners.push(A)}};Y.T!==null?l(!0):b.isTransition=!1,d(b),l=s.pending,l===null?(b.next=s.pending=b,eT(s,b)):(b.next=l.next,s.pending=l.next=b)}}function eT(i,s){var l=s.action,d=s.payload,p=i.state;if(s.isTransition){var b=Y.T,A={};Y.T=A;try{var P=l(p,d),$=Y.S;$!==null&&$(A,P),tT(i,s,P)}catch(ne){Rp(i,s,ne)}finally{b!==null&&A.types!==null&&(b.types=A.types),Y.T=b}}else try{b=l(p,d),tT(i,s,b)}catch(ne){Rp(i,s,ne)}}function tT(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){nT(i,s,d)},function(d){return Rp(i,s,d)}):nT(i,s,l)}function nT(i,s,l){s.status="fulfilled",s.value=l,rT(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,eT(i,l)))}function Rp(i,s,l){var d=i.pending;if(i.pending=null,d!==null){d=d.next;do s.status="rejected",s.reason=l,rT(s),s=s.next;while(s!==d)}i.action=null}function rT(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function iT(i,s){return s}function aT(i,s){if(dt){var l=Lt.formState;if(l!==null){e:{var d=Xe;if(dt){if(Ft){t:{for(var p=Ft,b=_i;p.nodeType!==8;){if(!b){p=null;break t}if(p=Si(p.nextSibling),p===null){p=null;break t}}b=p.data,p=b==="F!"||b==="F"?p:null}if(p){Ft=Si(p.nextSibling),d=p.data==="F!";break e}}Vs(d)}d=!1}d&&(s=l[0])}}return l=_r(),l.memoizedState=l.baseState=s,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iT,lastRenderedState:s},l.queue=d,l=wT.bind(null,Xe,d),d.dispatch=l,d=Cp(!1),b=Np.bind(null,Xe,!1,d.queue),d=_r(),p={state:s,dispatch:null,action:i,pending:null},d.queue=p,l=dD.bind(null,Xe,p,b,l),p.dispatch=l,d.memoizedState=i,[s,l,!1]}function sT(i){var s=dn();return oT(s,Ot,i)}function oT(i,s,l){if(s=wp(i,s,iT)[0],i=zh($a)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var d=Sc(s)}catch(A){throw A===Xl?kh:A}else d=s;s=dn();var p=s.queue,b=p.dispatch;return l!==s.memoizedState&&(Xe.flags|=2048,nu(9,{destroy:void 0},hD.bind(null,p,l),null)),[d,b,i]}function hD(i,s){i.action=s}function lT(i){var s=dn(),l=Ot;if(l!==null)return oT(s,l,i);dn(),s=s.memoizedState,l=dn();var d=l.queue.dispatch;return l.memoizedState=i,[s,d,!1]}function nu(i,s,l,d){return i={tag:i,create:l,deps:d,inst:s,next:null},s=Xe.updateQueue,s===null&&(s=jh(),Xe.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,s.lastEffect=i),i}function uT(){return dn().memoizedState}function Fh(i,s,l,d){var p=_r();Xe.flags|=i,p.memoizedState=nu(1|s,{destroy:void 0},l,d===void 0?null:d)}function Uh(i,s,l,d){var p=dn();d=d===void 0?null:d;var b=p.memoizedState.inst;Ot!==null&&d!==null&&vp(d,Ot.memoizedState.deps)?p.memoizedState=nu(s,b,l,d):(Xe.flags|=i,p.memoizedState=nu(1|s,b,l,d))}function cT(i,s){Fh(8390656,8,i,s)}function Ap(i,s){Uh(2048,8,i,s)}function fD(i){Xe.flags|=4;var s=Xe.updateQueue;if(s===null)s=jh(),Xe.updateQueue=s,s.events=[i];else{var l=s.events;l===null?s.events=[i]:l.push(i)}}function dT(i){var s=dn().memoizedState;return fD({ref:s,nextImpl:i}),function(){if((St&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function hT(i,s){return Uh(4,2,i,s)}function fT(i,s){return Uh(4,4,i,s)}function mT(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function gT(i,s,l){l=l!=null?l.concat([i]):null,Uh(4,4,mT.bind(null,s,i),l)}function Ip(){}function pT(i,s){var l=dn();s=s===void 0?null:s;var d=l.memoizedState;return s!==null&&vp(s,d[1])?d[0]:(l.memoizedState=[i,s],i)}function yT(i,s){var l=dn();s=s===void 0?null:s;var d=l.memoizedState;if(s!==null&&vp(s,d[1]))return d[0];if(d=i(),sl){nt(!0);try{i()}finally{nt(!1)}}return l.memoizedState=[d,s],d}function kp(i,s,l){return l===void 0||(Ka&1073741824)!==0&&(at&261930)===0?i.memoizedState=s:(i.memoizedState=l,i=vE(),Xe.lanes|=i,Gs|=i,l)}function vT(i,s,l,d){return Qr(l,s)?l:Zl.current!==null?(i=kp(i,l,d),Qr(i,s)||(_n=!0),i):(Ka&42)===0||(Ka&1073741824)!==0&&(at&261930)===0?(_n=!0,i.memoizedState=l):(i=vE(),Xe.lanes|=i,Gs|=i,s)}function _T(i,s,l,d,p){var b=se.p;se.p=b!==0&&8>b?b:8;var A=Y.T,P={};Y.T=P,Np(i,!1,s,l);try{var $=p(),ne=Y.S;if(ne!==null&&ne(P,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var ce=lD($,d);Tc(i,s,ce,ni(i))}else Tc(i,s,d,ni(i))}catch(fe){Tc(i,s,{then:function(){},status:"rejected",reason:fe},ni())}finally{se.p=b,A!==null&&P.types!==null&&(A.types=P.types),Y.T=A}}function mD(){}function Op(i,s,l,d){if(i.tag!==5)throw Error(r(476));var p=bT(i).queue;_T(i,p,s,ge,l===null?mD:function(){return ST(i),l(d)})}function bT(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:ge},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function ST(i){var s=bT(i);s.next===null&&(s=i.alternate.memoizedState),Tc(i,s.next.queue,{},ni())}function Dp(){return $n(Bc)}function TT(){return dn().memoizedState}function ET(){return dn().memoizedState}function gD(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=ni();i=zs(l);var d=Fs(s,i,l);d!==null&&(Dr(d,s,l),yc(d,s,l)),s={cache:op()},i.payload=s;return}s=s.return}}function pD(i,s,l){var d=ni();l={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Hh(i)?xT(s,l):(l=Qg(i,s,l,d),l!==null&&(Dr(l,i,d),CT(l,s,d)))}function wT(i,s,l){var d=ni();Tc(i,s,l,d)}function Tc(i,s,l,d){var p={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Hh(i))xT(s,p);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var A=s.lastRenderedState,P=b(A,l);if(p.hasEagerState=!0,p.eagerState=P,Qr(P,A))return Eh(i,s,p,0),Lt===null&&Th(),!1}catch{}if(l=Qg(i,s,p,d),l!==null)return Dr(l,i,d),CT(l,s,d),!0}return!1}function Np(i,s,l,d){if(d={lane:2,revertLane:dy(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Hh(i)){if(s)throw Error(r(479))}else s=Qg(i,l,d,2),s!==null&&Dr(s,i,2)}function Hh(i){var s=i.alternate;return i===Xe||s!==null&&s===Xe}function xT(i,s){eu=Lh=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function CT(i,s,l){if((l&4194048)!==0){var d=s.lanes;d&=i.pendingLanes,l|=d,s.lanes=l,zr(i,l)}}var Ec={readContext:$n,use:Bh,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useLayoutEffect:tn,useInsertionEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useSyncExternalStore:tn,useId:tn,useHostTransitionStatus:tn,useFormState:tn,useActionState:tn,useOptimistic:tn,useMemoCache:tn,useCacheRefresh:tn};Ec.useEffectEvent=tn;var RT={readContext:$n,use:Bh,useCallback:function(i,s){return _r().memoizedState=[i,s===void 0?null:s],i},useContext:$n,useEffect:cT,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,Fh(4194308,4,mT.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Fh(4194308,4,i,s)},useInsertionEffect:function(i,s){Fh(4,2,i,s)},useMemo:function(i,s){var l=_r();s=s===void 0?null:s;var d=i();if(sl){nt(!0);try{i()}finally{nt(!1)}}return l.memoizedState=[d,s],d},useReducer:function(i,s,l){var d=_r();if(l!==void 0){var p=l(s);if(sl){nt(!0);try{l(s)}finally{nt(!1)}}}else p=s;return d.memoizedState=d.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},d.queue=i,i=i.dispatch=pD.bind(null,Xe,i),[d.memoizedState,i]},useRef:function(i){var s=_r();return i={current:i},s.memoizedState=i},useState:function(i){i=Cp(i);var s=i.queue,l=wT.bind(null,Xe,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:Ip,useDeferredValue:function(i,s){var l=_r();return kp(l,i,s)},useTransition:function(){var i=Cp(!1);return i=_T.bind(null,Xe,i.queue,!0,!1),_r().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var d=Xe,p=_r();if(dt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),Lt===null)throw Error(r(349));(at&127)!==0||$S(d,s,l)}p.memoizedState=l;var b={value:l,getSnapshot:s};return p.queue=b,cT(QS.bind(null,d,b,i),[i]),d.flags|=2048,nu(9,{destroy:void 0},YS.bind(null,d,b,l,s),null),l},useId:function(){var i=_r(),s=Lt.identifierPrefix;if(dt){var l=pa,d=ga;l=(d&~(1<<32-kt(d)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Vh++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=uD++,s="_"+s+"r_"+l.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Dp,useFormState:aT,useActionState:aT,useOptimistic:function(i){var s=_r();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Np.bind(null,Xe,!0,l),l.dispatch=s,[i,s]},useMemoCache:Ep,useCacheRefresh:function(){return _r().memoizedState=gD.bind(null,Xe)},useEffectEvent:function(i){var s=_r(),l={impl:i};return s.memoizedState=l,function(){if((St&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},Mp={readContext:$n,use:Bh,useCallback:pT,useContext:$n,useEffect:Ap,useImperativeHandle:gT,useInsertionEffect:hT,useLayoutEffect:fT,useMemo:yT,useReducer:zh,useRef:uT,useState:function(){return zh($a)},useDebugValue:Ip,useDeferredValue:function(i,s){var l=dn();return vT(l,Ot.memoizedState,i,s)},useTransition:function(){var i=zh($a)[0],s=dn().memoizedState;return[typeof i=="boolean"?i:Sc(i),s]},useSyncExternalStore:KS,useId:TT,useHostTransitionStatus:Dp,useFormState:sT,useActionState:sT,useOptimistic:function(i,s){var l=dn();return ZS(l,Ot,i,s)},useMemoCache:Ep,useCacheRefresh:ET};Mp.useEffectEvent=dT;var AT={readContext:$n,use:Bh,useCallback:pT,useContext:$n,useEffect:Ap,useImperativeHandle:gT,useInsertionEffect:hT,useLayoutEffect:fT,useMemo:yT,useReducer:xp,useRef:uT,useState:function(){return xp($a)},useDebugValue:Ip,useDeferredValue:function(i,s){var l=dn();return Ot===null?kp(l,i,s):vT(l,Ot.memoizedState,i,s)},useTransition:function(){var i=xp($a)[0],s=dn().memoizedState;return[typeof i=="boolean"?i:Sc(i),s]},useSyncExternalStore:KS,useId:TT,useHostTransitionStatus:Dp,useFormState:lT,useActionState:lT,useOptimistic:function(i,s){var l=dn();return Ot!==null?ZS(l,Ot,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Ep,useCacheRefresh:ET};AT.useEffectEvent=dT;function Pp(i,s,l,d){s=i.memoizedState,l=l(d,s),l=l==null?s:y({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Lp={enqueueSetState:function(i,s,l){i=i._reactInternals;var d=ni(),p=zs(d);p.payload=s,l!=null&&(p.callback=l),s=Fs(i,p,d),s!==null&&(Dr(s,i,d),yc(s,i,d))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var d=ni(),p=zs(d);p.tag=1,p.payload=s,l!=null&&(p.callback=l),s=Fs(i,p,d),s!==null&&(Dr(s,i,d),yc(s,i,d))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=ni(),d=zs(l);d.tag=2,s!=null&&(d.callback=s),s=Fs(i,d,l),s!==null&&(Dr(s,i,l),yc(s,i,l))}};function IT(i,s,l,d,p,b,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,b,A):s.prototype&&s.prototype.isPureReactComponent?!uc(l,d)||!uc(p,b):!0}function kT(i,s,l,d){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==i&&Lp.enqueueReplaceState(s,s.state,null)}function ol(i,s){var l=s;if("ref"in s){l={};for(var d in s)d!=="ref"&&(l[d]=s[d])}if(i=i.defaultProps){l===s&&(l=y({},l));for(var p in i)l[p]===void 0&&(l[p]=i[p])}return l}function OT(i){Sh(i)}function DT(i){console.error(i)}function NT(i){Sh(i)}function Wh(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(d){setTimeout(function(){throw d})}}function MT(i,s,l){try{var d=i.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Vp(i,s,l){return l=zs(l),l.tag=3,l.payload={element:null},l.callback=function(){Wh(i,s)},l}function PT(i){return i=zs(i),i.tag=3,i}function LT(i,s,l,d){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var b=d.value;i.payload=function(){return p(b)},i.callback=function(){MT(s,l,d)}}var A=l.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){MT(s,l,d),typeof p!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var P=d.stack;this.componentDidCatch(d.value,{componentStack:P!==null?P:""})})}function yD(i,s,l,d,p){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(s=l.alternate,s!==null&&$l(s,l,p,!0),l=Jr.current,l!==null){switch(l.tag){case 31:case 13:return bi===null?nf():l.alternate===null&&nn===0&&(nn=3),l.flags&=-257,l.flags|=65536,l.lanes=p,d===Oh?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([d]):s.add(d),ly(i,d,p)),!1;case 22:return l.flags|=65536,d===Oh?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([d]):l.add(d)),ly(i,d,p)),!1}throw Error(r(435,l.tag))}return ly(i,d,p),nf(),!1}if(dt)return s=Jr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,d!==np&&(i=Error(r(422),{cause:d}),hc(pi(i,l)))):(d!==np&&(s=Error(r(423),{cause:d}),hc(pi(s,l))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,d=pi(d,l),p=Vp(i.stateNode,d,p),fp(i,p),nn!==4&&(nn=2)),!1;var b=Error(r(520),{cause:d});if(b=pi(b,l),Oc===null?Oc=[b]:Oc.push(b),nn!==4&&(nn=2),s===null)return!0;d=pi(d,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=p&-p,l.lanes|=i,i=Vp(l.stateNode,d,i),fp(l,i),!1;case 1:if(s=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ks===null||!Ks.has(b))))return l.flags|=65536,p&=-p,l.lanes|=p,p=PT(p),LT(p,i,l,d),fp(l,p),!1}l=l.return}while(l!==null);return!1}var jp=Error(r(461)),_n=!1;function Yn(i,s,l,d){s.child=i===null?zS(s,null,l,d):al(s,i.child,l,d)}function VT(i,s,l,d,p){l=l.render;var b=s.ref;if("ref"in d){var A={};for(var P in d)P!=="ref"&&(A[P]=d[P])}else A=d;return tl(s),d=_p(i,s,l,A,b,p),P=bp(),i!==null&&!_n?(Sp(i,s,p),Ya(i,s,p)):(dt&&P&&ep(s),s.flags|=1,Yn(i,s,d,p),s.child)}function jT(i,s,l,d,p){if(i===null){var b=l.type;return typeof b=="function"&&!Xg(b)&&b.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=b,BT(i,s,b,d,p)):(i=xh(l.type,null,d,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(b=i.child,!Gp(i,p)){var A=b.memoizedProps;if(l=l.compare,l=l!==null?l:uc,l(A,d)&&i.ref===s.ref)return Ya(i,s,p)}return s.flags|=1,i=Ha(b,d),i.ref=s.ref,i.return=s,s.child=i}function BT(i,s,l,d,p){if(i!==null){var b=i.memoizedProps;if(uc(b,d)&&i.ref===s.ref)if(_n=!1,s.pendingProps=d=b,Gp(i,p))(i.flags&131072)!==0&&(_n=!0);else return s.lanes=i.lanes,Ya(i,s,p)}return Bp(i,s,l,d,p)}function zT(i,s,l,d){var p=d.children,b=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((s.flags&128)!==0){if(b=b!==null?b.baseLanes|l:l,i!==null){for(d=s.child=i.child,p=0;d!==null;)p=p|d.lanes|d.childLanes,d=d.sibling;d=p&~b}else d=0,s.child=null;return FT(i,s,b,l,d)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ih(s,b!==null?b.cachePool:null),b!==null?HS(s,b):gp(),WS(s);else return d=s.lanes=536870912,FT(i,s,b!==null?b.baseLanes|l:l,l,d)}else b!==null?(Ih(s,b.cachePool),HS(s,b),Hs(),s.memoizedState=null):(i!==null&&Ih(s,null),gp(),Hs());return Yn(i,s,p,l),s.child}function wc(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function FT(i,s,l,d,p){var b=up();return b=b===null?null:{parent:yn._currentValue,pool:b},s.memoizedState={baseLanes:l,cachePool:b},i!==null&&Ih(s,null),gp(),WS(s),i!==null&&$l(i,s,d,!0),s.childLanes=p,null}function qh(i,s){return s=Kh({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function UT(i,s,l){return al(s,i.child,null,l),i=qh(s,s.pendingProps),i.flags|=2,Zr(s),s.memoizedState=null,i}function vD(i,s,l){var d=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(dt){if(d.mode==="hidden")return i=qh(s,d),s.lanes=536870912,wc(null,i);if(yp(s),(i=Ft)?(i=ew(i,_i),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Ps!==null?{id:ga,overflow:pa}:null,retryLane:536870912,hydrationErrors:null},l=xS(i),l.return=s,s.child=l,Kn=s,Ft=null)):i=null,i===null)throw Vs(s);return s.lanes=536870912,null}return qh(s,d)}var b=i.memoizedState;if(b!==null){var A=b.dehydrated;if(yp(s),p)if(s.flags&256)s.flags&=-257,s=UT(i,s,l);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(_n||$l(i,s,l,!1),p=(l&i.childLanes)!==0,_n||p){if(d=Lt,d!==null&&(A=Fr(d,l),A!==0&&A!==b.retryLane))throw b.retryLane=A,Xo(i,A),Dr(d,i,A),jp;nf(),s=UT(i,s,l)}else i=b.treeContext,Ft=Si(A.nextSibling),Kn=s,dt=!0,Ls=null,_i=!1,i!==null&&AS(s,i),s=qh(s,d),s.flags|=4096;return s}return i=Ha(i.child,{mode:d.mode,children:d.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Gh(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function Bp(i,s,l,d,p){return tl(s),l=_p(i,s,l,d,void 0,p),d=bp(),i!==null&&!_n?(Sp(i,s,p),Ya(i,s,p)):(dt&&d&&ep(s),s.flags|=1,Yn(i,s,l,p),s.child)}function HT(i,s,l,d,p,b){return tl(s),s.updateQueue=null,l=GS(s,d,l,p),qS(i),d=bp(),i!==null&&!_n?(Sp(i,s,b),Ya(i,s,b)):(dt&&d&&ep(s),s.flags|=1,Yn(i,s,l,b),s.child)}function WT(i,s,l,d,p){if(tl(s),s.stateNode===null){var b=Wl,A=l.contextType;typeof A=="object"&&A!==null&&(b=$n(A)),b=new l(d,b),s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Lp,s.stateNode=b,b._reactInternals=s,b=s.stateNode,b.props=d,b.state=s.memoizedState,b.refs={},dp(s),A=l.contextType,b.context=typeof A=="object"&&A!==null?$n(A):Wl,b.state=s.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(Pp(s,l,A,d),b.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(A=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),A!==b.state&&Lp.enqueueReplaceState(b,b.state,null),_c(s,d,b,p),vc(),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308),d=!0}else if(i===null){b=s.stateNode;var P=s.memoizedProps,$=ol(l,P);b.props=$;var ne=b.context,ce=l.contextType;A=Wl,typeof ce=="object"&&ce!==null&&(A=$n(ce));var fe=l.getDerivedStateFromProps;ce=typeof fe=="function"||typeof b.getSnapshotBeforeUpdate=="function",P=s.pendingProps!==P,ce||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(P||ne!==A)&&kT(s,b,d,A),Bs=!1;var re=s.memoizedState;b.state=re,_c(s,d,b,p),vc(),ne=s.memoizedState,P||re!==ne||Bs?(typeof fe=="function"&&(Pp(s,l,fe,d),ne=s.memoizedState),($=Bs||IT(s,l,$,d,re,ne,A))?(ce||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=ne),b.props=d,b.state=ne,b.context=A,d=$):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{b=s.stateNode,hp(i,s),A=s.memoizedProps,ce=ol(l,A),b.props=ce,fe=s.pendingProps,re=b.context,ne=l.contextType,$=Wl,typeof ne=="object"&&ne!==null&&($=$n(ne)),P=l.getDerivedStateFromProps,(ne=typeof P=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(A!==fe||re!==$)&&kT(s,b,d,$),Bs=!1,re=s.memoizedState,b.state=re,_c(s,d,b,p),vc();var oe=s.memoizedState;A!==fe||re!==oe||Bs||i!==null&&i.dependencies!==null&&Rh(i.dependencies)?(typeof P=="function"&&(Pp(s,l,P,d),oe=s.memoizedState),(ce=Bs||IT(s,l,ce,d,re,oe,$)||i!==null&&i.dependencies!==null&&Rh(i.dependencies))?(ne||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,oe,$),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,oe,$)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||A===i.memoizedProps&&re===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&re===i.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=oe),b.props=d,b.state=oe,b.context=$,d=ce):(typeof b.componentDidUpdate!="function"||A===i.memoizedProps&&re===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&re===i.memoizedState||(s.flags|=1024),d=!1)}return b=d,Gh(i,s),d=(s.flags&128)!==0,b||d?(b=s.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:b.render(),s.flags|=1,i!==null&&d?(s.child=al(s,i.child,null,p),s.child=al(s,null,l,p)):Yn(i,s,l,p),s.memoizedState=b.state,i=s.child):i=Ya(i,s,p),i}function qT(i,s,l,d){return Zo(),s.flags|=256,Yn(i,s,l,d),s.child}var zp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fp(i){return{baseLanes:i,cachePool:MS()}}function Up(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=ti),i}function GT(i,s,l){var d=s.pendingProps,p=!1,b=(s.flags&128)!==0,A;if((A=b)||(A=i!==null&&i.memoizedState===null?!1:(cn.current&2)!==0),A&&(p=!0,s.flags&=-129),A=(s.flags&32)!==0,s.flags&=-33,i===null){if(dt){if(p?Us(s):Hs(),(i=Ft)?(i=ew(i,_i),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Ps!==null?{id:ga,overflow:pa}:null,retryLane:536870912,hydrationErrors:null},l=xS(i),l.return=s,s.child=l,Kn=s,Ft=null)):i=null,i===null)throw Vs(s);return wy(i)?s.lanes=32:s.lanes=536870912,null}var P=d.children;return d=d.fallback,p?(Hs(),p=s.mode,P=Kh({mode:"hidden",children:P},p),d=Jo(d,p,l,null),P.return=s,d.return=s,P.sibling=d,s.child=P,d=s.child,d.memoizedState=Fp(l),d.childLanes=Up(i,A,l),s.memoizedState=zp,wc(null,d)):(Us(s),Hp(s,P))}var $=i.memoizedState;if($!==null&&(P=$.dehydrated,P!==null)){if(b)s.flags&256?(Us(s),s.flags&=-257,s=Wp(i,s,l)):s.memoizedState!==null?(Hs(),s.child=i.child,s.flags|=128,s=null):(Hs(),P=d.fallback,p=s.mode,d=Kh({mode:"visible",children:d.children},p),P=Jo(P,p,l,null),P.flags|=2,d.return=s,P.return=s,d.sibling=P,s.child=d,al(s,i.child,null,l),d=s.child,d.memoizedState=Fp(l),d.childLanes=Up(i,A,l),s.memoizedState=zp,s=wc(null,d));else if(Us(s),wy(P)){if(A=P.nextSibling&&P.nextSibling.dataset,A)var ne=A.dgst;A=ne,d=Error(r(419)),d.stack="",d.digest=A,hc({value:d,source:null,stack:null}),s=Wp(i,s,l)}else if(_n||$l(i,s,l,!1),A=(l&i.childLanes)!==0,_n||A){if(A=Lt,A!==null&&(d=Fr(A,l),d!==0&&d!==$.retryLane))throw $.retryLane=d,Xo(i,d),Dr(A,i,d),jp;Ey(P)||nf(),s=Wp(i,s,l)}else Ey(P)?(s.flags|=192,s.child=i.child,s=null):(i=$.treeContext,Ft=Si(P.nextSibling),Kn=s,dt=!0,Ls=null,_i=!1,i!==null&&AS(s,i),s=Hp(s,d.children),s.flags|=4096);return s}return p?(Hs(),P=d.fallback,p=s.mode,$=i.child,ne=$.sibling,d=Ha($,{mode:"hidden",children:d.children}),d.subtreeFlags=$.subtreeFlags&65011712,ne!==null?P=Ha(ne,P):(P=Jo(P,p,l,null),P.flags|=2),P.return=s,d.return=s,d.sibling=P,s.child=d,wc(null,d),d=s.child,P=i.child.memoizedState,P===null?P=Fp(l):(p=P.cachePool,p!==null?($=yn._currentValue,p=p.parent!==$?{parent:$,pool:$}:p):p=MS(),P={baseLanes:P.baseLanes|l,cachePool:p}),d.memoizedState=P,d.childLanes=Up(i,A,l),s.memoizedState=zp,wc(i.child,d)):(Us(s),l=i.child,i=l.sibling,l=Ha(l,{mode:"visible",children:d.children}),l.return=s,l.sibling=null,i!==null&&(A=s.deletions,A===null?(s.deletions=[i],s.flags|=16):A.push(i)),s.child=l,s.memoizedState=null,l)}function Hp(i,s){return s=Kh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Kh(i,s){return i=Xr(22,i,null,s),i.lanes=0,i}function Wp(i,s,l){return al(s,i.child,null,l),i=Hp(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function KT(i,s,l){i.lanes|=s;var d=i.alternate;d!==null&&(d.lanes|=s),ap(i.return,s,l)}function qp(i,s,l,d,p,b){var A=i.memoizedState;A===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p,treeForkCount:b}:(A.isBackwards=s,A.rendering=null,A.renderingStartTime=0,A.last=d,A.tail=l,A.tailMode=p,A.treeForkCount=b)}function $T(i,s,l){var d=s.pendingProps,p=d.revealOrder,b=d.tail;d=d.children;var A=cn.current,P=(A&2)!==0;if(P?(A=A&1|2,s.flags|=128):A&=1,ye(cn,A),Yn(i,s,d,l),d=dt?dc:0,!P&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&KT(i,l,s);else if(i.tag===19)KT(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(p){case"forwards":for(l=s.child,p=null;l!==null;)i=l.alternate,i!==null&&Ph(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),qp(s,!1,p,l,b,d);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&Ph(i)===null){s.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}qp(s,!0,l,null,b,d);break;case"together":qp(s,!1,null,null,void 0,d);break;default:s.memoizedState=null}return s.child}function Ya(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),Gs|=s.lanes,(l&s.childLanes)===0)if(i!==null){if($l(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=Ha(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Ha(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function Gp(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Rh(i)))}function _D(i,s,l){switch(s.tag){case 3:Ve(s,s.stateNode.containerInfo),js(s,yn,i.memoizedState.cache),Zo();break;case 27:case 5:We(s);break;case 4:Ve(s,s.stateNode.containerInfo);break;case 10:js(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,yp(s),null;break;case 13:var d=s.memoizedState;if(d!==null)return d.dehydrated!==null?(Us(s),s.flags|=128,null):(l&s.child.childLanes)!==0?GT(i,s,l):(Us(s),i=Ya(i,s,l),i!==null?i.sibling:null);Us(s);break;case 19:var p=(i.flags&128)!==0;if(d=(l&s.childLanes)!==0,d||($l(i,s,l,!1),d=(l&s.childLanes)!==0),p){if(d)return $T(i,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ye(cn,cn.current),d)break;return null;case 22:return s.lanes=0,zT(i,s,l,s.pendingProps);case 24:js(s,yn,i.memoizedState.cache)}return Ya(i,s,l)}function YT(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)_n=!0;else{if(!Gp(i,l)&&(s.flags&128)===0)return _n=!1,_D(i,s,l);_n=(i.flags&131072)!==0}else _n=!1,dt&&(s.flags&1048576)!==0&&RS(s,dc,s.index);switch(s.lanes=0,s.tag){case 16:e:{var d=s.pendingProps;if(i=rl(s.elementType),s.type=i,typeof i=="function")Xg(i)?(d=ol(i,d),s.tag=1,s=WT(null,s,i,d,l)):(s.tag=0,s=Bp(null,s,i,d,l));else{if(i!=null){var p=i.$$typeof;if(p===z){s.tag=11,s=VT(null,s,i,d,l);break e}else if(p===N){s.tag=14,s=jT(null,s,i,d,l);break e}}throw s=ue(i)||i,Error(r(306,s,""))}}return s;case 0:return Bp(i,s,s.type,s.pendingProps,l);case 1:return d=s.type,p=ol(d,s.pendingProps),WT(i,s,d,p,l);case 3:e:{if(Ve(s,s.stateNode.containerInfo),i===null)throw Error(r(387));d=s.pendingProps;var b=s.memoizedState;p=b.element,hp(i,s),_c(s,d,null,l);var A=s.memoizedState;if(d=A.cache,js(s,yn,d),d!==b.cache&&sp(s,[yn],l,!0),vc(),d=A.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:A.cache},s.updateQueue.baseState=b,s.memoizedState=b,s.flags&256){s=qT(i,s,d,l);break e}else if(d!==p){p=pi(Error(r(424)),s),hc(p),s=qT(i,s,d,l);break e}else for(i=s.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Ft=Si(i.firstChild),Kn=s,dt=!0,Ls=null,_i=!0,l=zS(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Zo(),d===p){s=Ya(i,s,l);break e}Yn(i,s,d,l)}s=s.child}return s;case 26:return Gh(i,s),i===null?(l=sw(s.type,null,s.pendingProps,null))?s.memoizedState=l:dt||(l=s.type,i=s.pendingProps,d=cf(De.current).createElement(l),d[Et]=s,d[on]=i,Qn(d,l,i),Xt(d),s.stateNode=d):s.memoizedState=sw(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return We(s),i===null&&dt&&(d=s.stateNode=rw(s.type,s.pendingProps,De.current),Kn=s,_i=!0,p=Ft,Xs(s.type)?(xy=p,Ft=Si(d.firstChild)):Ft=p),Yn(i,s,s.pendingProps.children,l),Gh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&dt&&((p=d=Ft)&&(d=YD(d,s.type,s.pendingProps,_i),d!==null?(s.stateNode=d,Kn=s,Ft=Si(d.firstChild),_i=!1,p=!0):p=!1),p||Vs(s)),We(s),p=s.type,b=s.pendingProps,A=i!==null?i.memoizedProps:null,d=b.children,by(p,b)?d=null:A!==null&&by(p,A)&&(s.flags|=32),s.memoizedState!==null&&(p=_p(i,s,cD,null,null,l),Bc._currentValue=p),Gh(i,s),Yn(i,s,d,l),s.child;case 6:return i===null&&dt&&((i=l=Ft)&&(l=QD(l,s.pendingProps,_i),l!==null?(s.stateNode=l,Kn=s,Ft=null,i=!0):i=!1),i||Vs(s)),null;case 13:return GT(i,s,l);case 4:return Ve(s,s.stateNode.containerInfo),d=s.pendingProps,i===null?s.child=al(s,null,d,l):Yn(i,s,d,l),s.child;case 11:return VT(i,s,s.type,s.pendingProps,l);case 7:return Yn(i,s,s.pendingProps,l),s.child;case 8:return Yn(i,s,s.pendingProps.children,l),s.child;case 12:return Yn(i,s,s.pendingProps.children,l),s.child;case 10:return d=s.pendingProps,js(s,s.type,d.value),Yn(i,s,d.children,l),s.child;case 9:return p=s.type._context,d=s.pendingProps.children,tl(s),p=$n(p),d=d(p),s.flags|=1,Yn(i,s,d,l),s.child;case 14:return jT(i,s,s.type,s.pendingProps,l);case 15:return BT(i,s,s.type,s.pendingProps,l);case 19:return $T(i,s,l);case 31:return vD(i,s,l);case 22:return zT(i,s,l,s.pendingProps);case 24:return tl(s),d=$n(yn),i===null?(p=up(),p===null&&(p=Lt,b=op(),p.pooledCache=b,b.refCount++,b!==null&&(p.pooledCacheLanes|=l),p=b),s.memoizedState={parent:d,cache:p},dp(s),js(s,yn,p)):((i.lanes&l)!==0&&(hp(i,s),_c(s,null,null,l),vc()),p=i.memoizedState,b=s.memoizedState,p.parent!==d?(p={parent:d,cache:d},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),js(s,yn,d)):(d=b.cache,js(s,yn,d),d!==p.cache&&sp(s,[yn],l,!0))),Yn(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Qa(i){i.flags|=4}function Kp(i,s,l,d,p){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(p&335544128)===p)if(i.stateNode.complete)i.flags|=8192;else if(TE())i.flags|=8192;else throw il=Oh,cp}else i.flags&=-16777217}function QT(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!dw(s))if(TE())i.flags|=8192;else throw il=Oh,cp}function $h(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?di():536870912,i.lanes|=s,su|=s)}function xc(i,s){if(!dt)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function Ut(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(s)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&65011712,d|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=d,i.childLanes=l,s}function bD(i,s,l){var d=s.pendingProps;switch(tp(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(s),null;case 1:return Ut(s),null;case 3:return l=s.stateNode,d=null,i!==null&&(d=i.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),Ga(yn),$e(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Kl(s)?Qa(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,rp())),Ut(s),null;case 26:var p=s.type,b=s.memoizedState;return i===null?(Qa(s),b!==null?(Ut(s),QT(s,b)):(Ut(s),Kp(s,p,null,d,l))):b?b!==i.memoizedState?(Qa(s),Ut(s),QT(s,b)):(Ut(s),s.flags&=-16777217):(i=i.memoizedProps,i!==d&&Qa(s),Ut(s),Kp(s,p,i,d,l)),null;case 27:if(gt(s),l=De.current,p=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==d&&Qa(s);else{if(!d){if(s.stateNode===null)throw Error(r(166));return Ut(s),null}i=be.current,Kl(s)?IS(s):(i=rw(p,d,l),s.stateNode=i,Qa(s))}return Ut(s),null;case 5:if(gt(s),p=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==d&&Qa(s);else{if(!d){if(s.stateNode===null)throw Error(r(166));return Ut(s),null}if(b=be.current,Kl(s))IS(s);else{var A=cf(De.current);switch(b){case 1:b=A.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:b=A.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":b=A.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":b=A.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":b=A.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof d.is=="string"?A.createElement("select",{is:d.is}):A.createElement("select"),d.multiple?b.multiple=!0:d.size&&(b.size=d.size);break;default:b=typeof d.is=="string"?A.createElement(p,{is:d.is}):A.createElement(p)}}b[Et]=s,b[on]=d;e:for(A=s.child;A!==null;){if(A.tag===5||A.tag===6)b.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===s)break e;for(;A.sibling===null;){if(A.return===null||A.return===s)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}s.stateNode=b;e:switch(Qn(b,p,d),p){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Qa(s)}}return Ut(s),Kp(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,l),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==d&&Qa(s);else{if(typeof d!="string"&&s.stateNode===null)throw Error(r(166));if(i=De.current,Kl(s)){if(i=s.stateNode,l=s.memoizedProps,d=null,p=Kn,p!==null)switch(p.tag){case 27:case 5:d=p.memoizedProps}i[Et]=s,i=!!(i.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||GE(i.nodeValue,l)),i||Vs(s,!0)}else i=cf(i).createTextNode(d),i[Et]=s,s.stateNode=i}return Ut(s),null;case 31:if(l=s.memoizedState,i===null||i.memoizedState!==null){if(d=Kl(s),l!==null){if(i===null){if(!d)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Et]=s}else Zo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ut(s),i=!1}else l=rp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return s.flags&256?(Zr(s),s):(Zr(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Ut(s),null;case 13:if(d=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=Kl(s),d!==null&&d.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Et]=s}else Zo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ut(s),p=!1}else p=rp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Zr(s),s):(Zr(s),null)}return Zr(s),(s.flags&128)!==0?(s.lanes=l,s):(l=d!==null,i=i!==null&&i.memoizedState!==null,l&&(d=s.child,p=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(p=d.alternate.memoizedState.cachePool.pool),b=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==p&&(d.flags|=2048)),l!==i&&l&&(s.child.flags|=8192),$h(s,s.updateQueue),Ut(s),null);case 4:return $e(),i===null&&gy(s.stateNode.containerInfo),Ut(s),null;case 10:return Ga(s.type),Ut(s),null;case 19:if(X(cn),d=s.memoizedState,d===null)return Ut(s),null;if(p=(s.flags&128)!==0,b=d.rendering,b===null)if(p)xc(d,!1);else{if(nn!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(b=Ph(i),b!==null){for(s.flags|=128,xc(d,!1),i=b.updateQueue,s.updateQueue=i,$h(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)wS(l,i),l=l.sibling;return ye(cn,cn.current&1|2),dt&&Wa(s,d.treeForkCount),s.child}i=i.sibling}d.tail!==null&&Pt()>Zh&&(s.flags|=128,p=!0,xc(d,!1),s.lanes=4194304)}else{if(!p)if(i=Ph(b),i!==null){if(s.flags|=128,p=!0,i=i.updateQueue,s.updateQueue=i,$h(s,i),xc(d,!0),d.tail===null&&d.tailMode==="hidden"&&!b.alternate&&!dt)return Ut(s),null}else 2*Pt()-d.renderingStartTime>Zh&&l!==536870912&&(s.flags|=128,p=!0,xc(d,!1),s.lanes=4194304);d.isBackwards?(b.sibling=s.child,s.child=b):(i=d.last,i!==null?i.sibling=b:s.child=b,d.last=b)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=Pt(),i.sibling=null,l=cn.current,ye(cn,p?l&1|2:l&1),dt&&Wa(s,d.treeForkCount),i):(Ut(s),null);case 22:case 23:return Zr(s),pp(),d=s.memoizedState!==null,i!==null?i.memoizedState!==null!==d&&(s.flags|=8192):d&&(s.flags|=8192),d?(l&536870912)!==0&&(s.flags&128)===0&&(Ut(s),s.subtreeFlags&6&&(s.flags|=8192)):Ut(s),l=s.updateQueue,l!==null&&$h(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==l&&(s.flags|=2048),i!==null&&X(nl),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Ga(yn),Ut(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function SD(i,s){switch(tp(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ga(yn),$e(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return gt(s),null;case 31:if(s.memoizedState!==null){if(Zr(s),s.alternate===null)throw Error(r(340));Zo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Zr(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Zo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return X(cn),null;case 4:return $e(),null;case 10:return Ga(s.type),null;case 22:case 23:return Zr(s),pp(),i!==null&&X(nl),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Ga(yn),null;case 25:return null;default:return null}}function XT(i,s){switch(tp(s),s.tag){case 3:Ga(yn),$e();break;case 26:case 27:case 5:gt(s);break;case 4:$e();break;case 31:s.memoizedState!==null&&Zr(s);break;case 13:Zr(s);break;case 19:X(cn);break;case 10:Ga(s.type);break;case 22:case 23:Zr(s),pp(),i!==null&&X(nl);break;case 24:Ga(yn)}}function Cc(i,s){try{var l=s.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var p=d.next;l=p;do{if((l.tag&i)===i){d=void 0;var b=l.create,A=l.inst;d=b(),A.destroy=d}l=l.next}while(l!==p)}}catch(P){It(s,s.return,P)}}function Ws(i,s,l){try{var d=s.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var b=p.next;d=b;do{if((d.tag&i)===i){var A=d.inst,P=A.destroy;if(P!==void 0){A.destroy=void 0,p=s;var $=l,ne=P;try{ne()}catch(ce){It(p,$,ce)}}}d=d.next}while(d!==b)}}catch(ce){It(s,s.return,ce)}}function JT(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{US(s,l)}catch(d){It(i,i.return,d)}}}function ZT(i,s,l){l.props=ol(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(d){It(i,s,d)}}function Rc(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var d=i.stateNode;break;case 30:d=i.stateNode;break;default:d=i.stateNode}typeof l=="function"?i.refCleanup=l(d):l.current=d}}catch(p){It(i,s,p)}}function ya(i,s){var l=i.ref,d=i.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(p){It(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){It(i,s,p)}else l.current=null}function eE(i){var s=i.type,l=i.memoizedProps,d=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(p){It(i,i.return,p)}}function $p(i,s,l){try{var d=i.stateNode;HD(d,i.type,l,s),d[on]=s}catch(p){It(i,i.return,p)}}function tE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Xs(i.type)||i.tag===4}function Yp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||tE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Xs(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Qp(i,s,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Rr));else if(d!==4&&(d===27&&Xs(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(Qp(i,s,l),i=i.sibling;i!==null;)Qp(i,s,l),i=i.sibling}function Yh(i,s,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(d!==4&&(d===27&&Xs(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Yh(i,s,l),i=i.sibling;i!==null;)Yh(i,s,l),i=i.sibling}function nE(i){var s=i.stateNode,l=i.memoizedProps;try{for(var d=i.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);Qn(s,d,l),s[Et]=i,s[on]=l}catch(b){It(i,i.return,b)}}var Xa=!1,bn=!1,Xp=!1,rE=typeof WeakSet=="function"?WeakSet:Set,jn=null;function TD(i,s){if(i=i.containerInfo,vy=yf,i=gS(i),Wg(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var A=0,P=-1,$=-1,ne=0,ce=0,fe=i,re=null;t:for(;;){for(var oe;fe!==l||p!==0&&fe.nodeType!==3||(P=A+p),fe!==b||d!==0&&fe.nodeType!==3||($=A+d),fe.nodeType===3&&(A+=fe.nodeValue.length),(oe=fe.firstChild)!==null;)re=fe,fe=oe;for(;;){if(fe===i)break t;if(re===l&&++ne===p&&(P=A),re===b&&++ce===d&&($=A),(oe=fe.nextSibling)!==null)break;fe=re,re=fe.parentNode}fe=oe}l=P===-1||$===-1?null:{start:P,end:$}}else l=null}l=l||{start:0,end:0}}else l=null;for(_y={focusedElem:i,selectionRange:l},yf=!1,jn=s;jn!==null;)if(s=jn,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,jn=i;else for(;jn!==null;){switch(s=jn,b=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)p=i[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,l=s,p=b.memoizedProps,b=b.memoizedState,d=l.stateNode;try{var Me=ol(l.type,p);i=d.getSnapshotBeforeUpdate(Me,b),d.__reactInternalSnapshotBeforeUpdate=i}catch(Fe){It(l,l.return,Fe)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)Ty(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Ty(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,jn=i;break}jn=s.return}}function iE(i,s,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:Za(i,l),d&4&&Cc(5,l);break;case 1:if(Za(i,l),d&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(A){It(l,l.return,A)}else{var p=ol(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(A){It(l,l.return,A)}}d&64&&JT(l),d&512&&Rc(l,l.return);break;case 3:if(Za(i,l),d&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{US(i,s)}catch(A){It(l,l.return,A)}}break;case 27:s===null&&d&4&&nE(l);case 26:case 5:Za(i,l),s===null&&d&4&&eE(l),d&512&&Rc(l,l.return);break;case 12:Za(i,l);break;case 31:Za(i,l),d&4&&oE(i,l);break;case 13:Za(i,l),d&4&&lE(i,l),d&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=OD.bind(null,l),XD(i,l))));break;case 22:if(d=l.memoizedState!==null||Xa,!d){s=s!==null&&s.memoizedState!==null||bn,p=Xa;var b=bn;Xa=d,(bn=s)&&!b?es(i,l,(l.subtreeFlags&8772)!==0):Za(i,l),Xa=p,bn=b}break;case 30:break;default:Za(i,l)}}function aE(i){var s=i.alternate;s!==null&&(i.alternate=null,aE(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&bs(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Qt=null,Ar=!1;function Ja(i,s,l){for(l=l.child;l!==null;)sE(i,s,l),l=l.sibling}function sE(i,s,l){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(Hn,l)}catch{}switch(l.tag){case 26:bn||ya(l,s),Ja(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:bn||ya(l,s);var d=Qt,p=Ar;Xs(l.type)&&(Qt=l.stateNode,Ar=!1),Ja(i,s,l),Lc(l.stateNode),Qt=d,Ar=p;break;case 5:bn||ya(l,s);case 6:if(d=Qt,p=Ar,Qt=null,Ja(i,s,l),Qt=d,Ar=p,Qt!==null)if(Ar)try{(Qt.nodeType===9?Qt.body:Qt.nodeName==="HTML"?Qt.ownerDocument.body:Qt).removeChild(l.stateNode)}catch(b){It(l,s,b)}else try{Qt.removeChild(l.stateNode)}catch(b){It(l,s,b)}break;case 18:Qt!==null&&(Ar?(i=Qt,JE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),mu(i)):JE(Qt,l.stateNode));break;case 4:d=Qt,p=Ar,Qt=l.stateNode.containerInfo,Ar=!0,Ja(i,s,l),Qt=d,Ar=p;break;case 0:case 11:case 14:case 15:Ws(2,l,s),bn||Ws(4,l,s),Ja(i,s,l);break;case 1:bn||(ya(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"&&ZT(l,s,d)),Ja(i,s,l);break;case 21:Ja(i,s,l);break;case 22:bn=(d=bn)||l.memoizedState!==null,Ja(i,s,l),bn=d;break;default:Ja(i,s,l)}}function oE(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{mu(i)}catch(l){It(s,s.return,l)}}}function lE(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{mu(i)}catch(l){It(s,s.return,l)}}function ED(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new rE),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new rE),s;default:throw Error(r(435,i.tag))}}function Qh(i,s){var l=ED(i);s.forEach(function(d){if(!l.has(d)){l.add(d);var p=DD.bind(null,i,d);d.then(p,p)}})}function Ir(i,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d],b=i,A=s,P=A;e:for(;P!==null;){switch(P.tag){case 27:if(Xs(P.type)){Qt=P.stateNode,Ar=!1;break e}break;case 5:Qt=P.stateNode,Ar=!1;break e;case 3:case 4:Qt=P.stateNode.containerInfo,Ar=!0;break e}P=P.return}if(Qt===null)throw Error(r(160));sE(b,A,p),Qt=null,Ar=!1,b=p.alternate,b!==null&&(b.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)uE(s,i),s=s.sibling}var Hi=null;function uE(i,s){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ir(s,i),kr(i),d&4&&(Ws(3,i,i.return),Cc(3,i),Ws(5,i,i.return));break;case 1:Ir(s,i),kr(i),d&512&&(bn||l===null||ya(l,l.return)),d&64&&Xa&&(i=i.updateQueue,i!==null&&(d=i.callbacks,d!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var p=Hi;if(Ir(s,i),kr(i),d&512&&(bn||l===null||ya(l,l.return)),d&4){var b=l!==null?l.memoizedState:null;if(d=i.memoizedState,l===null)if(d===null)if(i.stateNode===null){e:{d=i.type,l=i.memoizedProps,p=p.ownerDocument||p;t:switch(d){case"title":b=p.getElementsByTagName("title")[0],(!b||b[Ae]||b[Et]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=p.createElement(d),p.head.insertBefore(b,p.querySelector("head > title"))),Qn(b,d,l),b[Et]=i,Xt(b),d=b;break e;case"link":var A=uw("link","href",p).get(d+(l.href||""));if(A){for(var P=0;P<A.length;P++)if(b=A[P],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){A.splice(P,1);break t}}b=p.createElement(d),Qn(b,d,l),p.head.appendChild(b);break;case"meta":if(A=uw("meta","content",p).get(d+(l.content||""))){for(P=0;P<A.length;P++)if(b=A[P],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){A.splice(P,1);break t}}b=p.createElement(d),Qn(b,d,l),p.head.appendChild(b);break;default:throw Error(r(468,d))}b[Et]=i,Xt(b),d=b}i.stateNode=d}else cw(p,i.type,i.stateNode);else i.stateNode=lw(p,d,i.memoizedProps);else b!==d?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,d===null?cw(p,i.type,i.stateNode):lw(p,d,i.memoizedProps)):d===null&&i.stateNode!==null&&$p(i,i.memoizedProps,l.memoizedProps)}break;case 27:Ir(s,i),kr(i),d&512&&(bn||l===null||ya(l,l.return)),l!==null&&d&4&&$p(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Ir(s,i),kr(i),d&512&&(bn||l===null||ya(l,l.return)),i.flags&32){p=i.stateNode;try{qn(p,"")}catch(Me){It(i,i.return,Me)}}d&4&&i.stateNode!=null&&(p=i.memoizedProps,$p(i,p,l!==null?l.memoizedProps:p)),d&1024&&(Xp=!0);break;case 6:if(Ir(s,i),kr(i),d&4){if(i.stateNode===null)throw Error(r(162));d=i.memoizedProps,l=i.stateNode;try{l.nodeValue=d}catch(Me){It(i,i.return,Me)}}break;case 3:if(ff=null,p=Hi,Hi=df(s.containerInfo),Ir(s,i),Hi=p,kr(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{mu(s.containerInfo)}catch(Me){It(i,i.return,Me)}Xp&&(Xp=!1,cE(i));break;case 4:d=Hi,Hi=df(i.stateNode.containerInfo),Ir(s,i),kr(i),Hi=d;break;case 12:Ir(s,i),kr(i);break;case 31:Ir(s,i),kr(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Qh(i,d)));break;case 13:Ir(s,i),kr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Jh=Pt()),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Qh(i,d)));break;case 22:p=i.memoizedState!==null;var $=l!==null&&l.memoizedState!==null,ne=Xa,ce=bn;if(Xa=ne||p,bn=ce||$,Ir(s,i),bn=ce,Xa=ne,kr(i),d&8192)e:for(s=i.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(l===null||$||Xa||bn||ll(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){$=l=s;try{if(b=$.stateNode,p)A=b.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{P=$.stateNode;var fe=$.memoizedProps.style,re=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;P.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(Me){It($,$.return,Me)}}}else if(s.tag===6){if(l===null){$=s;try{$.stateNode.nodeValue=p?"":$.memoizedProps}catch(Me){It($,$.return,Me)}}}else if(s.tag===18){if(l===null){$=s;try{var oe=$.stateNode;p?ZE(oe,!0):ZE($.stateNode,!1)}catch(Me){It($,$.return,Me)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}d&4&&(d=i.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,Qh(i,l))));break;case 19:Ir(s,i),kr(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Qh(i,d)));break;case 30:break;case 21:break;default:Ir(s,i),kr(i)}}function kr(i){var s=i.flags;if(s&2){try{for(var l,d=i.return;d!==null;){if(tE(d)){l=d;break}d=d.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var p=l.stateNode,b=Yp(i);Yh(i,b,p);break;case 5:var A=l.stateNode;l.flags&32&&(qn(A,""),l.flags&=-33);var P=Yp(i);Yh(i,P,A);break;case 3:case 4:var $=l.stateNode.containerInfo,ne=Yp(i);Qp(i,ne,$);break;default:throw Error(r(161))}}catch(ce){It(i,i.return,ce)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function cE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;cE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Za(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)iE(i,s.alternate,s),s=s.sibling}function ll(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Ws(4,s,s.return),ll(s);break;case 1:ya(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&ZT(s,s.return,l),ll(s);break;case 27:Lc(s.stateNode);case 26:case 5:ya(s,s.return),ll(s);break;case 22:s.memoizedState===null&&ll(s);break;case 30:ll(s);break;default:ll(s)}i=i.sibling}}function es(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var d=s.alternate,p=i,b=s,A=b.flags;switch(b.tag){case 0:case 11:case 15:es(p,b,l),Cc(4,b);break;case 1:if(es(p,b,l),d=b,p=d.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(ne){It(d,d.return,ne)}if(d=b,p=d.updateQueue,p!==null){var P=d.stateNode;try{var $=p.shared.hiddenCallbacks;if($!==null)for(p.shared.hiddenCallbacks=null,p=0;p<$.length;p++)FS($[p],P)}catch(ne){It(d,d.return,ne)}}l&&A&64&&JT(b),Rc(b,b.return);break;case 27:nE(b);case 26:case 5:es(p,b,l),l&&d===null&&A&4&&eE(b),Rc(b,b.return);break;case 12:es(p,b,l);break;case 31:es(p,b,l),l&&A&4&&oE(p,b);break;case 13:es(p,b,l),l&&A&4&&lE(p,b);break;case 22:b.memoizedState===null&&es(p,b,l),Rc(b,b.return);break;case 30:break;default:es(p,b,l)}s=s.sibling}}function Jp(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&fc(l))}function Zp(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&fc(i))}function Wi(i,s,l,d){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)dE(i,s,l,d),s=s.sibling}function dE(i,s,l,d){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Wi(i,s,l,d),p&2048&&Cc(9,s);break;case 1:Wi(i,s,l,d);break;case 3:Wi(i,s,l,d),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&fc(i)));break;case 12:if(p&2048){Wi(i,s,l,d),i=s.stateNode;try{var b=s.memoizedProps,A=b.id,P=b.onPostCommit;typeof P=="function"&&P(A,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch($){It(s,s.return,$)}}else Wi(i,s,l,d);break;case 31:Wi(i,s,l,d);break;case 13:Wi(i,s,l,d);break;case 23:break;case 22:b=s.stateNode,A=s.alternate,s.memoizedState!==null?b._visibility&2?Wi(i,s,l,d):Ac(i,s):b._visibility&2?Wi(i,s,l,d):(b._visibility|=2,ru(i,s,l,d,(s.subtreeFlags&10256)!==0||!1)),p&2048&&Jp(A,s);break;case 24:Wi(i,s,l,d),p&2048&&Zp(s.alternate,s);break;default:Wi(i,s,l,d)}}function ru(i,s,l,d,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var b=i,A=s,P=l,$=d,ne=A.flags;switch(A.tag){case 0:case 11:case 15:ru(b,A,P,$,p),Cc(8,A);break;case 23:break;case 22:var ce=A.stateNode;A.memoizedState!==null?ce._visibility&2?ru(b,A,P,$,p):Ac(b,A):(ce._visibility|=2,ru(b,A,P,$,p)),p&&ne&2048&&Jp(A.alternate,A);break;case 24:ru(b,A,P,$,p),p&&ne&2048&&Zp(A.alternate,A);break;default:ru(b,A,P,$,p)}s=s.sibling}}function Ac(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,d=s,p=d.flags;switch(d.tag){case 22:Ac(l,d),p&2048&&Jp(d.alternate,d);break;case 24:Ac(l,d),p&2048&&Zp(d.alternate,d);break;default:Ac(l,d)}s=s.sibling}}var Ic=8192;function iu(i,s,l){if(i.subtreeFlags&Ic)for(i=i.child;i!==null;)hE(i,s,l),i=i.sibling}function hE(i,s,l){switch(i.tag){case 26:iu(i,s,l),i.flags&Ic&&i.memoizedState!==null&&uN(l,Hi,i.memoizedState,i.memoizedProps);break;case 5:iu(i,s,l);break;case 3:case 4:var d=Hi;Hi=df(i.stateNode.containerInfo),iu(i,s,l),Hi=d;break;case 22:i.memoizedState===null&&(d=i.alternate,d!==null&&d.memoizedState!==null?(d=Ic,Ic=16777216,iu(i,s,l),Ic=d):iu(i,s,l));break;default:iu(i,s,l)}}function fE(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function kc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var d=s[l];jn=d,gE(d,i)}fE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)mE(i),i=i.sibling}function mE(i){switch(i.tag){case 0:case 11:case 15:kc(i),i.flags&2048&&Ws(9,i,i.return);break;case 3:kc(i);break;case 12:kc(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Xh(i)):kc(i);break;default:kc(i)}}function Xh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var d=s[l];jn=d,gE(d,i)}fE(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Ws(8,s,s.return),Xh(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Xh(s));break;default:Xh(s)}i=i.sibling}}function gE(i,s){for(;jn!==null;){var l=jn;switch(l.tag){case 0:case 11:case 15:Ws(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:fc(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,jn=d;else e:for(l=i;jn!==null;){d=jn;var p=d.sibling,b=d.return;if(aE(d),d===l){jn=null;break e}if(p!==null){p.return=b,jn=p;break e}jn=b}}}var wD={getCacheForType:function(i){var s=$n(yn),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l},cacheSignal:function(){return $n(yn).controller.signal}},xD=typeof WeakMap=="function"?WeakMap:Map,St=0,Lt=null,rt=null,at=0,At=0,ei=null,qs=!1,au=!1,ey=!1,ts=0,nn=0,Gs=0,ul=0,ty=0,ti=0,su=0,Oc=null,Or=null,ny=!1,Jh=0,pE=0,Zh=1/0,ef=null,Ks=null,On=0,$s=null,ou=null,ns=0,ry=0,iy=null,yE=null,Dc=0,ay=null;function ni(){return(St&2)!==0&&at!==0?at&-at:Y.T!==null?dy():Ln()}function vE(){if(ti===0)if((at&536870912)===0||dt){var i=Br;Br<<=1,(Br&3932160)===0&&(Br=262144),ti=i}else ti=536870912;return i=Jr.current,i!==null&&(i.flags|=32),ti}function Dr(i,s,l){(i===Lt&&(At===2||At===9)||i.cancelPendingCommit!==null)&&(lu(i,0),Ys(i,at,ti,!1)),aa(i,l),((St&2)===0||i!==Lt)&&(i===Lt&&((St&2)===0&&(ul|=l),nn===4&&Ys(i,at,ti,!1)),va(i))}function _E(i,s,l){if((St&6)!==0)throw Error(r(327));var d=!l&&(s&127)===0&&(s&i.expiredLanes)===0||In(i,s),p=d?AD(i,s):oy(i,s,!0),b=d;do{if(p===0){au&&!d&&Ys(i,s,0,!1);break}else{if(l=i.current.alternate,b&&!CD(l)){p=oy(i,s,!1),b=!1;continue}if(p===2){if(b=s,i.errorRecoveryDisabledLanes&b)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){s=A;e:{var P=i;p=Oc;var $=P.current.memoizedState.isDehydrated;if($&&(lu(P,A).flags|=256),A=oy(P,A,!1),A!==2){if(ey&&!$){P.errorRecoveryDisabledLanes|=b,ul|=b,p=4;break e}b=Or,Or=p,b!==null&&(Or===null?Or=b:Or.push.apply(Or,b))}p=A}if(b=!1,p!==2)continue}}if(p===1){lu(i,0),Ys(i,s,0,!0);break}e:{switch(d=i,b=p,b){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ys(d,s,ti,!qs);break e;case 2:Or=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=Jh+300-Pt(),10<p)){if(Ys(d,s,ti,!qs),zt(d,0,!0)!==0)break e;ns=s,d.timeoutHandle=QE(bE.bind(null,d,l,Or,ef,ny,s,ti,ul,su,qs,b,"Throttled",-0,0),p);break e}bE(d,l,Or,ef,ny,s,ti,ul,su,qs,b,null,-0,0)}}break}while(!0);va(i)}function bE(i,s,l,d,p,b,A,P,$,ne,ce,fe,re,oe){if(i.timeoutHandle=-1,fe=s.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rr},hE(s,b,fe);var Me=(b&62914560)===b?Jh-Pt():(b&4194048)===b?pE-Pt():0;if(Me=cN(fe,Me),Me!==null){ns=b,i.cancelPendingCommit=Me(AE.bind(null,i,s,b,l,d,p,A,P,$,ce,fe,null,re,oe)),Ys(i,b,A,!ne);return}}AE(i,s,b,l,d,p,A,P,$)}function CD(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var p=l[d],b=p.getSnapshot;p=p.value;try{if(!Qr(b(),p))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ys(i,s,l,d){s&=~ty,s&=~ul,i.suspendedLanes|=s,i.pingedLanes&=~s,d&&(i.warmLanes|=s),d=i.expirationTimes;for(var p=s;0<p;){var b=31-kt(p),A=1<<b;d[b]=-1,p&=~A}l!==0&&xr(i,l,s)}function tf(){return(St&6)===0?(Nc(0),!1):!0}function sy(){if(rt!==null){if(At===0)var i=rt.return;else i=rt,qa=el=null,Tp(i),Jl=null,gc=0,i=rt;for(;i!==null;)XT(i.alternate,i),i=i.return;rt=null}}function lu(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,GD(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),ns=0,sy(),Lt=i,rt=l=Ha(i.current,null),at=s,At=0,ei=null,qs=!1,au=In(i,s),ey=!1,su=ti=ty=ul=Gs=nn=0,Or=Oc=null,ny=!1,(s&8)!==0&&(s|=s&32);var d=i.entangledLanes;if(d!==0)for(i=i.entanglements,d&=s;0<d;){var p=31-kt(d),b=1<<p;s|=i[p],d&=~b}return ts=s,Th(),l}function SE(i,s){Xe=null,Y.H=Ec,s===Xl||s===kh?(s=VS(),At=3):s===cp?(s=VS(),At=4):At=s===jp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ei=s,rt===null&&(nn=1,Wh(i,pi(s,i.current)))}function TE(){var i=Jr.current;return i===null?!0:(at&4194048)===at?bi===null:(at&62914560)===at||(at&536870912)!==0?i===bi:!1}function EE(){var i=Y.H;return Y.H=Ec,i===null?Ec:i}function wE(){var i=Y.A;return Y.A=wD,i}function nf(){nn=4,qs||(at&4194048)!==at&&Jr.current!==null||(au=!0),(Gs&134217727)===0&&(ul&134217727)===0||Lt===null||Ys(Lt,at,ti,!1)}function oy(i,s,l){var d=St;St|=2;var p=EE(),b=wE();(Lt!==i||at!==s)&&(ef=null,lu(i,s)),s=!1;var A=nn;e:do try{if(At!==0&&rt!==null){var P=rt,$=ei;switch(At){case 8:sy(),A=6;break e;case 3:case 2:case 9:case 6:Jr.current===null&&(s=!0);var ne=At;if(At=0,ei=null,uu(i,P,$,ne),l&&au){A=0;break e}break;default:ne=At,At=0,ei=null,uu(i,P,$,ne)}}RD(),A=nn;break}catch(ce){SE(i,ce)}while(!0);return s&&i.shellSuspendCounter++,qa=el=null,St=d,Y.H=p,Y.A=b,rt===null&&(Lt=null,at=0,Th()),A}function RD(){for(;rt!==null;)xE(rt)}function AD(i,s){var l=St;St|=2;var d=EE(),p=wE();Lt!==i||at!==s?(ef=null,Zh=Pt()+500,lu(i,s)):au=In(i,s);e:do try{if(At!==0&&rt!==null){s=rt;var b=ei;t:switch(At){case 1:At=0,ei=null,uu(i,s,b,1);break;case 2:case 9:if(PS(b)){At=0,ei=null,CE(s);break}s=function(){At!==2&&At!==9||Lt!==i||(At=7),va(i)},b.then(s,s);break e;case 3:At=7;break e;case 4:At=5;break e;case 7:PS(b)?(At=0,ei=null,CE(s)):(At=0,ei=null,uu(i,s,b,7));break;case 5:var A=null;switch(rt.tag){case 26:A=rt.memoizedState;case 5:case 27:var P=rt;if(A?dw(A):P.stateNode.complete){At=0,ei=null;var $=P.sibling;if($!==null)rt=$;else{var ne=P.return;ne!==null?(rt=ne,rf(ne)):rt=null}break t}}At=0,ei=null,uu(i,s,b,5);break;case 6:At=0,ei=null,uu(i,s,b,6);break;case 8:sy(),nn=6;break e;default:throw Error(r(462))}}ID();break}catch(ce){SE(i,ce)}while(!0);return qa=el=null,Y.H=d,Y.A=p,St=l,rt!==null?0:(Lt=null,at=0,Th(),nn)}function ID(){for(;rt!==null&&!Ze();)xE(rt)}function xE(i){var s=YT(i.alternate,i,ts);i.memoizedProps=i.pendingProps,s===null?rf(i):rt=s}function CE(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=HT(l,s,s.pendingProps,s.type,void 0,at);break;case 11:s=HT(l,s,s.pendingProps,s.type.render,s.ref,at);break;case 5:Tp(s);default:XT(l,s),s=rt=wS(s,ts),s=YT(l,s,ts)}i.memoizedProps=i.pendingProps,s===null?rf(i):rt=s}function uu(i,s,l,d){qa=el=null,Tp(s),Jl=null,gc=0;var p=s.return;try{if(yD(i,p,s,l,at)){nn=1,Wh(i,pi(l,i.current)),rt=null;return}}catch(b){if(p!==null)throw rt=p,b;nn=1,Wh(i,pi(l,i.current)),rt=null;return}s.flags&32768?(dt||d===1?i=!0:au||(at&536870912)!==0?i=!1:(qs=i=!0,(d===2||d===9||d===3||d===6)&&(d=Jr.current,d!==null&&d.tag===13&&(d.flags|=16384))),RE(s,i)):rf(s)}function rf(i){var s=i;do{if((s.flags&32768)!==0){RE(s,qs);return}i=s.return;var l=bD(s.alternate,s,ts);if(l!==null){rt=l;return}if(s=s.sibling,s!==null){rt=s;return}rt=s=i}while(s!==null);nn===0&&(nn=5)}function RE(i,s){do{var l=SD(i.alternate,i);if(l!==null){l.flags&=32767,rt=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){rt=i;return}rt=i=l}while(i!==null);nn=6,rt=null}function AE(i,s,l,d,p,b,A,P,$){i.cancelPendingCommit=null;do af();while(On!==0);if((St&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(b=s.lanes|s.childLanes,b|=Yg,Ni(i,l,b,A,P,$),i===Lt&&(rt=Lt=null,at=0),ou=s,$s=i,ns=l,ry=b,iy=p,yE=d,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,ND(fr,function(){return NE(),null})):(i.callbackNode=null,i.callbackPriority=0),d=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||d){d=Y.T,Y.T=null,p=se.p,se.p=2,A=St,St|=4;try{TD(i,s,l)}finally{St=A,se.p=p,Y.T=d}}On=1,IE(),kE(),OE()}}function IE(){if(On===1){On=0;var i=$s,s=ou,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null;var d=se.p;se.p=2;var p=St;St|=4;try{uE(s,i);var b=_y,A=gS(i.containerInfo),P=b.focusedElem,$=b.selectionRange;if(A!==P&&P&&P.ownerDocument&&mS(P.ownerDocument.documentElement,P)){if($!==null&&Wg(P)){var ne=$.start,ce=$.end;if(ce===void 0&&(ce=ne),"selectionStart"in P)P.selectionStart=ne,P.selectionEnd=Math.min(ce,P.value.length);else{var fe=P.ownerDocument||document,re=fe&&fe.defaultView||window;if(re.getSelection){var oe=re.getSelection(),Me=P.textContent.length,Fe=Math.min($.start,Me),Nt=$.end===void 0?Fe:Math.min($.end,Me);!oe.extend&&Fe>Nt&&(A=Nt,Nt=Fe,Fe=A);var J=fS(P,Fe),Q=fS(P,Nt);if(J&&Q&&(oe.rangeCount!==1||oe.anchorNode!==J.node||oe.anchorOffset!==J.offset||oe.focusNode!==Q.node||oe.focusOffset!==Q.offset)){var te=fe.createRange();te.setStart(J.node,J.offset),oe.removeAllRanges(),Fe>Nt?(oe.addRange(te),oe.extend(Q.node,Q.offset)):(te.setEnd(Q.node,Q.offset),oe.addRange(te))}}}}for(fe=[],oe=P;oe=oe.parentNode;)oe.nodeType===1&&fe.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<fe.length;P++){var de=fe[P];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}yf=!!vy,_y=vy=null}finally{St=p,se.p=d,Y.T=l}}i.current=s,On=2}}function kE(){if(On===2){On=0;var i=$s,s=ou,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=Y.T,Y.T=null;var d=se.p;se.p=2;var p=St;St|=4;try{iE(i,s.alternate,s)}finally{St=p,se.p=d,Y.T=l}}On=3}}function OE(){if(On===4||On===3){On=0,Kt();var i=$s,s=ou,l=ns,d=yE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?On=5:(On=0,ou=$s=null,DE(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Ks=null),Ur(l),s=s.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(Hn,s,void 0,(s.current.flags&128)===128)}catch{}if(d!==null){s=Y.T,p=se.p,se.p=2,Y.T=null;try{for(var b=i.onRecoverableError,A=0;A<d.length;A++){var P=d[A];b(P.value,{componentStack:P.stack})}}finally{Y.T=s,se.p=p}}(ns&3)!==0&&af(),va(i),p=i.pendingLanes,(l&261930)!==0&&(p&42)!==0?i===ay?Dc++:(Dc=0,ay=i):Dc=0,Nc(0)}}function DE(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,fc(s)))}function af(){return IE(),kE(),OE(),NE()}function NE(){if(On!==5)return!1;var i=$s,s=ry;ry=0;var l=Ur(ns),d=Y.T,p=se.p;try{se.p=32>l?32:l,Y.T=null,l=iy,iy=null;var b=$s,A=ns;if(On=0,ou=$s=null,ns=0,(St&6)!==0)throw Error(r(331));var P=St;if(St|=4,mE(b.current),dE(b,b.current,A,l),St=P,Nc(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(Hn,b)}catch{}return!0}finally{se.p=p,Y.T=d,DE(i,s)}}function ME(i,s,l){s=pi(l,s),s=Vp(i.stateNode,s,2),i=Fs(i,s,2),i!==null&&(aa(i,2),va(i))}function It(i,s,l){if(i.tag===3)ME(i,i,l);else for(;s!==null;){if(s.tag===3){ME(s,i,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ks===null||!Ks.has(d))){i=pi(l,i),l=PT(2),d=Fs(s,l,2),d!==null&&(LT(l,d,s,i),aa(d,2),va(d));break}}s=s.return}}function ly(i,s,l){var d=i.pingCache;if(d===null){d=i.pingCache=new xD;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(l)||(ey=!0,p.add(l),i=kD.bind(null,i,s,l),s.then(i,i))}function kD(i,s,l){var d=i.pingCache;d!==null&&d.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Lt===i&&(at&l)===l&&(nn===4||nn===3&&(at&62914560)===at&&300>Pt()-Jh?(St&2)===0&&lu(i,0):ty|=l,su===at&&(su=0)),va(i)}function PE(i,s){s===0&&(s=di()),i=Xo(i,s),i!==null&&(aa(i,s),va(i))}function OD(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),PE(i,l)}function DD(i,s){var l=0;switch(i.tag){case 31:case 13:var d=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=i.stateNode;break;case 22:d=i.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(s),PE(i,l)}function ND(i,s){return ve(i,s)}var sf=null,cu=null,uy=!1,of=!1,cy=!1,Qs=0;function va(i){i!==cu&&i.next===null&&(cu===null?sf=cu=i:cu=cu.next=i),of=!0,uy||(uy=!0,PD())}function Nc(i,s){if(!cy&&of){cy=!0;do for(var l=!1,d=sf;d!==null;){if(i!==0){var p=d.pendingLanes;if(p===0)var b=0;else{var A=d.suspendedLanes,P=d.pingedLanes;b=(1<<31-kt(42|i)+1)-1,b&=p&~(A&~P),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,BE(d,b))}else b=at,b=zt(d,d===Lt?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||In(d,b)||(l=!0,BE(d,b));d=d.next}while(l);cy=!1}}function MD(){LE()}function LE(){of=uy=!1;var i=0;Qs!==0&&qD()&&(i=Qs);for(var s=Pt(),l=null,d=sf;d!==null;){var p=d.next,b=VE(d,s);b===0?(d.next=null,l===null?sf=p:l.next=p,p===null&&(cu=l)):(l=d,(i!==0||(b&3)!==0)&&(of=!0)),d=p}On!==0&&On!==5||Nc(i),Qs!==0&&(Qs=0)}function VE(i,s){for(var l=i.suspendedLanes,d=i.pingedLanes,p=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var A=31-kt(b),P=1<<A,$=p[A];$===-1?((P&l)===0||(P&d)!==0)&&(p[A]=wr(P,s)):$<=s&&(i.expiredLanes|=P),b&=~P}if(s=Lt,l=at,l=zt(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d=i.callbackNode,l===0||i===s&&(At===2||At===9)||i.cancelPendingCommit!==null)return d!==null&&d!==null&&je(d),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||In(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(d!==null&&je(d),Ur(l)){case 2:case 8:l=Un;break;case 32:l=fr;break;case 268435456:l=Oi;break;default:l=fr}return d=jE.bind(null,i),l=ve(l,d),i.callbackPriority=s,i.callbackNode=l,s}return d!==null&&d!==null&&je(d),i.callbackPriority=2,i.callbackNode=null,2}function jE(i,s){if(On!==0&&On!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(af()&&i.callbackNode!==l)return null;var d=at;return d=zt(i,i===Lt?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d===0?null:(_E(i,d,s),VE(i,Pt()),i.callbackNode!=null&&i.callbackNode===l?jE.bind(null,i):null)}function BE(i,s){if(af())return null;_E(i,s,!0)}function PD(){KD(function(){(St&6)!==0?ve(gn,MD):LE()})}function dy(){if(Qs===0){var i=Yl;i===0&&(i=Wn,Wn<<=1,(Wn&261888)===0&&(Wn=256)),Qs=i}return Qs}function zE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ja(""+i)}function FE(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function LD(i,s,l,d,p){if(s==="submit"&&l&&l.stateNode===p){var b=zE((p[on]||null).action),A=d.submitter;A&&(s=(s=A[on]||null)?zE(s.formAction):A.getAttribute("formAction"),s!==null&&(b=s,A=null));var P=new da("action","action",null,d,p);i.push({event:P,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Qs!==0){var $=A?FE(p,A):new FormData(p);Op(l,{pending:!0,data:$,method:p.method,action:b},null,$)}}else typeof b=="function"&&(P.preventDefault(),$=A?FE(p,A):new FormData(p),Op(l,{pending:!0,data:$,method:p.method,action:b},b,$))},currentTarget:p}]})}}for(var hy=0;hy<$g.length;hy++){var fy=$g[hy],VD=fy.toLowerCase(),jD=fy[0].toUpperCase()+fy.slice(1);Ui(VD,"on"+jD)}Ui(vS,"onAnimationEnd"),Ui(_S,"onAnimationIteration"),Ui(bS,"onAnimationStart"),Ui("dblclick","onDoubleClick"),Ui("focusin","onFocus"),Ui("focusout","onBlur"),Ui(eD,"onTransitionRun"),Ui(tD,"onTransitionStart"),Ui(nD,"onTransitionCancel"),Ui(SS,"onTransitionEnd"),qr("onMouseEnter",["mouseout","mouseover"]),qr("onMouseLeave",["mouseout","mouseover"]),qr("onPointerEnter",["pointerout","pointerover"]),qr("onPointerLeave",["pointerout","pointerover"]),Wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mc));function UE(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],p=d.event;d=d.listeners;e:{var b=void 0;if(s)for(var A=d.length-1;0<=A;A--){var P=d[A],$=P.instance,ne=P.currentTarget;if(P=P.listener,$!==b&&p.isPropagationStopped())break e;b=P,p.currentTarget=ne;try{b(p)}catch(ce){Sh(ce)}p.currentTarget=null,b=$}else for(A=0;A<d.length;A++){if(P=d[A],$=P.instance,ne=P.currentTarget,P=P.listener,$!==b&&p.isPropagationStopped())break e;b=P,p.currentTarget=ne;try{b(p)}catch(ce){Sh(ce)}p.currentTarget=null,b=$}}}}function it(i,s){var l=s[Ma];l===void 0&&(l=s[Ma]=new Set);var d=i+"__bubble";l.has(d)||(HE(s,i,2,!1),l.add(d))}function my(i,s,l){var d=0;s&&(d|=4),HE(l,i,d,s)}var lf="_reactListening"+Math.random().toString(36).slice(2);function gy(i){if(!i[lf]){i[lf]=!0,Ss.forEach(function(l){l!=="selectionchange"&&(BD.has(l)||my(l,!1,i),my(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[lf]||(s[lf]=!0,my("selectionchange",!1,s))}}function HE(i,s,l,d){switch(vw(s)){case 2:var p=fN;break;case 8:p=mN;break;default:p=ky}l=p.bind(null,s,l,i),p=void 0,!ca||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?i.addEventListener(s,l,{capture:!0,passive:p}):i.addEventListener(s,l,!0):p!==void 0?i.addEventListener(s,l,{passive:p}):i.addEventListener(s,l,!1)}function py(i,s,l,d,p){var b=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var A=d.tag;if(A===3||A===4){var P=d.stateNode.containerInfo;if(P===p)break;if(A===4)for(A=d.return;A!==null;){var $=A.tag;if(($===3||$===4)&&A.stateNode.containerInfo===p)return;A=A.return}for(;P!==null;){if(A=pn(P),A===null)return;if($=A.tag,$===5||$===6||$===26||$===27){d=b=A;continue e}P=P.parentNode}}d=d.return}fi(function(){var ne=b,ce=pr(l),fe=[];e:{var re=TS.get(i);if(re!==void 0){var oe=da,Me=i;switch(i){case"keypress":if(qo(l)===0)break e;case"keydown":case"keyup":oe=vh;break;case"focusin":Me="focus",oe=Ko;break;case"focusout":Me="blur",oe=Ko;break;case"beforeblur":case"afterblur":oe=Ko;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=ac;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=w;break;case vS:case _S:case bS:oe=dh;break;case SS:oe=U;break;case"scroll":case"scrollend":oe=ic;break;case"wheel":oe=ae;break;case"copy":case"cut":case"paste":oe=hh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=Ua;break;case"toggle":case"beforetoggle":oe=Qe}var Fe=(s&4)!==0,Nt=!Fe&&(i==="scroll"||i==="scrollend"),J=Fe?re!==null?re+"Capture":null:re;Fe=[];for(var Q=ne,te;Q!==null;){var de=Q;if(te=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||te===null||J===null||(de=$r(Q,J),de!=null&&Fe.push(Pc(Q,de,te))),Nt)break;Q=Q.return}0<Fe.length&&(re=new oe(re,Me,null,l,ce),fe.push({event:re,listeners:Fe}))}}if((s&7)===0){e:{if(re=i==="mouseover"||i==="pointerover",oe=i==="mouseout"||i==="pointerout",re&&l!==ks&&(Me=l.relatedTarget||l.fromElement)&&(pn(Me)||Me[hi]))break e;if((oe||re)&&(re=ce.window===ce?ce:(re=ce.ownerDocument)?re.defaultView||re.parentWindow:window,oe?(Me=l.relatedTarget||l.toElement,oe=ne,Me=Me?pn(Me):null,Me!==null&&(Nt=o(Me),Fe=Me.tag,Me!==Nt||Fe!==5&&Fe!==27&&Fe!==6)&&(Me=null)):(oe=null,Me=ne),oe!==Me)){if(Fe=ac,de="onMouseLeave",J="onMouseEnter",Q="mouse",(i==="pointerout"||i==="pointerover")&&(Fe=Ua,de="onPointerLeave",J="onPointerEnter",Q="pointer"),Nt=oe==null?re:rr(oe),te=Me==null?re:rr(Me),re=new Fe(de,Q+"leave",oe,l,ce),re.target=Nt,re.relatedTarget=te,de=null,pn(ce)===ne&&(Fe=new Fe(J,Q+"enter",Me,l,ce),Fe.target=te,Fe.relatedTarget=Nt,de=Fe),Nt=de,oe&&Me)t:{for(Fe=zD,J=oe,Q=Me,te=0,de=J;de;de=Fe(de))te++;de=0;for(var Be=Q;Be;Be=Fe(Be))de++;for(;0<te-de;)J=Fe(J),te--;for(;0<de-te;)Q=Fe(Q),de--;for(;te--;){if(J===Q||Q!==null&&J===Q.alternate){Fe=J;break t}J=Fe(J),Q=Fe(Q)}Fe=null}else Fe=null;oe!==null&&WE(fe,re,oe,Fe,!1),Me!==null&&Nt!==null&&WE(fe,Nt,Me,Fe,!0)}}e:{if(re=ne?rr(ne):window,oe=re.nodeName&&re.nodeName.toLowerCase(),oe==="select"||oe==="input"&&re.type==="file")var yt=oS;else if(aS(re))if(lS)yt=XO;else{yt=YO;var Le=$O}else oe=re.nodeName,!oe||oe.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?ne&&Va(ne.elementType)&&(yt=oS):yt=QO;if(yt&&(yt=yt(i,ne))){sS(fe,yt,l,ce);break e}Le&&Le(i,re,ne),i==="focusout"&&ne&&re.type==="number"&&ne.memoizedProps.value!=null&&Rs(re,"number",re.value)}switch(Le=ne?rr(ne):window,i){case"focusin":(aS(Le)||Le.contentEditable==="true")&&(Fl=Le,qg=ne,cc=null);break;case"focusout":cc=qg=Fl=null;break;case"mousedown":Gg=!0;break;case"contextmenu":case"mouseup":case"dragend":Gg=!1,pS(fe,l,ce);break;case"selectionchange":if(ZO)break;case"keydown":case"keyup":pS(fe,l,ce)}var Je;if(bt)e:{switch(i){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else zl?$o(i,l)&&(st="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(st="onCompositionStart");st&&(ma&&l.locale!=="ko"&&(zl||st!=="onCompositionStart"?st==="onCompositionEnd"&&zl&&(Je=rc()):(Yr=ce,Os="value"in Yr?Yr.value:Yr.textContent,zl=!0)),Le=uf(ne,st),0<Le.length&&(st=new fa(st,i,null,l,ce),fe.push({event:st,listeners:Le}),Je?st.data=Je:(Je=Bl(l),Je!==null&&(st.data=Je)))),(Je=mi?WO(i,l):qO(i,l))&&(st=uf(ne,"onBeforeInput"),0<st.length&&(Le=new fa("onBeforeInput","beforeinput",null,l,ce),fe.push({event:Le,listeners:st}),Le.data=Je)),LD(fe,i,ne,l,ce)}UE(fe,s)})}function Pc(i,s,l){return{instance:i,listener:s,currentTarget:l}}function uf(i,s){for(var l=s+"Capture",d=[];i!==null;){var p=i,b=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||b===null||(p=$r(i,l),p!=null&&d.unshift(Pc(i,p,b)),p=$r(i,s),p!=null&&d.push(Pc(i,p,b))),i.tag===3)return d;i=i.return}return[]}function zD(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function WE(i,s,l,d,p){for(var b=s._reactName,A=[];l!==null&&l!==d;){var P=l,$=P.alternate,ne=P.stateNode;if(P=P.tag,$!==null&&$===d)break;P!==5&&P!==26&&P!==27||ne===null||($=ne,p?(ne=$r(l,b),ne!=null&&A.unshift(Pc(l,ne,$))):p||(ne=$r(l,b),ne!=null&&A.push(Pc(l,ne,$)))),l=l.return}A.length!==0&&i.push({event:s,listeners:A})}var FD=/\r\n?/g,UD=/\u0000|\uFFFD/g;function qE(i){return(typeof i=="string"?i:""+i).replace(FD,`
`).replace(UD,"")}function GE(i,s){return s=qE(s),qE(i)===s}function Dt(i,s,l,d,p,b){switch(l){case"children":typeof d=="string"?s==="body"||s==="textarea"&&d===""||qn(i,d):(typeof d=="number"||typeof d=="bigint")&&s!=="body"&&qn(i,""+d);break;case"className":ir(i,"class",d);break;case"tabIndex":ir(i,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":ir(i,l,d);break;case"style":Is(i,d,b);break;case"data":if(s!=="object"){ir(i,"data",d);break}case"src":case"href":if(d===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(l);break}d=ja(""+d),i.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(s!=="input"&&Dt(i,s,"name",p.name,p,null),Dt(i,s,"formEncType",p.formEncType,p,null),Dt(i,s,"formMethod",p.formMethod,p,null),Dt(i,s,"formTarget",p.formTarget,p,null)):(Dt(i,s,"encType",p.encType,p,null),Dt(i,s,"method",p.method,p,null),Dt(i,s,"target",p.target,p,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(l);break}d=ja(""+d),i.setAttribute(l,d);break;case"onClick":d!=null&&(i.onclick=Rr);break;case"onScroll":d!=null&&it("scroll",i);break;case"onScrollEnd":d!=null&&it("scrollend",i);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(l=d.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":i.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){i.removeAttribute("xlink:href");break}l=ja(""+d),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,""+d):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":d===!0?i.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,d):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?i.setAttribute(l,d):i.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?i.removeAttribute(l):i.setAttribute(l,d);break;case"popover":it("beforetoggle",i),it("toggle",i),Pa(i,"popover",d);break;case"xlinkActuate":Jt(i,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Jt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Jt(i,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Jt(i,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Jt(i,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Jt(i,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Jt(i,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Jt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Jt(i,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Pa(i,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ho.get(l)||l,Pa(i,l,d))}}function yy(i,s,l,d,p,b){switch(l){case"style":Is(i,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(l=d.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof d=="string"?qn(i,d):(typeof d=="number"||typeof d=="bigint")&&qn(i,""+d);break;case"onScroll":d!=null&&it("scroll",i);break;case"onScrollEnd":d!=null&&it("scrollend",i);break;case"onClick":d!=null&&(i.onclick=Rr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ts.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),s=l.slice(2,p?l.length-7:void 0),b=i[on]||null,b=b!=null?b[l]:null,typeof b=="function"&&i.removeEventListener(s,b,p),typeof d=="function")){typeof b!="function"&&b!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,d,p);break e}l in i?i[l]=d:d===!0?i.setAttribute(l,""):Pa(i,l,d)}}}function Qn(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":it("error",i),it("load",i);var d=!1,p=!1,b;for(b in l)if(l.hasOwnProperty(b)){var A=l[b];if(A!=null)switch(b){case"src":d=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Dt(i,s,b,A,l,null)}}p&&Dt(i,s,"srcSet",l.srcSet,l,null),d&&Dt(i,s,"src",l.src,l,null);return;case"input":it("invalid",i);var P=b=A=p=null,$=null,ne=null;for(d in l)if(l.hasOwnProperty(d)){var ce=l[d];if(ce!=null)switch(d){case"name":p=ce;break;case"type":A=ce;break;case"checked":$=ce;break;case"defaultChecked":ne=ce;break;case"value":b=ce;break;case"defaultValue":P=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,s));break;default:Dt(i,s,d,ce,l,null)}}zo(i,b,P,$,ne,A,p,!1);return;case"select":it("invalid",i),d=A=b=null;for(p in l)if(l.hasOwnProperty(p)&&(P=l[p],P!=null))switch(p){case"value":b=P;break;case"defaultValue":A=P;break;case"multiple":d=P;default:Dt(i,s,p,P,l,null)}s=b,l=A,i.multiple=!!d,s!=null?Pi(i,!!d,s,!1):l!=null&&Pi(i,!!d,l,!0);return;case"textarea":it("invalid",i),b=p=d=null;for(A in l)if(l.hasOwnProperty(A)&&(P=l[A],P!=null))switch(A){case"value":d=P;break;case"defaultValue":p=P;break;case"children":b=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(91));break;default:Dt(i,s,A,P,l,null)}Li(i,d,p,b);return;case"option":for($ in l)l.hasOwnProperty($)&&(d=l[$],d!=null)&&($==="selected"?i.selected=d&&typeof d!="function"&&typeof d!="symbol":Dt(i,s,$,d,l,null));return;case"dialog":it("beforetoggle",i),it("toggle",i),it("cancel",i),it("close",i);break;case"iframe":case"object":it("load",i);break;case"video":case"audio":for(d=0;d<Mc.length;d++)it(Mc[d],i);break;case"image":it("error",i),it("load",i);break;case"details":it("toggle",i);break;case"embed":case"source":case"link":it("error",i),it("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in l)if(l.hasOwnProperty(ne)&&(d=l[ne],d!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Dt(i,s,ne,d,l,null)}return;default:if(Va(s)){for(ce in l)l.hasOwnProperty(ce)&&(d=l[ce],d!==void 0&&yy(i,s,ce,d,l,void 0));return}}for(P in l)l.hasOwnProperty(P)&&(d=l[P],d!=null&&Dt(i,s,P,d,l,null))}function HD(i,s,l,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,b=null,A=null,P=null,$=null,ne=null,ce=null;for(oe in l){var fe=l[oe];if(l.hasOwnProperty(oe)&&fe!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":$=fe;default:d.hasOwnProperty(oe)||Dt(i,s,oe,null,d,fe)}}for(var re in d){var oe=d[re];if(fe=l[re],d.hasOwnProperty(re)&&(oe!=null||fe!=null))switch(re){case"type":b=oe;break;case"name":p=oe;break;case"checked":ne=oe;break;case"defaultChecked":ce=oe;break;case"value":A=oe;break;case"defaultValue":P=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,s));break;default:oe!==fe&&Dt(i,s,re,oe,d,fe)}}La(i,A,P,$,ne,ce,b,p);return;case"select":oe=A=P=re=null;for(b in l)if($=l[b],l.hasOwnProperty(b)&&$!=null)switch(b){case"value":break;case"multiple":oe=$;default:d.hasOwnProperty(b)||Dt(i,s,b,null,d,$)}for(p in d)if(b=d[p],$=l[p],d.hasOwnProperty(p)&&(b!=null||$!=null))switch(p){case"value":re=b;break;case"defaultValue":P=b;break;case"multiple":A=b;default:b!==$&&Dt(i,s,p,b,d,$)}s=P,l=A,d=oe,re!=null?Pi(i,!!l,re,!1):!!d!=!!l&&(s!=null?Pi(i,!!l,s,!0):Pi(i,!!l,l?[]:"",!1));return;case"textarea":oe=re=null;for(P in l)if(p=l[P],l.hasOwnProperty(P)&&p!=null&&!d.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:Dt(i,s,P,null,d,p)}for(A in d)if(p=d[A],b=l[A],d.hasOwnProperty(A)&&(p!=null||b!=null))switch(A){case"value":re=p;break;case"defaultValue":oe=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==b&&Dt(i,s,A,p,d,b)}Fo(i,re,oe);return;case"option":for(var Me in l)re=l[Me],l.hasOwnProperty(Me)&&re!=null&&!d.hasOwnProperty(Me)&&(Me==="selected"?i.selected=!1:Dt(i,s,Me,null,d,re));for($ in d)re=d[$],oe=l[$],d.hasOwnProperty($)&&re!==oe&&(re!=null||oe!=null)&&($==="selected"?i.selected=re&&typeof re!="function"&&typeof re!="symbol":Dt(i,s,$,re,d,oe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in l)re=l[Fe],l.hasOwnProperty(Fe)&&re!=null&&!d.hasOwnProperty(Fe)&&Dt(i,s,Fe,null,d,re);for(ne in d)if(re=d[ne],oe=l[ne],d.hasOwnProperty(ne)&&re!==oe&&(re!=null||oe!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:Dt(i,s,ne,re,d,oe)}return;default:if(Va(s)){for(var Nt in l)re=l[Nt],l.hasOwnProperty(Nt)&&re!==void 0&&!d.hasOwnProperty(Nt)&&yy(i,s,Nt,void 0,d,re);for(ce in d)re=d[ce],oe=l[ce],!d.hasOwnProperty(ce)||re===oe||re===void 0&&oe===void 0||yy(i,s,ce,re,d,oe);return}}for(var J in l)re=l[J],l.hasOwnProperty(J)&&re!=null&&!d.hasOwnProperty(J)&&Dt(i,s,J,null,d,re);for(fe in d)re=d[fe],oe=l[fe],!d.hasOwnProperty(fe)||re===oe||re==null&&oe==null||Dt(i,s,fe,re,d,oe)}function KE(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function WD(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,l=performance.getEntriesByType("resource"),d=0;d<l.length;d++){var p=l[d],b=p.transferSize,A=p.initiatorType,P=p.duration;if(b&&P&&KE(A)){for(A=0,P=p.responseEnd,d+=1;d<l.length;d++){var $=l[d],ne=$.startTime;if(ne>P)break;var ce=$.transferSize,fe=$.initiatorType;ce&&KE(fe)&&($=$.responseEnd,A+=ce*($<P?1:(P-ne)/($-ne)))}if(--d,s+=8*(b+A)/(p.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var vy=null,_y=null;function cf(i){return i.nodeType===9?i:i.ownerDocument}function $E(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function YE(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function by(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Sy=null;function qD(){var i=window.event;return i&&i.type==="popstate"?i===Sy?!1:(Sy=i,!0):(Sy=null,!1)}var QE=typeof setTimeout=="function"?setTimeout:void 0,GD=typeof clearTimeout=="function"?clearTimeout:void 0,XE=typeof Promise=="function"?Promise:void 0,KD=typeof queueMicrotask=="function"?queueMicrotask:typeof XE<"u"?function(i){return XE.resolve(null).then(i).catch($D)}:QE;function $D(i){setTimeout(function(){throw i})}function Xs(i){return i==="head"}function JE(i,s){var l=s,d=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(d===0){i.removeChild(p),mu(s);return}d--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")d++;else if(l==="html")Lc(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,Lc(l);for(var b=l.firstChild;b;){var A=b.nextSibling,P=b.nodeName;b[Ae]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&b.rel.toLowerCase()==="stylesheet"||l.removeChild(b),b=A}}else l==="body"&&Lc(i.ownerDocument.body);l=p}while(l);mu(s)}function ZE(i,s){var l=i;i=0;do{var d=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),d&&d.nodeType===8)if(l=d.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=d}while(l)}function Ty(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Ty(l),bs(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function YD(i,s,l,d){for(;i.nodeType===1;){var p=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!d&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(d){if(!i[Ae])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var b=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Si(i.nextSibling),i===null)break}return null}function QD(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Si(i.nextSibling),i===null))return null;return i}function ew(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Si(i.nextSibling),i===null))return null;return i}function Ey(i){return i.data==="$?"||i.data==="$~"}function wy(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function XD(i,s){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||l.readyState!=="loading")s();else{var d=function(){s(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),i._reactRetry=d}}function Si(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var xy=null;function tw(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(s===0)return Si(i.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}i=i.nextSibling}return null}function nw(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return i;s--}else l!=="/$"&&l!=="/&"||s++}i=i.previousSibling}return null}function rw(i,s,l){switch(s=cf(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Lc(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);bs(i)}var Ti=new Map,iw=new Set;function df(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var rs=se.d;se.d={f:JD,r:ZD,D:eN,C:tN,L:nN,m:rN,X:aN,S:iN,M:sN};function JD(){var i=rs.f(),s=tf();return i||s}function ZD(i){var s=gr(i);s!==null&&s.tag===5&&s.type==="form"?ST(s):rs.r(i)}var du=typeof document>"u"?null:document;function aw(i,s,l){var d=du;if(d&&typeof s=="string"&&s){var p=Vn(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),iw.has(p)||(iw.add(p),i={rel:i,crossOrigin:l,href:s},d.querySelector(p)===null&&(s=d.createElement("link"),Qn(s,"link",i),Xt(s),d.head.appendChild(s)))}}function eN(i){rs.D(i),aw("dns-prefetch",i,null)}function tN(i,s){rs.C(i,s),aw("preconnect",i,s)}function nN(i,s,l){rs.L(i,s,l);var d=du;if(d&&i&&s){var p='link[rel="preload"][as="'+Vn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Vn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Vn(l.imageSizes)+'"]')):p+='[href="'+Vn(i)+'"]';var b=p;switch(s){case"style":b=hu(i);break;case"script":b=fu(i)}Ti.has(b)||(i=y({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),Ti.set(b,i),d.querySelector(p)!==null||s==="style"&&d.querySelector(Vc(b))||s==="script"&&d.querySelector(jc(b))||(s=d.createElement("link"),Qn(s,"link",i),Xt(s),d.head.appendChild(s)))}}function rN(i,s){rs.m(i,s);var l=du;if(l&&i){var d=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Vn(d)+'"][href="'+Vn(i)+'"]',b=p;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=fu(i)}if(!Ti.has(b)&&(i=y({rel:"modulepreload",href:i},s),Ti.set(b,i),l.querySelector(p)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(jc(b)))return}d=l.createElement("link"),Qn(d,"link",i),Xt(d),l.head.appendChild(d)}}}function iN(i,s,l){rs.S(i,s,l);var d=du;if(d&&i){var p=Hr(d).hoistableStyles,b=hu(i);s=s||"default";var A=p.get(b);if(!A){var P={loading:0,preload:null};if(A=d.querySelector(Vc(b)))P.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},l),(l=Ti.get(b))&&Cy(i,l);var $=A=d.createElement("link");Xt($),Qn($,"link",i),$._p=new Promise(function(ne,ce){$.onload=ne,$.onerror=ce}),$.addEventListener("load",function(){P.loading|=1}),$.addEventListener("error",function(){P.loading|=2}),P.loading|=4,hf(A,s,d)}A={type:"stylesheet",instance:A,count:1,state:P},p.set(b,A)}}}function aN(i,s){rs.X(i,s);var l=du;if(l&&i){var d=Hr(l).hoistableScripts,p=fu(i),b=d.get(p);b||(b=l.querySelector(jc(p)),b||(i=y({src:i,async:!0},s),(s=Ti.get(p))&&Ry(i,s),b=l.createElement("script"),Xt(b),Qn(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(p,b))}}function sN(i,s){rs.M(i,s);var l=du;if(l&&i){var d=Hr(l).hoistableScripts,p=fu(i),b=d.get(p);b||(b=l.querySelector(jc(p)),b||(i=y({src:i,async:!0,type:"module"},s),(s=Ti.get(p))&&Ry(i,s),b=l.createElement("script"),Xt(b),Qn(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(p,b))}}function sw(i,s,l,d){var p=(p=De.current)?df(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=hu(l.href),l=Hr(p).hoistableStyles,d=l.get(s),d||(d={type:"style",instance:null,count:0,state:null},l.set(s,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=hu(l.href);var b=Hr(p).hoistableStyles,A=b.get(i);if(A||(p=p.ownerDocument||p,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,A),(b=p.querySelector(Vc(i)))&&!b._p&&(A.instance=b,A.state.loading=5),Ti.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ti.set(i,l),b||oN(p,i,l,A.state))),s&&d===null)throw Error(r(528,""));return A}if(s&&d!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=fu(l),l=Hr(p).hoistableScripts,d=l.get(s),d||(d={type:"script",instance:null,count:0,state:null},l.set(s,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function hu(i){return'href="'+Vn(i)+'"'}function Vc(i){return'link[rel="stylesheet"]['+i+"]"}function ow(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function oN(i,s,l,d){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?d.loading=1:(s=i.createElement("link"),d.preload=s,s.addEventListener("load",function(){return d.loading|=1}),s.addEventListener("error",function(){return d.loading|=2}),Qn(s,"link",l),Xt(s),i.head.appendChild(s))}function fu(i){return'[src="'+Vn(i)+'"]'}function jc(i){return"script[async]"+i}function lw(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var d=i.querySelector('style[data-href~="'+Vn(l.href)+'"]');if(d)return s.instance=d,Xt(d),d;var p=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(i.ownerDocument||i).createElement("style"),Xt(d),Qn(d,"style",p),hf(d,l.precedence,i),s.instance=d;case"stylesheet":p=hu(l.href);var b=i.querySelector(Vc(p));if(b)return s.state.loading|=4,s.instance=b,Xt(b),b;d=ow(l),(p=Ti.get(p))&&Cy(d,p),b=(i.ownerDocument||i).createElement("link"),Xt(b);var A=b;return A._p=new Promise(function(P,$){A.onload=P,A.onerror=$}),Qn(b,"link",d),s.state.loading|=4,hf(b,l.precedence,i),s.instance=b;case"script":return b=fu(l.src),(p=i.querySelector(jc(b)))?(s.instance=p,Xt(p),p):(d=l,(p=Ti.get(b))&&(d=y({},l),Ry(d,p)),i=i.ownerDocument||i,p=i.createElement("script"),Xt(p),Qn(p,"link",d),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(d=s.instance,s.state.loading|=4,hf(d,l.precedence,i));return s.instance}function hf(i,s,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=d.length?d[d.length-1]:null,b=p,A=0;A<d.length;A++){var P=d[A];if(P.dataset.precedence===s)b=P;else if(b!==p)break}b?b.parentNode.insertBefore(i,b.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function Cy(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Ry(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var ff=null;function uw(i,s,l){if(ff===null){var d=new Map,p=ff=new Map;p.set(l,d)}else p=ff,d=p.get(l),d||(d=new Map,p.set(l,d));if(d.has(i))return d;for(d.set(i,null),l=l.getElementsByTagName(i),p=0;p<l.length;p++){var b=l[p];if(!(b[Ae]||b[Et]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var A=b.getAttribute(s)||"";A=i+A;var P=d.get(A);P?P.push(b):d.set(A,[b])}}return d}function cw(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function lN(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(i=s.disabled,typeof s.precedence=="string"&&i==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function dw(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function uN(i,s,l,d){if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=hu(d.href),b=s.querySelector(Vc(p));if(b){s=b._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=mf.bind(i),s.then(i,i)),l.state.loading|=4,l.instance=b,Xt(b);return}b=s.ownerDocument||s,d=ow(d),(p=Ti.get(p))&&Cy(d,p),b=b.createElement("link"),Xt(b);var A=b;A._p=new Promise(function(P,$){A.onload=P,A.onerror=$}),Qn(b,"link",d),l.instance=b}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=mf.bind(i),s.addEventListener("load",l),s.addEventListener("error",l))}}var Ay=0;function cN(i,s){return i.stylesheets&&i.count===0&&pf(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var d=setTimeout(function(){if(i.stylesheets&&pf(i,i.stylesheets),i.unsuspend){var b=i.unsuspend;i.unsuspend=null,b()}},6e4+s);0<i.imgBytes&&Ay===0&&(Ay=62500*WD());var p=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&pf(i,i.stylesheets),i.unsuspend)){var b=i.unsuspend;i.unsuspend=null,b()}},(i.imgBytes>Ay?50:800)+s);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(d),clearTimeout(p)}}:null}function mf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var gf=null;function pf(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,gf=new Map,s.forEach(dN,i),gf=null,mf.call(i))}function dN(i,s){if(!(s.state.loading&4)){var l=gf.get(i);if(l)var d=l.get(null);else{l=new Map,gf.set(i,l);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<p.length;b++){var A=p[b];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(l.set(A.dataset.precedence,A),d=A)}d&&l.set(null,d)}p=s.instance,A=p.getAttribute("data-precedence"),b=l.get(A)||d,b===d&&l.set(null,p),l.set(A,p),this.count++,d=mf.bind(this),p.addEventListener("load",d),p.addEventListener("error",d),b?b.parentNode.insertBefore(p,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var Bc={$$typeof:O,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function hN(i,s,l,d,p,b,A,P,$){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mr(0),this.hiddenUpdates=mr(null),this.identifierPrefix=d,this.onUncaughtError=p,this.onCaughtError=b,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function hw(i,s,l,d,p,b,A,P,$,ne,ce,fe){return i=new hN(i,s,l,A,$,ne,ce,fe,P),s=1,b===!0&&(s|=24),b=Xr(3,null,null,s),i.current=b,b.stateNode=i,s=op(),s.refCount++,i.pooledCache=s,s.refCount++,b.memoizedState={element:d,isDehydrated:l,cache:s},dp(b),i}function fw(i){return i?(i=Wl,i):Wl}function mw(i,s,l,d,p,b){p=fw(p),d.context===null?d.context=p:d.pendingContext=p,d=zs(s),d.payload={element:l},b=b===void 0?null:b,b!==null&&(d.callback=b),l=Fs(i,d,s),l!==null&&(Dr(l,i,s),yc(l,i,s))}function gw(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function Iy(i,s){gw(i,s),(i=i.alternate)&&gw(i,s)}function pw(i){if(i.tag===13||i.tag===31){var s=Xo(i,67108864);s!==null&&Dr(s,i,67108864),Iy(i,67108864)}}function yw(i){if(i.tag===13||i.tag===31){var s=ni();s=Cr(s);var l=Xo(i,s);l!==null&&Dr(l,i,s),Iy(i,s)}}var yf=!0;function fN(i,s,l,d){var p=Y.T;Y.T=null;var b=se.p;try{se.p=2,ky(i,s,l,d)}finally{se.p=b,Y.T=p}}function mN(i,s,l,d){var p=Y.T;Y.T=null;var b=se.p;try{se.p=8,ky(i,s,l,d)}finally{se.p=b,Y.T=p}}function ky(i,s,l,d){if(yf){var p=Oy(d);if(p===null)py(i,s,d,vf,l),_w(i,d);else if(pN(p,i,s,l,d))d.stopPropagation();else if(_w(i,d),s&4&&-1<gN.indexOf(i)){for(;p!==null;){var b=gr(p);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var A=ft(b.pendingLanes);if(A!==0){var P=b;for(P.pendingLanes|=2,P.entangledLanes|=2;A;){var $=1<<31-kt(A);P.entanglements[1]|=$,A&=~$}va(b),(St&6)===0&&(Zh=Pt()+500,Nc(0))}}break;case 31:case 13:P=Xo(b,2),P!==null&&Dr(P,b,2),tf(),Iy(b,2)}if(b=Oy(d),b===null&&py(i,s,d,vf,l),b===p)break;p=b}p!==null&&d.stopPropagation()}else py(i,s,d,null,l)}}function Oy(i){return i=pr(i),Dy(i)}var vf=null;function Dy(i){if(vf=null,i=pn(i),i!==null){var s=o(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=u(s),i!==null)return i;i=null}else if(l===31){if(i=c(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return vf=i,null}function vw(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tt()){case gn:return 2;case Un:return 8;case fr:case Na:return 32;case Oi:return 268435456;default:return 32}default:return 32}}var Ny=!1,Js=null,Zs=null,eo=null,zc=new Map,Fc=new Map,to=[],gN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _w(i,s){switch(i){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":eo=null;break;case"pointerover":case"pointerout":zc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fc.delete(s.pointerId)}}function Uc(i,s,l,d,p,b){return i===null||i.nativeEvent!==b?(i={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:b,targetContainers:[p]},s!==null&&(s=gr(s),s!==null&&pw(s)),i):(i.eventSystemFlags|=d,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function pN(i,s,l,d,p){switch(s){case"focusin":return Js=Uc(Js,i,s,l,d,p),!0;case"dragenter":return Zs=Uc(Zs,i,s,l,d,p),!0;case"mouseover":return eo=Uc(eo,i,s,l,d,p),!0;case"pointerover":var b=p.pointerId;return zc.set(b,Uc(zc.get(b)||null,i,s,l,d,p)),!0;case"gotpointercapture":return b=p.pointerId,Fc.set(b,Uc(Fc.get(b)||null,i,s,l,d,p)),!0}return!1}function bw(i){var s=pn(i.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){i.blockedOn=s,nr(i.priority,function(){yw(l)});return}}else if(s===31){if(s=c(l),s!==null){i.blockedOn=s,nr(i.priority,function(){yw(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function _f(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=Oy(i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);ks=d,l.target.dispatchEvent(d),ks=null}else return s=gr(l),s!==null&&pw(s),i.blockedOn=l,!1;s.shift()}return!0}function Sw(i,s,l){_f(i)&&l.delete(s)}function yN(){Ny=!1,Js!==null&&_f(Js)&&(Js=null),Zs!==null&&_f(Zs)&&(Zs=null),eo!==null&&_f(eo)&&(eo=null),zc.forEach(Sw),Fc.forEach(Sw)}function bf(i,s){i.blockedOn===s&&(i.blockedOn=null,Ny||(Ny=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,yN)))}var Sf=null;function Tw(i){Sf!==i&&(Sf=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Sf===i&&(Sf=null);for(var s=0;s<i.length;s+=3){var l=i[s],d=i[s+1],p=i[s+2];if(typeof d!="function"){if(Dy(d||l)===null)continue;break}var b=gr(l);b!==null&&(i.splice(s,3),s-=3,Op(b,{pending:!0,data:p,method:l.method,action:d},d,p))}}))}function mu(i){function s($){return bf($,i)}Js!==null&&bf(Js,i),Zs!==null&&bf(Zs,i),eo!==null&&bf(eo,i),zc.forEach(s),Fc.forEach(s);for(var l=0;l<to.length;l++){var d=to[l];d.blockedOn===i&&(d.blockedOn=null)}for(;0<to.length&&(l=to[0],l.blockedOn===null);)bw(l),l.blockedOn===null&&to.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var p=l[d],b=l[d+1],A=p[on]||null;if(typeof b=="function")A||Tw(l);else if(A){var P=null;if(b&&b.hasAttribute("formAction")){if(p=b,A=b[on]||null)P=A.formAction;else if(Dy(p)!==null)continue}else P=A.action;typeof P=="function"?l[d+1]=P:(l.splice(d,3),d-=3),Tw(l)}}}function Ew(){function i(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(A){return p=A})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),d||setTimeout(l,20)}function l(){if(!d&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,p=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){d=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function My(i){this._internalRoot=i}Tf.prototype.render=My.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,d=ni();mw(l,d,i,s,null,null)},Tf.prototype.unmount=My.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;mw(i.current,2,null,i,null,null),tf(),s[hi]=null}};function Tf(i){this._internalRoot=i}Tf.prototype.unstable_scheduleHydration=function(i){if(i){var s=Ln();i={blockedOn:null,target:i,priority:s};for(var l=0;l<to.length&&s!==0&&s<to[l].priority;l++);to.splice(l,0,i),l===0&&bw(i)}};var ww=e.version;if(ww!=="19.2.4")throw Error(r(527,ww,"19.2.4"));se.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(s),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var vN={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ef.isDisabled&&Ef.supportsFiber)try{Hn=Ef.inject(vN),$t=Ef}catch{}}return Wc.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,d="",p=OT,b=DT,A=NT;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError)),s=hw(i,1,!1,null,null,l,d,null,p,b,A,Ew),i[hi]=s.current,gy(i),new My(s)},Wc.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var d=!1,p="",b=OT,A=DT,P=NT,$=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(P=l.onRecoverableError),l.formState!==void 0&&($=l.formState)),s=hw(i,1,!0,s,l??null,d,p,$,b,A,P,Ew),s.context=fw(null),l=s.current,d=ni(),d=Cr(d),p=zs(d),p.callback=null,Fs(l,p,d),l=d,s.current.lanes=l,aa(s,l),va(s),i[hi]=s.current,gy(i),new Tf(s)},Wc.version="19.2.4",Wc}var lx;function nL(){if(lx)return $y.exports;lx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),$y.exports=tL(),$y.exports}var _A=nL();function rL(n,e){return I0(e),_A.hydrateRoot(e,n)}function iL(n,e){I0(e);var t=_A.createRoot(e);return t.render(n),t}function aL(n){return n.unmount(),!0}var D_=n=>{if(n!=null){var e=n.nodeType===1;if(e&&typeof n.getBoundingClientRect=="function")return n.getBoundingClientRect()}},pd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridRowEnd:!0,gridRowGap:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridColumnStart:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},sL=["ms","Moz","O","Webkit"],oL=(n,e)=>n+e.charAt(0).toUpperCase()+e.substring(1);Object.keys(pd).forEach(n=>{sL.forEach(e=>{pd[oL(e,n)]=pd[n]})});function lL(n,e,t){var r=e==null||typeof e=="boolean"||e==="";return r?"":!t&&typeof e=="number"&&e!==0&&!(pd.hasOwnProperty(n)&&pd[n])?e+"px":(""+e).trim()}function uL(n,e){var t=n.style;for(var r in e)if(e.hasOwnProperty(r)){var a=r.indexOf("--")===0,o=lL(r,e[r],a);r==="float"&&(r="cssFloat"),a?t.setProperty(r,o):t[r]=o}}var ux=n=>{var e=n.offsetHeight,t=n.offsetWidth,r=n.offsetLeft,a=n.offsetTop;for(n=n.offsetParent;n&&n.nodeType===1;)r+=n.offsetLeft+n.clientLeft-n.scrollLeft,a+=n.offsetTop+n.clientTop-n.scrollTop,n=n.offsetParent;return a-=window.scrollY,r-=window.scrollX,{width:t,height:e,top:a,left:r}},cx=(n,e,t)=>{var r=e||n&&n.parentNode;n&&r&&setTimeout(()=>{if(n.isConnected&&r.isConnected){var a=ux(r),o=ux(n),u=o.height,c=o.left,h=o.top,f=o.width,g=c-a.left,y=h-a.top;t(g,y,f,u,c,h)}},0)},cL={A:!0,BODY:!0,INPUT:!0,SELECT:!0,TEXTAREA:!0},cs={blur(n){try{n.blur()}catch{}},focus(n){try{var e=n.nodeName;n.getAttribute("tabIndex")==null&&n.isContentEditable!==!0&&cL[e]==null&&n.setAttribute("tabIndex","-1"),n.focus()}catch{}},measure(n,e){cx(n,null,e)},measureInWindow(n,e){n&&setTimeout(()=>{var t=D_(n),r=t.height,a=t.left,o=t.top,u=t.width;e(a,o,u,r)},0)},measureLayout(n,e,t,r){cx(n,e,r)},updateView(n,e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var r=e[t];switch(t){case"style":{uL(n,r);break}case"class":case"className":{n.setAttribute("class",r);break}case"text":case"value":n.value=r;break;default:n.setAttribute(t,r)}}},configureNextLayoutAnimation(n,e){e()},setLayoutAnimationEnabledExperimental(){}},an={OS:"web",select:n=>"web"in n?n.web:n.default,get isTesting(){return!1},get Version(){return"0.0.0"}};function Mt(){return Mt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Mt.apply(null,arguments)}var O0={children:!0,dataSet:!0,dir:!0,id:!0,ref:!0,suppressHydrationWarning:!0,tabIndex:!0,testID:!0,focusable:!0,nativeID:!0},D0={"aria-activedescendant":!0,"aria-atomic":!0,"aria-autocomplete":!0,"aria-busy":!0,"aria-checked":!0,"aria-colcount":!0,"aria-colindex":!0,"aria-colspan":!0,"aria-controls":!0,"aria-current":!0,"aria-describedby":!0,"aria-details":!0,"aria-disabled":!0,"aria-errormessage":!0,"aria-expanded":!0,"aria-flowto":!0,"aria-haspopup":!0,"aria-hidden":!0,"aria-invalid":!0,"aria-keyshortcuts":!0,"aria-label":!0,"aria-labelledby":!0,"aria-level":!0,"aria-live":!0,"aria-modal":!0,"aria-multiline":!0,"aria-multiselectable":!0,"aria-orientation":!0,"aria-owns":!0,"aria-placeholder":!0,"aria-posinset":!0,"aria-pressed":!0,"aria-readonly":!0,"aria-required":!0,inert:!0,role:!0,"aria-roledescription":!0,"aria-rowcount":!0,"aria-rowindex":!0,"aria-rowspan":!0,"aria-selected":!0,"aria-setsize":!0,"aria-sort":!0,"aria-valuemax":!0,"aria-valuemin":!0,"aria-valuenow":!0,"aria-valuetext":!0,accessibilityActiveDescendant:!0,accessibilityAtomic:!0,accessibilityAutoComplete:!0,accessibilityBusy:!0,accessibilityChecked:!0,accessibilityColumnCount:!0,accessibilityColumnIndex:!0,accessibilityColumnSpan:!0,accessibilityControls:!0,accessibilityCurrent:!0,accessibilityDescribedBy:!0,accessibilityDetails:!0,accessibilityDisabled:!0,accessibilityErrorMessage:!0,accessibilityExpanded:!0,accessibilityFlowTo:!0,accessibilityHasPopup:!0,accessibilityHidden:!0,accessibilityInvalid:!0,accessibilityKeyShortcuts:!0,accessibilityLabel:!0,accessibilityLabelledBy:!0,accessibilityLevel:!0,accessibilityLiveRegion:!0,accessibilityModal:!0,accessibilityMultiline:!0,accessibilityMultiSelectable:!0,accessibilityOrientation:!0,accessibilityOwns:!0,accessibilityPlaceholder:!0,accessibilityPosInSet:!0,accessibilityPressed:!0,accessibilityReadOnly:!0,accessibilityRequired:!0,accessibilityRole:!0,accessibilityRoleDescription:!0,accessibilityRowCount:!0,accessibilityRowIndex:!0,accessibilityRowSpan:!0,accessibilitySelected:!0,accessibilitySetSize:!0,accessibilitySort:!0,accessibilityValueMax:!0,accessibilityValueMin:!0,accessibilityValueNow:!0,accessibilityValueText:!0},N0={onClick:!0,onAuxClick:!0,onContextMenu:!0,onGotPointerCapture:!0,onLostPointerCapture:!0,onPointerCancel:!0,onPointerDown:!0,onPointerEnter:!0,onPointerMove:!0,onPointerLeave:!0,onPointerOut:!0,onPointerOver:!0,onPointerUp:!0},M0={onBlur:!0,onFocus:!0},P0={onKeyDown:!0,onKeyDownCapture:!0,onKeyUp:!0,onKeyUpCapture:!0},L0={onMouseDown:!0,onMouseEnter:!0,onMouseLeave:!0,onMouseMove:!0,onMouseOver:!0,onMouseOut:!0,onMouseUp:!0},V0={onTouchCancel:!0,onTouchCancelCapture:!0,onTouchEnd:!0,onTouchEndCapture:!0,onTouchMove:!0,onTouchMoveCapture:!0,onTouchStart:!0,onTouchStartCapture:!0},j0={style:!0};function B0(n,e){var t={};for(var r in n)n.hasOwnProperty(r)&&e[r]===!0&&(t[r]=n[r]);return t}var El=Gt?E.useLayoutEffect:E.useEffect,N_="__reactLayoutHandler",Jy=null;function dL(){return Gt&&typeof window.ResizeObserver<"u"&&Jy==null&&(Jy=new window.ResizeObserver(function(n){n.forEach(e=>{var t=e.target,r=t[N_];typeof r=="function"&&cs.measure(t,(a,o,u,c,h,f)=>{var g={nativeEvent:{layout:{x:a,y:o,width:u,height:c,left:h,top:f}},timeStamp:Date.now()};Object.defineProperty(g.nativeEvent,"target",{enumerable:!0,get:()=>e.target}),r(g)})})})),Jy}function z0(n,e){var t=dL();El(()=>{var r=n.current;r!=null&&(r[N_]=e)},[n,e]),El(()=>{var r=n.current;return r!=null&&t!=null&&(typeof r[N_]=="function"?t.observe(r):t.unobserve(r)),()=>{r!=null&&t!=null&&t.unobserve(r)}},[n,t])}function bA(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(a){e.forEach(o=>{if(o!=null){if(typeof o=="function"){o(a);return}if(typeof o=="object"){o.current=a;return}console.error("mergeRefs cannot handle Refs of type boolean, number or string, received ref "+String(o))}})}}function Wu(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return E.useMemo(()=>bA(...e),[...e])}var dx=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol():Object.freeze({});function M_(n){var e=E.useRef(dx);return e.current===dx&&(e.current=n()),e.current}function F0(n){n.pointerEvents,n.style;var e=M_(()=>t=>{t!=null&&(t.measure=r=>cs.measure(t,r),t.measureLayout=(r,a,o)=>cs.measureLayout(t,r,o,a),t.measureInWindow=r=>cs.measureInWindow(t,r))});return e}var hx=()=>{},hL={},fL=[];function fx(n){return n>20?n%20:n}function SA(n,e){var t,r=!1,a,o,u=n.changedTouches,c=n.type,h=n.metaKey===!0,f=n.shiftKey===!0,g=u&&u[0].force||0,y=fx(u&&u[0].identifier||0),_=u&&u[0].clientX||n.clientX,S=u&&u[0].clientY||n.clientY,T=u&&u[0].pageX||n.pageX,x=u&&u[0].pageY||n.pageY,C=typeof n.preventDefault=="function"?n.preventDefault.bind(n):hx,I=n.timeStamp;function R(N){return Array.prototype.slice.call(N).map(D=>({force:D.force,identifier:fx(D.identifier),get locationX(){return H(D.clientX)},get locationY(){return F(D.clientY)},pageX:D.pageX,pageY:D.pageY,target:D.target,timestamp:I}))}if(u!=null)a=R(u),o=R(n.touches);else{var O=[{force:g,identifier:y,get locationX(){return H(_)},get locationY(){return F(S)},pageX:T,pageY:x,target:n.target,timestamp:I}];a=O,o=c==="mouseup"||c==="dragstart"?fL:O}var z={bubbles:!0,cancelable:!0,currentTarget:null,defaultPrevented:n.defaultPrevented,dispatchConfig:hL,eventPhase:n.eventPhase,isDefaultPrevented(){return n.defaultPrevented},isPropagationStopped(){return r},isTrusted:n.isTrusted,nativeEvent:{altKey:!1,ctrlKey:!1,metaKey:h,shiftKey:f,changedTouches:a,force:g,identifier:y,get locationX(){return H(_)},get locationY(){return F(S)},pageX:T,pageY:x,target:n.target,timestamp:I,touches:o,type:c},persist:hx,preventDefault:C,stopPropagation(){r=!0},target:n.target,timeStamp:I,touchHistory:e.touchHistory};function H(N){if(t=t||D_(z.currentTarget),t)return N-t.left}function F(N){if(t=t||D_(z.currentTarget),t)return N-t.top}return z}var mL="mousedown",gL="mousemove",pL="mouseup",yL="dragstart",vL="touchstart",_L="touchmove",bL="touchend",SL="touchcancel",TL="scroll",EL="select",wL="selectionchange";function TA(n){return n===vL||n===mL}function EA(n){return n===_L||n===gL}function wA(n){return n===bL||n===pL||xA(n)}function xA(n){return n===SL||n===yL}function xL(n){return n===TL}function CL(n){return n===EL||n===wL}function RL(){var n=window.getSelection(),e=n.toString(),t=n.anchorNode,r=n.focusNode,a=t&&t.nodeType===window.Node.TEXT_NODE||r&&r.nodeType===window.Node.TEXT_NODE;return e.length>=1&&e!==`
`&&a}var CA="__reactResponderId";function AL(n){if(n.type==="selectionchange"){var e=window.getSelection().anchorNode;return mx(e)}else{var t=n.composedPath!=null?n.composedPath():mx(n.target);return t}}function mx(n){for(var e=[];n!=null&&n!==document.body;)e.push(n),n=n.parentNode;return e}function IL(n){return n!=null?n[CA]:null}function kL(n,e){n!=null&&(n[CA]=e)}function OL(n){for(var e=[],t=[],r=AL(n),a=0;a<r.length;a++){var o=r[a],u=IL(o);u!=null&&(e.push(u),t.push(o))}return{idPath:e,nodePath:t}}function DL(n,e){var t=n.length,r=e.length;if(t===0||r===0||n[t-1]!==e[r-1])return null;var a=n[0],o=0,u=e[0],c=0;t-r>0&&(o=t-r,a=n[o],t=r),r-t>0&&(c=r-t,u=e[c],r=t);for(var h=t;h--;){if(a===u)return a;a=n[o++],u=e[c++]}return null}function NL(n,e){if(!e||e.length===0)return!1;for(var t=0;t<e.length;t++){var r=e[t].target;if(r!=null&&n.contains(r))return!0}return!1}function ML(n){return n.type==="selectionchange"?RL():n.type==="select"}function PL(n){var e=n.altKey,t=n.button,r=n.buttons,a=n.ctrlKey,o=n.type,u=o==="touchstart"||o==="touchmove",c=o==="mousedown"&&(t===0||r===1),h=o==="mousemove"&&r===1,f=e===!1&&a===!1;return!!(u||c&&f||h&&f)}var gx=20;function Ri(n){return n.timeStamp||n.timestamp}function LL(n){return{touchActive:!0,startPageX:n.pageX,startPageY:n.pageY,startTimeStamp:Ri(n),currentPageX:n.pageX,currentPageY:n.pageY,currentTimeStamp:Ri(n),previousPageX:n.pageX,previousPageY:n.pageY,previousTimeStamp:Ri(n)}}function VL(n,e){n.touchActive=!0,n.startPageX=e.pageX,n.startPageY=e.pageY,n.startTimeStamp=Ri(e),n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=Ri(e),n.previousPageX=e.pageX,n.previousPageY=e.pageY,n.previousTimeStamp=Ri(e)}function U0(n){var e=n.identifier;return e==null&&console.error("Touch object is missing identifier."),e}function jL(n,e){var t=U0(n),r=e.touchBank[t];r?VL(r,n):e.touchBank[t]=LL(n),e.mostRecentTimeStamp=Ri(n)}function BL(n,e){var t=e.touchBank[U0(n)];t?(t.touchActive=!0,t.previousPageX=t.currentPageX,t.previousPageY=t.currentPageY,t.previousTimeStamp=t.currentTimeStamp,t.currentPageX=n.pageX,t.currentPageY=n.pageY,t.currentTimeStamp=Ri(n),e.mostRecentTimeStamp=Ri(n)):console.warn(`Cannot record touch move without a touch start.
`,"Touch Move: "+RA(n)+`
`,"Touch Bank: "+AA(e))}function zL(n,e){var t=e.touchBank[U0(n)];t?(t.touchActive=!1,t.previousPageX=t.currentPageX,t.previousPageY=t.currentPageY,t.previousTimeStamp=t.currentTimeStamp,t.currentPageX=n.pageX,t.currentPageY=n.pageY,t.currentTimeStamp=Ri(n),e.mostRecentTimeStamp=Ri(n)):console.warn(`Cannot record touch end without a touch start.
`,"Touch End: "+RA(n)+`
`,"Touch Bank: "+AA(e))}function RA(n){return JSON.stringify({identifier:n.identifier,pageX:n.pageX,pageY:n.pageY,timestamp:Ri(n)})}function AA(n){var e=n.touchBank,t=JSON.stringify(e.slice(0,gx));return e.length>gx&&(t+=" (original size: "+e.length+")"),t}class FL{constructor(){this._touchHistory={touchBank:[],numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0}}recordTouchTrack(e,t){var r=this._touchHistory;if(EA(e))t.changedTouches.forEach(c=>BL(c,r));else if(TA(e))t.changedTouches.forEach(c=>jL(c,r)),r.numberActiveTouches=t.touches.length,r.numberActiveTouches===1&&(r.indexOfSingleActiveTouch=t.touches[0].identifier);else if(wA(e)&&(t.changedTouches.forEach(c=>zL(c,r)),r.numberActiveTouches=t.touches.length,r.numberActiveTouches===1))for(var a=r.touchBank,o=0;o<a.length;o++){var u=a[o];if(u!=null&&u.touchActive){r.indexOfSingleActiveTouch=o;break}}}get touchHistory(){return this._touchHistory}}var UL={},px=["onStartShouldSetResponderCapture","onStartShouldSetResponder",{bubbles:!0}],yx=["onMoveShouldSetResponderCapture","onMoveShouldSetResponder",{bubbles:!0}],HL=["onScrollShouldSetResponderCapture","onScrollShouldSetResponder",{bubbles:!1}],WL={touchstart:px,mousedown:px,touchmove:yx,mousemove:yx,scroll:HL},P_={id:null,idPath:null,node:null},Im=new Map,ao=!1,_a=0,wa={id:null,node:null,idPath:null},L_=new FL;function Ad(n){wa=n}function Id(n){var e=Im.get(n);return e??UL}function Zy(n){var e=n.type,t=n.target;if(e==="touchstart"&&(ao=!0),(e==="touchmove"||_a>1)&&(ao=!1),!(e==="mousedown"&&ao||e==="mousemove"&&ao||e==="mousemove"&&_a<1)){if(ao&&e==="mouseup"){_a===0&&(ao=!1);return}var r=TA(e)&&PL(n),a=EA(e),o=wA(e),u=xL(e),c=CL(e),h=SA(n,L_);(r||a||o)&&(n.touches?_a=n.touches.length:r?_a=1:o&&(_a=0),L_.recordTouchTrack(e,h.nativeEvent));var f=OL(n),g=!1,y;if(r||a||u&&_a>0){var _=wa.idPath,S=f.idPath;if(_!=null&&S!=null){var T=DL(_,S);if(T!=null){var x=S.indexOf(T),C=x+(T===wa.id?1:0);f={idPath:S.slice(C),nodePath:f.nodePath.slice(C)}}else f=null}f!=null&&(y=qL(f,n,h),y!=null&&(GL(h,y),g=!0))}if(wa.id!=null&&wa.node!=null){var I=wa,R=I.id,O=I.node,z=Id(R),H=z.onResponderStart,F=z.onResponderMove,N=z.onResponderEnd,D=z.onResponderRelease,V=z.onResponderTerminate,B=z.onResponderTerminationRequest;if(h.bubbles=!1,h.cancelable=!1,h.currentTarget=O,r)H!=null&&(h.dispatchConfig.registrationName="onResponderStart",H(h));else if(a)F!=null&&(h.dispatchConfig.registrationName="onResponderMove",F(h));else{var L=xA(e)||e==="contextmenu"||e==="blur"&&t===window||e==="blur"&&t.contains(O)&&n.relatedTarget!==O||u&&_a===0||u&&t.contains(O)&&t!==O||c&&ML(n),q=o&&!L&&!NL(O,n.touches);if(o&&N!=null&&(h.dispatchConfig.registrationName="onResponderEnd",N(h)),q&&(D!=null&&(h.dispatchConfig.registrationName="onResponderRelease",D(h)),Ad(P_)),L){var M=!0;(e==="contextmenu"||e==="scroll"||e==="selectionchange")&&(g?M=!1:B!=null&&(h.dispatchConfig.registrationName="onResponderTerminationRequest",B(h)===!1&&(M=!1))),M&&(V!=null&&(h.dispatchConfig.registrationName="onResponderTerminate",V(h)),Ad(P_),ao=!1,_a=0)}}}}}function qL(n,e,t){var r=WL[e.type];if(r!=null){for(var a=n.idPath,o=n.nodePath,u=r[0],c=r[1],h=r[2].bubbles,f=function(F,N,D){var V=Id(F),B=V[D];if(B!=null&&(t.currentTarget=N,B(t)===!0)){var L=a.slice(a.indexOf(F));return{id:F,node:N,idPath:L}}},g=a.length-1;g>=0;g--){var y=a[g],_=o[g],S=f(y,_,u);if(S!=null)return S;if(t.isPropagationStopped()===!0)return}if(h)for(var T=0;T<a.length;T++){var x=a[T],C=o[T],I=f(x,C,c);if(I!=null)return I;if(t.isPropagationStopped()===!0)return}else{var R=a[0],O=o[0],z=e.target;if(z===O)return f(R,O,c)}}}function GL(n,e){var t=wa,r=t.id,a=t.node,o=e.id,u=e.node,c=Id(o),h=c.onResponderGrant,f=c.onResponderReject;if(n.bubbles=!1,n.cancelable=!1,n.currentTarget=u,r==null)h!=null&&(n.currentTarget=u,n.dispatchConfig.registrationName="onResponderGrant",h(n)),Ad(e);else{var g=Id(r),y=g.onResponderTerminate,_=g.onResponderTerminationRequest,S=!0;_!=null&&(n.currentTarget=a,n.dispatchConfig.registrationName="onResponderTerminationRequest",_(n)===!1&&(S=!1)),S?(y!=null&&(n.currentTarget=a,n.dispatchConfig.registrationName="onResponderTerminate",y(n)),h!=null&&(n.currentTarget=u,n.dispatchConfig.registrationName="onResponderGrant",h(n)),Ad(e)):f!=null&&(n.currentTarget=u,n.dispatchConfig.registrationName="onResponderReject",f(n))}}var KL=["blur","scroll"],$L=["mousedown","mousemove","mouseup","dragstart","touchstart","touchmove","touchend","touchcancel","contextmenu","select","selectionchange"];function YL(){Gt&&window.__reactResponderSystemActive==null&&(window.addEventListener("blur",Zy),$L.forEach(n=>{document.addEventListener(n,Zy)}),KL.forEach(n=>{document.addEventListener(n,Zy,!0)}),window.__reactResponderSystemActive=!0)}function QL(n,e,t){kL(e,n),Im.set(n,t)}function vx(n){wa.id===n&&XL(),Im.has(n)&&Im.delete(n)}function XL(){var n=wa,e=n.id,t=n.node;if(e!=null&&t!=null){var r=Id(e),a=r.onResponderTerminate;if(a!=null){var o=SA({},L_);o.currentTarget=t,a(o)}Ad(P_)}ao=!1,_a=0}function JL(){return wa.node}var ZL={},eV=0;function tV(n){var e=E.useRef(null);return e.current==null&&(e.current=n()),e.current}function H0(n,e){e===void 0&&(e=ZL);var t=tV(()=>eV++),r=E.useRef(!1);E.useEffect(()=>(YL(),()=>{vx(t)}),[t]),E.useEffect(()=>{var a=e,o=a.onMoveShouldSetResponder,u=a.onMoveShouldSetResponderCapture,c=a.onScrollShouldSetResponder,h=a.onScrollShouldSetResponderCapture,f=a.onSelectionChangeShouldSetResponder,g=a.onSelectionChangeShouldSetResponderCapture,y=a.onStartShouldSetResponder,_=a.onStartShouldSetResponderCapture,S=o!=null||u!=null||c!=null||h!=null||f!=null||g!=null||y!=null||_!=null,T=n.current;S?(QL(t,T,e),r.current=!0):r.current&&(vx(t),r.current=!1)},[e,n,t]),E.useDebugValue({isResponder:n.current===JL()}),E.useDebugValue(e)}var km=E.createContext(!1),nV=["hrefAttrs","onLayout","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","onResponderEnd","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderStart","onResponderTerminate","onResponderTerminationRequest","onScrollShouldSetResponder","onScrollShouldSetResponderCapture","onSelectionChangeShouldSetResponder","onSelectionChangeShouldSetResponderCapture","onStartShouldSetResponder","onStartShouldSetResponderCapture"],rV=Object.assign({},O0,D0,N0,M0,P0,L0,V0,j0,{href:!0,lang:!0,onScroll:!0,onWheel:!0,pointerEvents:!0}),iV=n=>B0(n,rV),W=E.forwardRef((n,e)=>{var t=n.hrefAttrs,r=n.onLayout,a=n.onMoveShouldSetResponder,o=n.onMoveShouldSetResponderCapture,u=n.onResponderEnd,c=n.onResponderGrant,h=n.onResponderMove,f=n.onResponderReject,g=n.onResponderRelease,y=n.onResponderStart,_=n.onResponderTerminate,S=n.onResponderTerminationRequest,T=n.onScrollShouldSetResponder,x=n.onScrollShouldSetResponderCapture,C=n.onSelectionChangeShouldSetResponder,I=n.onSelectionChangeShouldSetResponderCapture,R=n.onStartShouldSetResponder,O=n.onStartShouldSetResponderCapture,z=An(n,nV),H=E.useContext(km),F=E.useRef(null),N=k0(),D=N.direction;z0(F,r),H0(F,{onMoveShouldSetResponder:a,onMoveShouldSetResponderCapture:o,onResponderEnd:u,onResponderGrant:c,onResponderMove:h,onResponderReject:f,onResponderRelease:g,onResponderStart:y,onResponderTerminate:_,onResponderTerminationRequest:S,onScrollShouldSetResponder:T,onScrollShouldSetResponderCapture:x,onSelectionChangeShouldSetResponder:C,onSelectionChangeShouldSetResponderCapture:I,onStartShouldSetResponder:R,onStartShouldSetResponderCapture:O});var V="div",B=n.lang!=null?dg(n.lang):null,L=n.dir||B,q=L||D,M=iV(z);if(M.dir=L,M.style=[_x.view$raw,H&&_x.inline,n.style],n.href!=null&&(V="a",t!=null)){var ue=t.download,me=t.rel,Y=t.target;ue!=null&&(M.download=ue),me!=null&&(M.rel=me),typeof Y=="string"&&(M.target=Y.charAt(0)!=="_"?"_"+Y:Y)}var se=F0(M),ge=Wu(F,se,e);return M.ref=ge,Dl(V,M,{writingDirection:q})});W.displayName="View";var _x=Ne.create({view$raw:{alignContent:"flex-start",alignItems:"stretch",backgroundColor:"transparent",border:"0 solid black",boxSizing:"border-box",display:"flex",flexBasis:"auto",flexDirection:"column",flexShrink:0,listStyle:"none",margin:0,minHeight:0,minWidth:0,padding:0,position:"relative",textDecoration:"none",zIndex:0},inline:{display:"inline-flex"}}),aV=function n(e,t,r){if(r===void 0&&(r=-1),r===0)return!0;if(e===t||typeof e=="function"&&typeof t=="function")return!1;if(typeof e!="object"||e===null)return e!==t;if(typeof t!="object"||t===null||e.constructor!==t.constructor)return!0;if(Array.isArray(e)){var a=e.length;if(t.length!==a)return!0;for(var o=0;o<a;o++)if(n(e[o],t[o],r-1))return!0}else{for(var u in e)if(n(e[u],t[u],r-1))return!0;for(var c in t)if(e[c]===void 0&&t[c]!==void 0)return!0}return!1},ev,bx;function sV(){if(bx)return ev;bx=1;function n(e,t){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];if(!e){var u;if(t===void 0)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;u=new Error(t.replace(/%s/g,function(){return String(a[c++])})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}return ev=n,ev}var oV=sV();const Te=tr(oV);function Sx(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function lV(n,e){if(n){if(typeof n=="string")return Sx(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Sx(n,e):void 0}}function xa(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t)return(t=t.call(n)).next.bind(t);if(Array.isArray(n)||(t=lV(n))||e){t&&(n=t);var r=0;return function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var uV=["colors","enabled","onRefresh","progressBackgroundColor","progressViewOffset","refreshing","size","tintColor","title","titleColor"];function hg(n){n.colors,n.enabled,n.onRefresh,n.progressBackgroundColor,n.progressViewOffset,n.refreshing,n.size,n.tintColor,n.title,n.titleColor;var e=An(n,uV);return En.createElement(W,e)}var yl={window:{fontScale:1,height:0,scale:1,width:0},screen:{fontScale:1,height:0,scale:1,width:0}},so={},Tx=Gt;function IA(){if(Gt){var n=window,e,t;if(n.visualViewport){var r=n.visualViewport;e=Math.round(r.height*r.scale),t=Math.round(r.width*r.scale)}else{var a=n.document.documentElement;e=a.clientHeight,t=a.clientWidth}yl.window={fontScale:1,height:e,scale:n.devicePixelRatio||1,width:t},yl.screen={fontScale:1,height:n.screen.height,scale:n.devicePixelRatio||1,width:n.screen.width}}}function Ex(){IA(),Array.isArray(so.change)&&so.change.forEach(n=>n(yl))}class wl{static get(e){return Tx&&(Tx=!1,IA()),Te(yl[e],"No dimension set for key "+e),yl[e]}static set(e){e&&(Gt?Te(!1,"Dimensions cannot be set in the browser"):(e.screen!=null&&(yl.screen=e.screen),e.window!=null&&(yl.window=e.window)))}static addEventListener(e,t){return so[e]=so[e]||[],so[e].push(t),{remove:()=>{this.removeEventListener(e,t)}}}static removeEventListener(e,t){Array.isArray(so[e])&&(so[e]=so[e].filter(r=>r!==t))}}Gt&&(window.visualViewport?window.visualViewport.addEventListener("resize",Ex,!1):window.addEventListener("resize",Ex,!1));var os={_currentlyFocusedNode:null,currentlyFocusedField(){return document.activeElement!==this._currentlyFocusedNode&&(this._currentlyFocusedNode=null),this._currentlyFocusedNode},focusTextInput(n){n!==null&&(this._currentlyFocusedNode=n,document.activeElement!==n&&cs.focus(n))},blurTextInput(n){n!==null&&(this._currentlyFocusedNode=null,document.activeElement===n&&cs.blur(n))}},kA=()=>{os.blurTextInput(os.currentlyFocusedField())},cV=["onScroll","onTouchMove","onWheel","scrollEnabled","scrollEventThrottle","showsHorizontalScrollIndicator","showsVerticalScrollIndicator","style"];function wx(n){return{nativeEvent:{contentOffset:{get x(){return n.target.scrollLeft},get y(){return n.target.scrollTop}},contentSize:{get height(){return n.target.scrollHeight},get width(){return n.target.scrollWidth}},layoutMeasurement:{get height(){return n.target.offsetHeight},get width(){return n.target.offsetWidth}}},timeStamp:Date.now()}}function dV(n,e){var t=Date.now()-n;return e>0&&t>=e}var hV=E.forwardRef((n,e)=>{var t=n.onScroll,r=n.onTouchMove,a=n.onWheel,o=n.scrollEnabled,u=o===void 0?!0:o,c=n.scrollEventThrottle,h=c===void 0?0:c,f=n.showsHorizontalScrollIndicator,g=n.showsVerticalScrollIndicator,y=n.style,_=An(n,cV),S=E.useRef({isScrolling:!1,scrollLastTick:0}),T=E.useRef(null),x=E.useRef(null);function C(F){return N=>{u&&F&&F(N)}}function I(F){F.stopPropagation(),F.target===x.current&&(F.persist(),T.current!=null&&clearTimeout(T.current),T.current=setTimeout(()=>{z(F)},100),S.current.isScrolling?dV(S.current.scrollLastTick,h)&&O(F):R(F))}function R(F){S.current.isScrolling=!0,O(F)}function O(F){S.current.scrollLastTick=Date.now(),t&&t(wx(F))}function z(F){S.current.isScrolling=!1,t&&t(wx(F))}var H=f===!1||g===!1;return E.createElement(W,Mt({},_,{onScroll:I,onTouchMove:C(r),onWheel:C(a),ref:Wu(x,e),style:[y,!u&&xx.scrollDisabled,H&&xx.hideScrollbar]}))}),xx=Ne.create({scrollDisabled:{overflowX:"hidden",overflowY:"hidden",touchAction:"none"},hideScrollbar:{scrollbarWidth:"none"}}),tv,Cx;function fV(){if(Cx)return tv;Cx=1;function n(t){return function(){return t}}var e=function(){};return e.thatReturns=n,e.thatReturnsFalse=n(!1),e.thatReturnsTrue=n(!0),e.thatReturnsNull=n(null),e.thatReturnsThis=function(){return this},e.thatReturnsArgument=function(t){return t},tv=e,tv}var nv,Rx;function mV(){if(Rx)return nv;Rx=1;var n=fV(),e=n;return nv=e,nv}var gV=mV();const pV=tr(gV);var yV=["contentContainerStyle","horizontal","onContentSizeChange","refreshControl","stickyHeaderIndices","pagingEnabled","forwardedRef","keyboardDismissMode","onScroll","centerContent"],Ax={},vV=16;let _V=class extends En.Component{constructor(){super(...arguments),this._scrollNodeRef=null,this._innerViewRef=null,this.isTouching=!1,this.lastMomentumScrollBeginTime=0,this.lastMomentumScrollEndTime=0,this.observedScrollSinceBecomingResponder=!1,this.becameResponderWhileAnimating=!1,this.scrollResponderHandleScrollShouldSetResponder=()=>this.isTouching,this.scrollResponderHandleStartShouldSetResponderCapture=e=>this.scrollResponderIsAnimating(),this.scrollResponderHandleTerminationRequest=()=>!this.observedScrollSinceBecomingResponder,this.scrollResponderHandleTouchEnd=e=>{var t=e.nativeEvent;this.isTouching=t.touches.length!==0,this.props.onTouchEnd&&this.props.onTouchEnd(e)},this.scrollResponderHandleResponderRelease=e=>{this.props.onResponderRelease&&this.props.onResponderRelease(e);var t=os.currentlyFocusedField();!this.props.keyboardShouldPersistTaps&&t!=null&&e.target!==t&&!this.observedScrollSinceBecomingResponder&&!this.becameResponderWhileAnimating&&(this.props.onScrollResponderKeyboardDismissed&&this.props.onScrollResponderKeyboardDismissed(e),os.blurTextInput(t))},this.scrollResponderHandleScroll=e=>{this.observedScrollSinceBecomingResponder=!0,this.props.onScroll&&this.props.onScroll(e)},this.scrollResponderHandleResponderGrant=e=>{this.observedScrollSinceBecomingResponder=!1,this.props.onResponderGrant&&this.props.onResponderGrant(e),this.becameResponderWhileAnimating=this.scrollResponderIsAnimating()},this.scrollResponderHandleScrollBeginDrag=e=>{this.props.onScrollBeginDrag&&this.props.onScrollBeginDrag(e)},this.scrollResponderHandleScrollEndDrag=e=>{this.props.onScrollEndDrag&&this.props.onScrollEndDrag(e)},this.scrollResponderHandleMomentumScrollBegin=e=>{this.lastMomentumScrollBeginTime=Date.now(),this.props.onMomentumScrollBegin&&this.props.onMomentumScrollBegin(e)},this.scrollResponderHandleMomentumScrollEnd=e=>{this.lastMomentumScrollEndTime=Date.now(),this.props.onMomentumScrollEnd&&this.props.onMomentumScrollEnd(e)},this.scrollResponderHandleTouchStart=e=>{this.isTouching=!0,this.props.onTouchStart&&this.props.onTouchStart(e)},this.scrollResponderHandleTouchMove=e=>{this.props.onTouchMove&&this.props.onTouchMove(e)},this.scrollResponderIsAnimating=()=>{var e=Date.now(),t=e-this.lastMomentumScrollEndTime,r=t<vV||this.lastMomentumScrollEndTime<this.lastMomentumScrollBeginTime;return r},this.scrollResponderScrollTo=(e,t,r)=>{if(typeof e=="number")console.warn("`scrollResponderScrollTo(x, y, animated)` is deprecated. Use `scrollResponderScrollTo({x: 5, y: 5, animated: true})` instead.");else{var a=e||Ax;e=a.x,t=a.y,r=a.animated}var o=this.getScrollableNode(),u=e||0,c=t||0;o!=null&&(typeof o.scroll=="function"?o.scroll({top:c,left:u,behavior:r?"smooth":"auto"}):(o.scrollLeft=u,o.scrollTop=c))},this.scrollResponderZoomTo=(e,t)=>{Te("zoomToRect is not implemented")},this.scrollResponderScrollNativeHandleToKeyboard=(e,t,r)=>{this.additionalScrollOffset=t||0,this.preventNegativeScrollOffset=!!r,cs.measureLayout(e,this.getInnerViewNode(),this.scrollResponderTextInputFocusError,this.scrollResponderInputMeasureAndScrollToKeyboard)},this.scrollResponderInputMeasureAndScrollToKeyboard=(e,t,r,a)=>{var o=wl.get("window").height;this.keyboardWillOpenTo&&(o=this.keyboardWillOpenTo.endCoordinates.screenY);var u=t-o+a+this.additionalScrollOffset;this.preventNegativeScrollOffset&&(u=Math.max(0,u)),this.scrollResponderScrollTo({x:0,y:u,animated:!0}),this.additionalOffset=0,this.preventNegativeScrollOffset=!1},this.scrollResponderKeyboardWillShow=e=>{this.keyboardWillOpenTo=e,this.props.onKeyboardWillShow&&this.props.onKeyboardWillShow(e)},this.scrollResponderKeyboardWillHide=e=>{this.keyboardWillOpenTo=null,this.props.onKeyboardWillHide&&this.props.onKeyboardWillHide(e)},this.scrollResponderKeyboardDidShow=e=>{e&&(this.keyboardWillOpenTo=e),this.props.onKeyboardDidShow&&this.props.onKeyboardDidShow(e)},this.scrollResponderKeyboardDidHide=e=>{this.keyboardWillOpenTo=null,this.props.onKeyboardDidHide&&this.props.onKeyboardDidHide(e)},this.flashScrollIndicators=()=>{this.scrollResponderFlashScrollIndicators()},this.getScrollResponder=()=>this,this.getScrollableNode=()=>this._scrollNodeRef,this.getInnerViewRef=()=>this._innerViewRef,this.getInnerViewNode=()=>this._innerViewRef,this.getNativeScrollRef=()=>this._scrollNodeRef,this.scrollTo=(e,t,r)=>{if(typeof e=="number")console.warn("`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, animated: true})` instead.");else{var a=e||Ax;t=a.x,e=a.y,r=a.animated}this.scrollResponderScrollTo({x:t||0,y:e||0,animated:r!==!1})},this.scrollToEnd=e=>{var t=(e&&e.animated)!==!1,r=this.props.horizontal,a=this.getScrollableNode(),o=r?a.scrollWidth:0,u=r?0:a.scrollHeight;this.scrollResponderScrollTo({x:o,y:u,animated:t})},this._handleContentOnLayout=e=>{var t=e.nativeEvent.layout,r=t.width,a=t.height;this.props.onContentSizeChange(r,a)},this._handleScroll=e=>{this.props.keyboardDismissMode==="on-drag"&&kA(),this.scrollResponderHandleScroll(e)},this._setInnerViewRef=e=>{this._innerViewRef=e},this._setScrollNodeRef=e=>{this._scrollNodeRef=e,e!=null&&(e.getScrollResponder=this.getScrollResponder,e.getInnerViewNode=this.getInnerViewNode,e.getInnerViewRef=this.getInnerViewRef,e.getNativeScrollRef=this.getNativeScrollRef,e.getScrollableNode=this.getScrollableNode,e.scrollTo=this.scrollTo,e.scrollToEnd=this.scrollToEnd,e.flashScrollIndicators=this.flashScrollIndicators,e.scrollResponderZoomTo=this.scrollResponderZoomTo,e.scrollResponderScrollNativeHandleToKeyboard=this.scrollResponderScrollNativeHandleToKeyboard);var t=bA(this.props.forwardedRef);t(e)}}scrollResponderHandleStartShouldSetResponder(){return!1}scrollResponderHandleResponderReject(){pV(!1,"ScrollView doesn't take rejection well - scrolls anyway")}scrollResponderFlashScrollIndicators(){}scrollResponderTextInputFocusError(e){console.error("Error measuring text field: ",e)}render(){var e=this.props,t=e.contentContainerStyle,r=e.horizontal,a=e.onContentSizeChange,o=e.refreshControl,u=e.stickyHeaderIndices,c=e.pagingEnabled;e.forwardedRef,e.keyboardDismissMode,e.onScroll;var h=e.centerContent,f=An(e,yV),g={};a&&(g={onLayout:this._handleContentOnLayout});var y=!r&&Array.isArray(u),_=y||c?En.Children.map(this.props.children,(O,z)=>{var H=y&&u.indexOf(z)>-1;return O!=null&&(H||c)?En.createElement(W,{style:[H&&ro.stickyHeader,c&&ro.pagingEnabledChild]},O):O}):this.props.children,S=En.createElement(W,Mt({},g,{children:_,collapsable:!1,ref:this._setInnerViewRef,style:[r&&ro.contentContainerHorizontal,h&&ro.contentContainerCenterContent,t]})),T=r?ro.baseHorizontal:ro.baseVertical,x=r?ro.pagingEnabledHorizontal:ro.pagingEnabledVertical,C=Ee(Ee({},f),{},{style:[T,c&&x,this.props.style],onTouchStart:this.scrollResponderHandleTouchStart,onTouchMove:this.scrollResponderHandleTouchMove,onTouchEnd:this.scrollResponderHandleTouchEnd,onScrollBeginDrag:this.scrollResponderHandleScrollBeginDrag,onScrollEndDrag:this.scrollResponderHandleScrollEndDrag,onMomentumScrollBegin:this.scrollResponderHandleMomentumScrollBegin,onMomentumScrollEnd:this.scrollResponderHandleMomentumScrollEnd,onStartShouldSetResponder:this.scrollResponderHandleStartShouldSetResponder,onStartShouldSetResponderCapture:this.scrollResponderHandleStartShouldSetResponderCapture,onScrollShouldSetResponder:this.scrollResponderHandleScrollShouldSetResponder,onScroll:this._handleScroll,onResponderGrant:this.scrollResponderHandleResponderGrant,onResponderTerminationRequest:this.scrollResponderHandleTerminationRequest,onResponderTerminate:this.scrollResponderHandleTerminate,onResponderRelease:this.scrollResponderHandleResponderRelease,onResponderReject:this.scrollResponderHandleResponderReject}),I=hV;Te(I!==void 0,"ScrollViewClass must not be undefined");var R=En.createElement(I,Mt({},C,{ref:this._setScrollNodeRef}),S);return o?En.cloneElement(o,{style:C.style},R):R}};var Ix={flexGrow:1,flexShrink:1,transform:"translateZ(0)",WebkitOverflowScrolling:"touch"},ro=Ne.create({baseVertical:Ee(Ee({},Ix),{},{flexDirection:"column",overflowX:"hidden",overflowY:"auto"}),baseHorizontal:Ee(Ee({},Ix),{},{flexDirection:"row",overflowX:"auto",overflowY:"hidden"}),contentContainerHorizontal:{flexDirection:"row"},contentContainerCenterContent:{justifyContent:"center",flexGrow:1},stickyHeader:{position:"sticky",top:0,zIndex:10},pagingEnabledHorizontal:{scrollSnapType:"x mandatory"},pagingEnabledVertical:{scrollSnapType:"y mandatory"},pagingEnabledChild:{scrollSnapAlign:"start"}}),ci=En.forwardRef((n,e)=>En.createElement(_V,Mt({},n,{forwardedRef:e})));ci.displayName="ScrollView";class bV{constructor(e){var t=e.onMoreTasks;this._onMoreTasks=t,this._queueStack=[{tasks:[],popable:!0}]}enqueue(e){this._getCurrentQueue().push(e)}enqueueTasks(e){e.forEach(t=>this.enqueue(t))}cancelTasks(e){this._queueStack=this._queueStack.map(t=>Ee(Ee({},t),{},{tasks:t.tasks.filter(r=>e.indexOf(r)===-1)})).filter((t,r)=>t.tasks.length>0||r===0)}hasTasksToProcess(){return this._getCurrentQueue().length>0}processNext(){var e=this._getCurrentQueue();if(e.length){var t=e.shift();try{typeof t=="object"&&t.gen?this._genPromise(t):typeof t=="object"&&t.run?t.run():(Te(typeof t=="function",`Expected Function, SimpleTask, or PromiseTask, but got:
`+JSON.stringify(t,null,2)),t())}catch(r){throw r.message="TaskQueue: Error with task "+(t.name||"")+": "+r.message,r}}}_getCurrentQueue(){var e=this._queueStack.length-1,t=this._queueStack[e];return t.popable&&t.tasks.length===0&&e>0?(this._queueStack.pop(),this._getCurrentQueue()):t.tasks}_genPromise(e){var t=this._queueStack.push({tasks:[],popable:!1}),r=t-1,a=this._queueStack[r];e.gen().then(()=>{a.popable=!0,this.hasTasksToProcess()&&this._onMoreTasks()}).catch(o=>{setTimeout(()=>{throw o.message="TaskQueue: Error resolving Promise in task "+e.name+": "+o.message,o},0)})}}class W0{constructor(){this._registry={}}addListener(e,t,r){var a=SV(this._registry,e),o={context:r,listener:t,remove(){a.delete(o)}};return a.add(o),o}emit(e){var t=this._registry[e];if(t!=null){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];for(var u=0,c=[...t];u<c.length;u++){var h=c[u];h.listener.apply(h.context,a)}}}removeAllListeners(e){e==null?this._registry={}:delete this._registry[e]}listenerCount(e){var t=this._registry[e];return t==null?0:t.size}}function SV(n,e){var t=n[e];return t==null&&(t=new Set,n[e]=t),t}var TV=function(e,t){return setTimeout(()=>{var r=Date.now();e({didTimeout:!1,timeRemaining(){return Math.max(0,50-(Date.now()-r))}})},1)},EV=Gt&&typeof window.requestIdleCallback<"u",wV=EV?window.requestIdleCallback:TV,Om=new W0,kd={Events:{interactionStart:"interactionStart",interactionComplete:"interactionComplete"},runAfterInteractions(n){var e=[],t=new Promise(r=>{yd(),n&&e.push(n),e.push({run:r,name:"resolve "+(n&&n.name||"?")}),Nm.enqueueTasks(e)});return{then:t.then.bind(t),done:t.then.bind(t),cancel:()=>{Nm.cancelTasks(e)}}},createInteractionHandle(){yd();var n=++xV;return Dm.add(n),n},clearInteractionHandle(n){Te(!!n,"Must provide a handle to clear."),yd(),Dm.delete(n),V_.add(n)},addListener:Om.addListener.bind(Om),setDeadline(n){Mm=n}},Vf=new Set,Dm=new Set,V_=new Set,Nm=new bV({onMoreTasks:yd}),um=0,xV=0,Mm=-1;function yd(){um||(Mm>0?um=setTimeout(kx):um=wV(kx))}function kx(){um=0;var n=Vf.size;Dm.forEach(r=>Vf.add(r)),V_.forEach(r=>Vf.delete(r));var e=Vf.size;if(n!==0&&e===0?Om.emit(kd.Events.interactionComplete):n===0&&e!==0&&Om.emit(kd.Events.interactionStart),e===0){for(var t=Date.now();Nm.hasTasksToProcess();)if(Nm.processNext(),Mm>0&&Date.now()-t>=Mm){yd();break}}Dm.clear(),V_.clear()}class CV{constructor(e,t){this._delay=t,this._callback=e}dispose(e){e===void 0&&(e={abort:!1}),this._taskHandle&&(this._taskHandle.cancel(),e.abort||this._callback(),this._taskHandle=null)}schedule(){if(!this._taskHandle){var e=setTimeout(()=>{this._taskHandle=kd.runAfterInteractions(()=>{this._taskHandle=null,this._callback()})},this._delay);this._taskHandle={cancel:()=>clearTimeout(e)}}}}function Ox(n,e,t){return e<n?n:e>t?t:e}function RV(){return console.log(...arguments)}class AV{constructor(e){Te(e>=0,"CellRenderMask must contain a non-negative number os cells"),this._numCells=e,e===0?this._regions=[]:this._regions=[{first:0,last:e-1,isSpacer:!0}]}enumerateRegions(){return this._regions}addCells(e){if(Te(e.first>=0&&e.first<this._numCells&&e.last>=-1&&e.last<this._numCells&&e.last>=e.first-1,"CellRenderMask.addCells called with invalid cell range"),!(e.last<e.first)){var t=this._findRegion(e.first),r=t[0],a=t[1],o=this._findRegion(e.last),u=o[0],c=o[1];if(!(a===c&&!r.isSpacer)){var h=[],f=[],g=Ee(Ee({},e),{},{isSpacer:!1});r.first<g.first&&(r.isSpacer?h.push({first:r.first,last:g.first-1,isSpacer:!0}):g.first=r.first),u.last>g.last&&(u.isSpacer?f.push({first:g.last+1,last:u.last,isSpacer:!0}):g.last=u.last);var y=[...h,g,...f],_=c-a+1;this._regions.splice(a,_,...y)}}}numCells(){return this._numCells}equals(e){return this._numCells===e._numCells&&this._regions.length===e._regions.length&&this._regions.every((t,r)=>t.first===e._regions[r].first&&t.last===e._regions[r].last&&t.isSpacer===e._regions[r].isSpacer)}_findRegion(e){for(var t=0,r=this._regions.length-1;t<=r;){var a=Math.floor((t+r)/2),o=this._regions[a];if(e>=o.first&&e<=o.last)return[o,a];e<o.first?r=a-1:e>o.last&&(t=a+1)}Te(!1,"A region was not found containing cellIdx "+e)}}class IV{constructor(){this._cellKeyToChildren=new Map,this._childrenToCellKey=new Map}add(e,t){var r;Te(!this._childrenToCellKey.has(e),"Trying to add already present child list");var a=(r=this._cellKeyToChildren.get(t))!==null&&r!==void 0?r:new Set;a.add(e),this._cellKeyToChildren.set(t,a),this._childrenToCellKey.set(e,t)}remove(e){var t=this._childrenToCellKey.get(e);Te(t!=null,"Trying to remove non-present child list"),this._childrenToCellKey.delete(e);var r=this._cellKeyToChildren.get(t);Te(r,"_cellKeyToChildren should contain cellKey"),r.delete(e),r.size===0&&this._cellKeyToChildren.delete(t)}forEach(e){for(var t=xa(this._cellKeyToChildren.values()),r;!(r=t()).done;)for(var a=r.value,o=xa(a),u;!(u=o()).done;){var c=u.value;e(c)}}forEachInCell(e,t){for(var r,a=(r=this._cellKeyToChildren.get(e))!==null&&r!==void 0?r:[],o=xa(a),u;!(u=o()).done;){var c=u.value;t(c)}}anyInCell(e,t){for(var r,a=(r=this._cellKeyToChildren.get(e))!==null&&r!==void 0?r:[],o=xa(a),u;!(u=o()).done;){var c=u.value;if(t(c))return!0}return!1}size(){return this._childrenToCellKey.size}}class Dx{constructor(){this.any_blank_count=0,this.any_blank_ms=0,this.any_blank_speed_sum=0,this.mostly_blank_count=0,this.mostly_blank_ms=0,this.pixels_blank=0,this.pixels_sampled=0,this.pixels_scrolled=0,this.total_time_spent=0,this.sample_count=0}}var jf=[],Nx=10,rv=null;class kV{static addListener(e){return rv===null&&console.warn("Call `FillRateHelper.setSampleRate` before `addListener`."),jf.push(e),{remove:()=>{jf=jf.filter(t=>e!==t)}}}static setSampleRate(e){rv=e}static setMinSampleCount(e){Nx=e}constructor(e){this._anyBlankStartTime=null,this._enabled=!1,this._info=new Dx,this._mostlyBlankStartTime=null,this._samplesStartTime=null,this._getFrameMetrics=e,this._enabled=(rv||0)>Math.random(),this._resetData()}activate(){this._enabled&&this._samplesStartTime==null&&(this._samplesStartTime=global.performance.now())}deactivateAndFlush(){if(this._enabled){var e=this._samplesStartTime;if(e!=null){if(this._info.sample_count<Nx){this._resetData();return}var t=global.performance.now()-e,r=Ee(Ee({},this._info),{},{total_time_spent:t});jf.forEach(a=>a(r)),this._resetData()}}}computeBlankness(e,t,r){if(!this._enabled||e.getItemCount(e.data)===0||t.last<t.first||this._samplesStartTime==null)return 0;var a=r.dOffset,o=r.offset,u=r.velocity,c=r.visibleLength;this._info.sample_count++,this._info.pixels_sampled+=Math.round(c),this._info.pixels_scrolled+=Math.round(Math.abs(a));var h=Math.round(Math.abs(u)*1e3),f=global.performance.now();this._anyBlankStartTime!=null&&(this._info.any_blank_ms+=f-this._anyBlankStartTime),this._anyBlankStartTime=null,this._mostlyBlankStartTime!=null&&(this._info.mostly_blank_ms+=f-this._mostlyBlankStartTime),this._mostlyBlankStartTime=null;for(var g=0,y=t.first,_=this._getFrameMetrics(y,e);y<=t.last&&(!_||!_.inLayout);)_=this._getFrameMetrics(y,e),y++;_&&y>0&&(g=Math.min(c,Math.max(0,_.offset-o)));for(var S=0,T=t.last,x=this._getFrameMetrics(T,e);T>=t.first&&(!x||!x.inLayout);)x=this._getFrameMetrics(T,e),T--;if(x&&T<e.getItemCount(e.data)-1){var C=x.offset+x.length;S=Math.min(c,Math.max(0,o+c-C))}var I=Math.round(g+S),R=I/c;return R>0?(this._anyBlankStartTime=f,this._info.any_blank_speed_sum+=h,this._info.any_blank_count++,this._info.pixels_blank+=I,R>.5&&(this._mostlyBlankStartTime=f,this._info.mostly_blank_count++)):(h<.01||Math.abs(a)<1)&&this.deactivateAndFlush(),R}enabled(){return this._enabled}_resetData(){this._anyBlankStartTime=null,this._info=new Dx,this._mostlyBlankStartTime=null,this._samplesStartTime=null}}class OV extends E.PureComponent{constructor(e){super(e),this._inAsyncStateUpdate=!1,this._installSetStateHooks()}setState(e,t){typeof e=="function"?super.setState((r,a)=>{this._inAsyncStateUpdate=!0;var o;try{o=e(r,a)}catch(u){throw u}finally{this._inAsyncStateUpdate=!1}return o},t):super.setState(e,t)}_installSetStateHooks(){var e=this,t=this.props,r=this.state;Object.defineProperty(this,"props",{get(){return Te(!e._inAsyncStateUpdate,'"this.props" should not be accessed during state updates'),t},set(a){t=a}}),Object.defineProperty(this,"state",{get(){return Te(!e._inAsyncStateUpdate,'"this.state" should not be acceessed during state updates'),r},set(a){r=a}})}}class Mx{constructor(e){e===void 0&&(e={viewAreaCoveragePercentThreshold:0}),this._hasInteracted=!1,this._timers=new Set,this._viewableIndices=[],this._viewableItems=new Map,this._config=e}dispose(){this._timers.forEach(clearTimeout)}computeViewableItems(e,t,r,a,o){var u=e.getItemCount(e.data),c=this._config,h=c.itemVisiblePercentThreshold,f=c.viewAreaCoveragePercentThreshold,g=f!=null,y=g?f:h;Te(y!=null&&h!=null!=(f!=null),"Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold");var _=[];if(u===0)return _;var S=-1,T=o||{first:0,last:u-1},x=T.first,C=T.last;if(C>=u)return console.warn("Invalid render range computing viewability "+JSON.stringify({renderRange:o,itemCount:u})),[];for(var I=x;I<=C;I++){var R=a(I,e);if(R){var O=R.offset-t,z=O+R.length;if(O<r&&z>0)S=I,DV(g,y,O,z,r,R.length)&&_.push(I);else if(S>=0)break}}return _}onUpdate(e,t,r,a,o,u,c){var h=e.getItemCount(e.data);if(!(this._config.waitForInteraction&&!this._hasInteracted||h===0||!a(0,e))){var f=[];if(h&&(f=this.computeViewableItems(e,t,r,a,c)),!(this._viewableIndices.length===f.length&&this._viewableIndices.every((y,_)=>y===f[_])))if(this._viewableIndices=f,this._config.minimumViewTime){var g=setTimeout(()=>{this._timers.delete(g),this._onUpdateSync(e,f,u,o)},this._config.minimumViewTime);this._timers.add(g)}else this._onUpdateSync(e,f,u,o)}}resetViewableIndices(){this._viewableIndices=[]}recordInteraction(){this._hasInteracted=!0}_onUpdateSync(e,t,r,a){t=t.filter(R=>this._viewableIndices.includes(R));for(var o=this._viewableItems,u=new Map(t.map(R=>{var O=a(R,!0,e);return[O.key,O]})),c=[],h=xa(u),f;!(f=h()).done;){var g=f.value,y=g[0],_=g[1];o.has(y)||c.push(_)}for(var S=xa(o),T;!(T=S()).done;){var x=T.value,C=x[0],I=x[1];u.has(C)||c.push(Ee(Ee({},I),{},{isViewable:!1}))}c.length>0&&(this._viewableItems=u,r({viewableItems:Array.from(u.values()),changed:c,viewabilityConfig:this._config}))}}function DV(n,e,t,r,a,o){if(MV(t,r,a))return!0;var u=NV(t,r,a),c=100*(n?u/a:u/o);return c>=e}function NV(n,e,t){var r=Math.min(e,t)-Math.max(n,0);return Math.max(0,r)}function MV(n,e,t){return n>=0&&e<=t&&e>n}var Pm=E.createContext(null);function PV(n){var e=n.children,t=n.value,r=E.useMemo(()=>({cellKey:null,getScrollMetrics:t.getScrollMetrics,horizontal:t.horizontal,getOutermostParentListRef:t.getOutermostParentListRef,registerAsNestedChild:t.registerAsNestedChild,unregisterAsNestedChild:t.unregisterAsNestedChild}),[t.getScrollMetrics,t.horizontal,t.getOutermostParentListRef,t.registerAsNestedChild,t.unregisterAsNestedChild]);return E.createElement(Pm.Provider,{value:r},e)}function cm(n){var e=n.cellKey,t=n.children,r=E.useContext(Pm),a=E.useMemo(()=>r==null?null:Ee(Ee({},r),{},{cellKey:e}),[r,e]);return E.createElement(Pm.Provider,{value:a},t)}class LV extends E.Component{constructor(){super(...arguments),this.state={separatorProps:{highlighted:!1,leadingItem:this.props.item}},this._separators={highlight:()=>{var e=this.props,t=e.cellKey,r=e.prevCellKey;this.props.onUpdateSeparators([t,r],{highlighted:!0})},unhighlight:()=>{var e=this.props,t=e.cellKey,r=e.prevCellKey;this.props.onUpdateSeparators([t,r],{highlighted:!1})},updateProps:(e,t)=>{var r=this.props,a=r.cellKey,o=r.prevCellKey;this.props.onUpdateSeparators([e==="leading"?o:a],t)}},this._onLayout=e=>{this.props.onCellLayout&&this.props.onCellLayout(e,this.props.cellKey,this.props.index)}}static getDerivedStateFromProps(e,t){return{separatorProps:Ee(Ee({},t.separatorProps),{},{leadingItem:e.item})}}updateSeparatorProps(e){this.setState(t=>({separatorProps:Ee(Ee({},t.separatorProps),e)}))}componentWillUnmount(){this.props.onUnmount(this.props.cellKey)}_renderElement(e,t,r,a){if(e&&t&&console.warn("VirtualizedList: Both ListItemComponent and renderItem props are present. ListItemComponent will take precedence over renderItem."),t)return E.createElement(t,{item:r,index:a,separators:this._separators});if(e)return e({item:r,index:a,separators:this._separators});Te(!1,"VirtualizedList: Either ListItemComponent or renderItem props are required but none were found.")}render(){var e=this.props,t=e.CellRendererComponent,r=e.ItemSeparatorComponent,a=e.ListItemComponent,o=e.cellKey,u=e.horizontal,c=e.item,h=e.index,f=e.inversionStyle,g=e.onCellFocusCapture,y=e.onCellLayout,_=e.renderItem,S=this._renderElement(_,a,c,h),T=E.isValidElement(r)?r:r&&E.createElement(r,this.state.separatorProps),x=f?u?[iv.rowReverse,f]:[iv.columnReverse,f]:u?[iv.row,f]:f,C=t?E.createElement(t,Mt({cellKey:o,index:h,item:c,style:x,onFocusCapture:g},y&&{onLayout:this._onLayout}),S,T):E.createElement(W,Mt({style:x,onFocusCapture:g},y&&{onLayout:this._onLayout}),S,T);return E.createElement(cm,{cellKey:this.props.cellKey},C)}}var iv=Ne.create({row:{flexDirection:"row"},rowReverse:{flexDirection:"row-reverse"},columnReverse:{flexDirection:"column-reverse"}});function VV(n,e,t,r){r===void 0&&(r=1);for(var a=e.getItemCount(e.data),o=[],u=0;u<n.length;u++)for(var c=n[u],h=0,f=a-1;h<=f;){var g=h+(f-h>>>1),y=t(g,e),_=y.offset*r,S=(y.offset+y.length)*r;if(g===0&&c<_||g!==0&&c<=_)f=g-1;else if(c>S)h=g+1;else{o[u]=g;break}}return o}function jV(n,e){return e.last-e.first+1-Math.max(0,1+Math.min(e.last,n.last)-Math.max(e.first,n.first))}function BV(n,e,t,r,a,o){var u=n.getItemCount(n.data);if(u===0)return{first:0,last:-1};var c=o.offset,h=o.velocity,f=o.visibleLength,g=o.zoomScale,y=g===void 0?1:g,_=Math.max(0,c),S=_+f,T=(t-1)*f,x=.5,C=h>1?"after":h<-1?"before":"none",I=Math.max(0,_-(1-x)*T),R=Math.max(0,S+x*T),O=a(u-1,n).offset*y;if(O<I)return{first:Math.max(0,u-1-e),last:u-1};var z=VV([I,_,S,R],n,a,y),H=z[0],F=z[1],N=z[2],D=z[3];H=H??0,F=F??Math.max(0,H),D=D??u-1,N=N??Math.min(D,F+e-1);for(var V={first:F,last:N},B=jV(r,V);!(F<=H&&N>=D);){var L=B>=e,q=F<=r.first||F>r.last,M=F>H&&(!L||!q),ue=N>=r.last||N<r.first,me=N<D&&(!L||!ue);if(L&&!M&&!me)break;M&&!(C==="after"&&me&&ue)&&(q&&B++,F--),me&&!(C==="before"&&M&&q)&&(ue&&B++,N++)}if(!(N>=F&&F>=0&&N<u&&F>=H&&N<=D&&F<=V.first&&N>=V.last))throw new Error("Bad window calculation "+JSON.stringify({first:F,last:N,itemCount:u,overscanFirst:H,overscanLast:D,visible:V}));return{first:F,last:N}}function Od(n,e){return typeof n=="object"&&n?.key!=null?n.key:typeof n=="object"&&n?.id!=null?n.id:String(e)}var qc={exports:{}},Px;function zV(){if(Px)return qc.exports;Px=1;function n(e,t){if(e!=null)return e;var r=new Error(t!==void 0?t:"Got unexpected "+e);throw r.framesToPop=1,r}return qc.exports=n,qc.exports.default=n,Object.defineProperty(qc.exports,"__esModule",{value:!0}),qc.exports}var FV=zV();const UV=tr(FV);var Lx=.001,av=!1,sv="";function cl(n){return n??!1}function HV(n){return n??10}function ov(n){return n??10}function WV(n){return n??2}function Vx(n){return n??2}function jx(n,e){return n*e/2}function qV(n){return n??50}function Bx(n){return n??21}function GV(n,e){for(var t=n.length-1;t>=0;t--)if(e(n[t]))return n[t];return null}class si extends OV{scrollToEnd(e){var t=e?e.animated:!0,r=this.props.getItemCount(this.props.data)-1;if(!(r<0)){var a=this.__getFrameMetricsApprox(r,this.props),o=Math.max(0,a.offset+a.length+this._footerLength-this._scrollMetrics.visibleLength);if(this._scrollRef!=null){if(this._scrollRef.scrollTo==null){console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo.");return}this._scrollRef.scrollTo(cl(this.props.horizontal)?{x:o,animated:t}:{y:o,animated:t})}}}scrollToIndex(e){var t=this.props,r=t.data,a=t.horizontal,o=t.getItemCount,u=t.getItemLayout,c=t.onScrollToIndexFailed,h=e.animated,f=e.index,g=e.viewOffset,y=e.viewPosition;if(Te(f>=0,"scrollToIndex out of range: requested index "+f+" but minimum is 0"),Te(o(r)>=1,"scrollToIndex out of range: item length "+o(r)+" but minimum is 1"),Te(f<o(r),"scrollToIndex out of range: requested index "+f+" is out of 0 to "+(o(r)-1)),!u&&f>this._highestMeasuredFrameIndex){Te(!!c,"scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, otherwise there is no way to know the location of offscreen indices or handle failures."),c({averageItemLength:this._averageCellLength,highestMeasuredFrameIndex:this._highestMeasuredFrameIndex,index:f});return}var _=this.__getFrameMetricsApprox(Math.floor(f),this.props),S=Math.max(0,this._getOffsetApprox(f,this.props)-(y||0)*(this._scrollMetrics.visibleLength-_.length))-(g||0);if(this._scrollRef!=null){if(this._scrollRef.scrollTo==null){console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo.");return}this._scrollRef.scrollTo(a?{x:S,animated:h}:{y:S,animated:h})}}scrollToItem(e){for(var t=e.item,r=this.props,a=r.data,o=r.getItem,u=r.getItemCount,c=u(a),h=0;h<c;h++)if(o(a,h)===t){this.scrollToIndex(Ee(Ee({},e),{},{index:h}));break}}scrollToOffset(e){var t=e.animated,r=e.offset;if(this._scrollRef!=null){if(this._scrollRef.scrollTo==null){console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo.");return}this._scrollRef.scrollTo(cl(this.props.horizontal)?{x:r,animated:t}:{y:r,animated:t})}}recordInteraction(){this._nestedChildLists.forEach(e=>{e.recordInteraction()}),this._viewabilityTuples.forEach(e=>{e.viewabilityHelper.recordInteraction()}),this._updateViewableItems(this.props,this.state.cellsAroundViewport)}flashScrollIndicators(){this._scrollRef!=null&&this._scrollRef.flashScrollIndicators()}getScrollResponder(){if(this._scrollRef&&this._scrollRef.getScrollResponder)return this._scrollRef.getScrollResponder()}getScrollableNode(){return this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode():this._scrollRef}getScrollRef(){return this._scrollRef&&this._scrollRef.getScrollRef?this._scrollRef.getScrollRef():this._scrollRef}_getCellKey(){var e;return((e=this.context)==null?void 0:e.cellKey)||"rootList"}hasMore(){return this._hasMore}constructor(e){var t;if(super(e),this._getScrollMetrics=()=>this._scrollMetrics,this._getOutermostParentListRef=()=>this._isNestedWithSameOrientation()?this.context.getOutermostParentListRef():this,this._registerAsNestedChild=c=>{this._nestedChildLists.add(c.ref,c.cellKey),this._hasInteracted&&c.ref.recordInteraction()},this._unregisterAsNestedChild=c=>{this._nestedChildLists.remove(c.ref)},this._onUpdateSeparators=(c,h)=>{c.forEach(f=>{var g=f!=null&&this._cellRefs[f];g&&g.updateSeparatorProps(h)})},this._getSpacerKey=c=>c?"height":"width",this._averageCellLength=0,this._cellRefs={},this._frames={},this._footerLength=0,this._hasTriggeredInitialScrollToIndex=!1,this._hasInteracted=!1,this._hasMore=!1,this._hasWarned={},this._headerLength=0,this._hiPriInProgress=!1,this._highestMeasuredFrameIndex=0,this._indicesToKeys=new Map,this._lastFocusedCellKey=null,this._nestedChildLists=new IV,this._offsetFromParentVirtualizedList=0,this._prevParentOffset=0,this._scrollMetrics={contentLength:0,dOffset:0,dt:10,offset:0,timestamp:0,velocity:0,visibleLength:0,zoomScale:1},this._scrollRef=null,this._sentStartForContentLength=0,this._sentEndForContentLength=0,this._totalCellLength=0,this._totalCellsMeasured=0,this._viewabilityTuples=[],this._captureScrollRef=c=>{this._scrollRef=c},this._defaultRenderScrollComponent=c=>{var h=c.onRefresh;if(this._isNestedWithSameOrientation())return E.createElement(W,c);if(h){var f;return Te(typeof c.refreshing=="boolean","`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `"+JSON.stringify((f=c.refreshing)!==null&&f!==void 0?f:"undefined")+"`"),E.createElement(ci,Mt({},c,{refreshControl:c.refreshControl==null?E.createElement(hg,{refreshing:c.refreshing,onRefresh:h,progressViewOffset:c.progressViewOffset}):c.refreshControl}))}else return E.createElement(ci,c)},this._onCellLayout=(c,h,f)=>{var g=c.nativeEvent.layout,y={offset:this._selectOffset(g),length:this._selectLength(g),index:f,inLayout:!0},_=this._frames[h];!_||y.offset!==_.offset||y.length!==_.length||f!==_.index?(this._totalCellLength+=y.length-(_?_.length:0),this._totalCellsMeasured+=_?0:1,this._averageCellLength=this._totalCellLength/this._totalCellsMeasured,this._frames[h]=y,this._highestMeasuredFrameIndex=Math.max(this._highestMeasuredFrameIndex,f),this._scheduleCellsToRenderUpdate()):this._frames[h].inLayout=!0,this._triggerRemeasureForChildListsInCell(h),this._computeBlankness(),this._updateViewableItems(this.props,this.state.cellsAroundViewport)},this._onCellUnmount=c=>{delete this._cellRefs[c];var h=this._frames[c];h&&(this._frames[c]=Ee(Ee({},h),{},{inLayout:!1}))},this._onLayout=c=>{this._isNestedWithSameOrientation()?this.measureLayoutRelativeToContainingList():this._scrollMetrics.visibleLength=this._selectLength(c.nativeEvent.layout),this.props.onLayout&&this.props.onLayout(c),this._scheduleCellsToRenderUpdate(),this._maybeCallOnEdgeReached()},this._onLayoutEmpty=c=>{this.props.onLayout&&this.props.onLayout(c)},this._onLayoutFooter=c=>{this._triggerRemeasureForChildListsInCell(this._getFooterCellKey()),this._footerLength=this._selectLength(c.nativeEvent.layout)},this._onLayoutHeader=c=>{this._headerLength=this._selectLength(c.nativeEvent.layout)},this._onContentSizeChange=(c,h)=>{c>0&&h>0&&this.props.initialScrollIndex!=null&&this.props.initialScrollIndex>0&&!this._hasTriggeredInitialScrollToIndex&&(this.props.contentOffset==null&&(this.props.initialScrollIndex<this.props.getItemCount(this.props.data)?this.scrollToIndex({animated:!1,index:UV(this.props.initialScrollIndex)}):this.scrollToEnd({animated:!1})),this._hasTriggeredInitialScrollToIndex=!0),this.props.onContentSizeChange&&this.props.onContentSizeChange(c,h),this._scrollMetrics.contentLength=this._selectLength({height:h,width:c}),this._scheduleCellsToRenderUpdate(),this._maybeCallOnEdgeReached()},this._convertParentScrollMetrics=c=>{var h=c.offset-this._offsetFromParentVirtualizedList,f=c.visibleLength,g=h-this._scrollMetrics.offset,y=this._scrollMetrics.contentLength;return{visibleLength:f,contentLength:y,offset:h,dOffset:g}},this._onScroll=c=>{this._nestedChildLists.forEach(I=>{I._onScroll(c)}),this.props.onScroll&&this.props.onScroll(c);var h=c.timeStamp,f=this._selectLength(c.nativeEvent.layoutMeasurement),g=this._selectLength(c.nativeEvent.contentSize),y=this._selectOffset(c.nativeEvent.contentOffset),_=y-this._scrollMetrics.offset;if(this._isNestedWithSameOrientation()){if(this._scrollMetrics.contentLength===0)return;var S=this._convertParentScrollMetrics({visibleLength:f,offset:y});f=S.visibleLength,g=S.contentLength,y=S.offset,_=S.dOffset}var T=this._scrollMetrics.timestamp?Math.max(1,h-this._scrollMetrics.timestamp):1,x=_/T;T>500&&this._scrollMetrics.dt>500&&g>5*f&&!this._hasWarned.perf&&(RV("VirtualizedList: You have a large list that is slow to update - make sure your renderItem function renders components that follow React performance best practices like PureComponent, shouldComponentUpdate, etc.",{dt:T,prevDt:this._scrollMetrics.dt,contentLength:g}),this._hasWarned.perf=!0);var C=c.nativeEvent.zoomScale<0?1:c.nativeEvent.zoomScale;this._scrollMetrics={contentLength:g,dt:T,dOffset:_,offset:y,timestamp:h,velocity:x,visibleLength:f,zoomScale:C},this._updateViewableItems(this.props,this.state.cellsAroundViewport),this.props&&(this._maybeCallOnEdgeReached(),x!==0&&this._fillRateHelper.activate(),this._computeBlankness(),this._scheduleCellsToRenderUpdate())},this._onScrollBeginDrag=c=>{this._nestedChildLists.forEach(h=>{h._onScrollBeginDrag(c)}),this._viewabilityTuples.forEach(h=>{h.viewabilityHelper.recordInteraction()}),this._hasInteracted=!0,this.props.onScrollBeginDrag&&this.props.onScrollBeginDrag(c)},this._onScrollEndDrag=c=>{this._nestedChildLists.forEach(f=>{f._onScrollEndDrag(c)});var h=c.nativeEvent.velocity;h&&(this._scrollMetrics.velocity=this._selectOffset(h)),this._computeBlankness(),this.props.onScrollEndDrag&&this.props.onScrollEndDrag(c)},this._onMomentumScrollBegin=c=>{this._nestedChildLists.forEach(h=>{h._onMomentumScrollBegin(c)}),this.props.onMomentumScrollBegin&&this.props.onMomentumScrollBegin(c)},this._onMomentumScrollEnd=c=>{this._nestedChildLists.forEach(h=>{h._onMomentumScrollEnd(c)}),this._scrollMetrics.velocity=0,this._computeBlankness(),this.props.onMomentumScrollEnd&&this.props.onMomentumScrollEnd(c)},this._updateCellsToRender=()=>{this._updateViewableItems(this.props,this.state.cellsAroundViewport),this.setState((c,h)=>{var f=this._adjustCellsAroundViewport(h,c.cellsAroundViewport),g=si._createRenderMask(h,f,this._getNonViewportRenderRegions(h));return f.first===c.cellsAroundViewport.first&&f.last===c.cellsAroundViewport.last&&g.equals(c.renderMask)?null:{cellsAroundViewport:f,renderMask:g}})},this._createViewToken=(c,h,f)=>{var g=f.data,y=f.getItem,_=y(g,c);return{index:c,item:_,key:this._keyExtractor(_,c,f),isViewable:h}},this._getOffsetApprox=(c,h)=>{if(Number.isInteger(c))return this.__getFrameMetricsApprox(c,h).offset;var f=this.__getFrameMetricsApprox(Math.floor(c),h),g=c-Math.floor(c);return f.offset+g*f.length},this.__getFrameMetricsApprox=(c,h)=>{var f=this._getFrameMetrics(c,h);if(f&&f.index===c)return f;var g=h.data,y=h.getItemCount,_=h.getItemLayout;return Te(c>=0&&c<y(g),"Tried to get frame for out of range index "+c),Te(!_,"Should not have to estimate frames when a measurement metrics function is provided"),{length:this._averageCellLength,offset:this._averageCellLength*c}},this._getFrameMetrics=(c,h)=>{var f=h.data,g=h.getItem,y=h.getItemCount,_=h.getItemLayout;Te(c>=0&&c<y(f),"Tried to get frame for out of range index "+c);var S=g(f,c),T=this._frames[this._keyExtractor(S,c,h)];return(!T||T.index!==c)&&_?_(f,c):T},this._getNonViewportRenderRegions=c=>{if(!(this._lastFocusedCellKey&&this._cellRefs[this._lastFocusedCellKey]))return[];var h=this._cellRefs[this._lastFocusedCellKey],f=h.props.index,g=c.getItemCount(c.data);if(f>=g||this._keyExtractor(c.getItem(c.data,f),f,c)!==this._lastFocusedCellKey)return[];for(var y=f,_=0,S=y-1;S>=0&&_<this._scrollMetrics.visibleLength;S--)y--,_+=this.__getFrameMetricsApprox(S,c).length;for(var T=f,x=0,C=T+1;C<g&&x<this._scrollMetrics.visibleLength;C++)T++,x+=this.__getFrameMetricsApprox(C,c).length;return[{first:y,last:T}]},this._checkProps(e),this._fillRateHelper=new kV(this._getFrameMetrics),this._updateCellsToRenderBatcher=new CV(this._updateCellsToRender,(t=this.props.updateCellsBatchingPeriod)!==null&&t!==void 0?t:50),this.props.viewabilityConfigCallbackPairs)this._viewabilityTuples=this.props.viewabilityConfigCallbackPairs.map(c=>({viewabilityHelper:new Mx(c.viewabilityConfig),onViewableItemsChanged:c.onViewableItemsChanged}));else{var r=this.props,a=r.onViewableItemsChanged,o=r.viewabilityConfig;a&&this._viewabilityTuples.push({viewabilityHelper:new Mx(o),onViewableItemsChanged:a})}var u=si._initialRenderRegion(e);this.state={cellsAroundViewport:u,renderMask:si._createRenderMask(e,u)},this.invertedWheelEventHandler=c=>{var h=this.props.horizontal?c.target.scrollLeft:c.target.scrollTop,f=this.props.horizontal?c.target.scrollWidth:c.target.scrollHeight,g=this.props.horizontal?c.target.clientWidth:c.target.clientHeight,y=f>g,_=this.props.horizontal?c.deltaX||c.wheelDeltaX:c.deltaY||c.wheelDeltaY,S=_;y&&(S=_<0?Math.min(_+h,0):Math.max(_-(f-g-h),0));var T=_-S;if(this.props.inverted&&this._scrollRef&&this._scrollRef.getScrollableNode){var x=this._scrollRef.getScrollableNode();if(this.props.horizontal){c.target.scrollLeft+=T;var C=x.scrollLeft-S;x.scrollLeft=this.props.getItemLayout?C:Math.min(C,this._totalCellLength)}else{c.target.scrollTop+=T;var I=x.scrollTop-S;x.scrollTop=this.props.getItemLayout?I:Math.min(I,this._totalCellLength)}c.preventDefault()}}}_checkProps(e){var t=e.onScroll,r=e.windowSize,a=e.getItemCount,o=e.data,u=e.initialScrollIndex;Te(!t||!t.__isNative,"Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent to support native onScroll events with useNativeDriver"),Te(Bx(r)>0,"VirtualizedList: The windowSize prop must be present and set to a value greater than 0."),Te(a,'VirtualizedList: The "getItemCount" prop must be provided');var c=a(o);u!=null&&!this._hasTriggeredInitialScrollToIndex&&(u<0||c>0&&u>=c)&&!this._hasWarned.initialScrollIndex&&(console.warn('initialScrollIndex "'+u+'" is not valid (list has '+c+" items)"),this._hasWarned.initialScrollIndex=!0)}static _createRenderMask(e,t,r){var a=e.getItemCount(e.data);Te(t.first>=0&&t.last>=t.first-1&&t.last<a,'Invalid cells around viewport "['+t.first+", "+t.last+']" was passed to VirtualizedList._createRenderMask');var o=new AV(a);if(a>0){for(var u=[t,...r??[]],c=0,h=u;c<h.length;c++){var f=h[c];o.addCells(f)}if(e.initialScrollIndex==null||e.initialScrollIndex<=0){var g=si._initialRenderRegion(e);o.addCells(g)}var y=new Set(e.stickyHeaderIndices);si._ensureClosestStickyHeader(e,y,o,t.first)}return o}static _initialRenderRegion(e){var t,r=e.getItemCount(e.data),a=Math.max(0,Math.min(r-1,Math.floor((t=e.initialScrollIndex)!==null&&t!==void 0?t:0))),o=Math.min(r,a+HV(e.initialNumToRender))-1;return{first:a,last:o}}static _ensureClosestStickyHeader(e,t,r,a){for(var o=e.ListHeaderComponent?1:0,u=a-1;u>=0;u--)if(t.has(u+o)){r.addCells({first:u,last:u});break}}_adjustCellsAroundViewport(e,t){var r=e.data,a=e.getItemCount,o=Vx(e.onEndReachedThreshold),u=this._scrollMetrics,c=u.contentLength,h=u.offset,f=u.visibleLength,g=c-f-h;if(f<=0||c<=0)return t.last>=a(r)?si._constrainToItemCount(t,e):t;var y;if(e.disableVirtualization){var _=g<o*f?ov(e.maxToRenderPerBatch):0;y={first:0,last:Math.min(t.last+_,a(r)-1)}}else{if(e.initialScrollIndex&&!this._scrollMetrics.offset&&Math.abs(g)>=Number.EPSILON)return t.last>=a(r)?si._constrainToItemCount(t,e):t;y=BV(e,ov(e.maxToRenderPerBatch),Bx(e.windowSize),t,this.__getFrameMetricsApprox,this._scrollMetrics),Te(y.last<a(r),"computeWindowedRenderLimits() should return range in-bounds")}if(this._nestedChildLists.size()>0){var S=this._findFirstChildWithMore(y.first,y.last);y.last=S??y.last}return y}_findFirstChildWithMore(e,t){for(var r=e;r<=t;r++){var a=this._indicesToKeys.get(r);if(a!=null&&this._nestedChildLists.anyInCell(a,o=>o.hasMore()))return r}return null}componentDidMount(){this._isNestedWithSameOrientation()&&this.context.registerAsNestedChild({ref:this,cellKey:this.context.cellKey}),this.setupWebWheelHandler()}componentWillUnmount(){this._isNestedWithSameOrientation()&&this.context.unregisterAsNestedChild({ref:this}),this._updateCellsToRenderBatcher.dispose({abort:!0}),this._viewabilityTuples.forEach(e=>{e.viewabilityHelper.dispose()}),this._fillRateHelper.deactivateAndFlush(),this.teardownWebWheelHandler()}setupWebWheelHandler(){if(this._scrollRef&&this._scrollRef.getScrollableNode)this._scrollRef.getScrollableNode().addEventListener("wheel",this.invertedWheelEventHandler);else{setTimeout(()=>this.setupWebWheelHandler(),50);return}}teardownWebWheelHandler(){this._scrollRef&&this._scrollRef.getScrollableNode&&this._scrollRef.getScrollableNode().removeEventListener("wheel",this.invertedWheelEventHandler)}static getDerivedStateFromProps(e,t){var r=e.getItemCount(e.data);if(r===t.renderMask.numCells())return t;var a=si._constrainToItemCount(t.cellsAroundViewport,e);return{cellsAroundViewport:a,renderMask:si._createRenderMask(e,a)}}_pushCells(e,t,r,a,o,u){var c=this,h=this.props,f=h.CellRendererComponent,g=h.ItemSeparatorComponent,y=h.ListHeaderComponent,_=h.ListItemComponent,S=h.data,T=h.debug,x=h.getItem,C=h.getItemCount,I=h.getItemLayout,R=h.horizontal,O=h.renderItem,z=y?1:0,H=C(S)-1,F;o=Math.min(H,o);for(var N=function(){var B=x(S,D),L=c._keyExtractor(B,D,c.props);c._indicesToKeys.set(D,L),r.has(D+z)&&t.push(e.length);var q=I==null||T||c._fillRateHelper.enabled();e.push(E.createElement(LV,Mt({CellRendererComponent:f,ItemSeparatorComponent:D<H?g:void 0,ListItemComponent:_,cellKey:L,horizontal:R,index:D,inversionStyle:u,item:B,key:L,prevCellKey:F,onUpdateSeparators:c._onUpdateSeparators,onCellFocusCapture:M=>c._onCellFocusCapture(L),onUnmount:c._onCellUnmount,ref:M=>{c._cellRefs[L]=M},renderItem:O},q&&{onCellLayout:c._onCellLayout}))),F=L},D=a;D<=o;D++)N()}static _constrainToItemCount(e,t){var r=t.getItemCount(t.data),a=Math.min(r-1,e.last),o=ov(t.maxToRenderPerBatch);return{first:Ox(0,r-1-o,e.first),last:a}}_isNestedWithSameOrientation(){var e=this.context;return!!(e&&!!e.horizontal===cl(this.props.horizontal))}_keyExtractor(e,t,r){if(r.keyExtractor!=null)return r.keyExtractor(e,t);var a=Od(e,t);return a===String(t)&&(av=!0,e.type&&e.type.displayName&&(sv=e.type.displayName)),a}render(){this._checkProps(this.props);var e=this.props,t=e.ListEmptyComponent,r=e.ListFooterComponent,a=e.ListHeaderComponent,o=this.props,u=o.data,c=o.horizontal,h=this.props.inverted?cl(this.props.horizontal)?Gi.horizontallyInverted:Gi.verticallyInverted:null,f=[],g=new Set(this.props.stickyHeaderIndices),y=[];if(a){g.has(0)&&y.push(0);var _=E.isValidElement(a)?a:E.createElement(a,null);f.push(E.createElement(cm,{cellKey:this._getCellKey()+"-header",key:"$header"},E.createElement(W,{onLayout:this._onLayoutHeader,style:[h,this.props.ListHeaderComponentStyle]},_)))}var S=this.props.getItemCount(u);if(S===0&&t){var T=E.isValidElement(t)?t:E.createElement(t,null);f.push(E.createElement(cm,{cellKey:this._getCellKey()+"-empty",key:"$empty"},E.cloneElement(T,{onLayout:me=>{this._onLayoutEmpty(me),T.props.onLayout&&T.props.onLayout(me)},style:[h,T.props.style]})))}if(S>0){av=!1,sv="";for(var x=this._getSpacerKey(!c),C=this.state.renderMask.enumerateRegions(),I=GV(C,me=>me.isSpacer),R=xa(C),O;!(O=R()).done;){var z=O.value;if(z.isSpacer){if(this.props.disableVirtualization)continue;var H=z===I,F=H&&!this.props.getItemLayout,N=F?Ox(z.first-1,z.last,this._highestMeasuredFrameIndex):z.last,D=this.__getFrameMetricsApprox(z.first,this.props),V=this.__getFrameMetricsApprox(N,this.props),B=V.offset+V.length-D.offset;f.push(E.createElement(W,{key:"$spacer-"+z.first,style:{[x]:B}}))}else this._pushCells(f,y,g,z.first,z.last,h)}!this._hasWarned.keys&&av&&(console.warn("VirtualizedList: missing keys for items, make sure to specify a key or id property on each item or provide a custom keyExtractor.",sv),this._hasWarned.keys=!0)}if(r){var L=E.isValidElement(r)?r:E.createElement(r,null);f.push(E.createElement(cm,{cellKey:this._getFooterCellKey(),key:"$footer"},E.createElement(W,{onLayout:this._onLayoutFooter,style:[h,this.props.ListFooterComponentStyle]},L)))}var q=Ee(Ee({},this.props),{},{onContentSizeChange:this._onContentSizeChange,onLayout:this._onLayout,onScroll:this._onScroll,onScrollBeginDrag:this._onScrollBeginDrag,onScrollEndDrag:this._onScrollEndDrag,onMomentumScrollBegin:this._onMomentumScrollBegin,onMomentumScrollEnd:this._onMomentumScrollEnd,scrollEventThrottle:qV(this.props.scrollEventThrottle),invertStickyHeaders:this.props.invertStickyHeaders!==void 0?this.props.invertStickyHeaders:this.props.inverted,stickyHeaderIndices:y,style:h?[h,this.props.style]:this.props.style});this._hasMore=this.state.cellsAroundViewport.last<S-1;var M=E.createElement(PV,{value:{cellKey:null,getScrollMetrics:this._getScrollMetrics,horizontal:cl(this.props.horizontal),getOutermostParentListRef:this._getOutermostParentListRef,registerAsNestedChild:this._registerAsNestedChild,unregisterAsNestedChild:this._unregisterAsNestedChild}},E.cloneElement((this.props.renderScrollComponent||this._defaultRenderScrollComponent)(q),{ref:this._captureScrollRef},f)),ue=M;return this.props.debug?E.createElement(W,{style:Gi.debug},ue,this._renderDebugOverlay()):ue}componentDidUpdate(e){var t=this.props,r=t.data,a=t.extraData;(r!==e.data||a!==e.extraData)&&this._viewabilityTuples.forEach(u=>{u.viewabilityHelper.resetViewableIndices()});var o=this._hiPriInProgress;this._scheduleCellsToRenderUpdate(),o&&(this._hiPriInProgress=!1)}_computeBlankness(){this._fillRateHelper.computeBlankness(this.props,this.state.cellsAroundViewport,this._scrollMetrics)}_onCellFocusCapture(e){this._lastFocusedCellKey=e,this._updateCellsToRender()}_triggerRemeasureForChildListsInCell(e){this._nestedChildLists.forEachInCell(e,t=>{t.measureLayoutRelativeToContainingList()})}measureLayoutRelativeToContainingList(){try{if(!this._scrollRef)return;this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(),(e,t,r,a)=>{this._offsetFromParentVirtualizedList=this._selectOffset({x:e,y:t}),this._scrollMetrics.contentLength=this._selectLength({width:r,height:a});var o=this._convertParentScrollMetrics(this.context.getScrollMetrics()),u=this._scrollMetrics.visibleLength!==o.visibleLength||this._scrollMetrics.offset!==o.offset;u&&(this._scrollMetrics.visibleLength=o.visibleLength,this._scrollMetrics.offset=o.offset,this._nestedChildLists.forEach(c=>{c.measureLayoutRelativeToContainingList()}))},e=>{console.warn("VirtualizedList: Encountered an error while measuring a list's offset from its containing VirtualizedList.")})}catch(e){console.warn("measureLayoutRelativeToContainingList threw an error",e.stack)}}_getFooterCellKey(){return this._getCellKey()+"-footer"}_renderDebugOverlay(){for(var e=this._scrollMetrics.visibleLength/(this._scrollMetrics.contentLength||1),t=[],r=this.props.getItemCount(this.props.data),a=0;a<r;a++){var o=this.__getFrameMetricsApprox(a,this.props);o.inLayout&&t.push(o)}var u=this.__getFrameMetricsApprox(this.state.cellsAroundViewport.first,this.props).offset,c=this.__getFrameMetricsApprox(this.state.cellsAroundViewport.last,this.props),h=c.offset+c.length-u,f=this._scrollMetrics.offset,g=this._scrollMetrics.visibleLength;return E.createElement(W,{style:[Gi.debugOverlayBase,Gi.debugOverlay]},t.map((y,_)=>E.createElement(W,{key:"f"+_,style:[Gi.debugOverlayBase,Gi.debugOverlayFrame,{top:y.offset*e,height:y.length*e}]})),E.createElement(W,{style:[Gi.debugOverlayBase,Gi.debugOverlayFrameLast,{top:u*e,height:h*e}]}),E.createElement(W,{style:[Gi.debugOverlayBase,Gi.debugOverlayFrameVis,{top:f*e,height:g*e}]}))}_selectLength(e){return cl(this.props.horizontal)?e.width:e.height}_selectOffset(e){return cl(this.props.horizontal)?e.x:e.y}_maybeCallOnEdgeReached(){var e=this.props,t=e.data,r=e.getItemCount,a=e.onStartReached,o=e.onStartReachedThreshold,u=e.onEndReached,c=e.onEndReachedThreshold,h=e.initialScrollIndex,f=this._scrollMetrics,g=f.contentLength,y=f.visibleLength,_=f.offset,S=_,T=g-y-_;S<Lx&&(S=0),T<Lx&&(T=0);var x=2,C=o!=null?o*y:x,I=c!=null?c*y:x,R=S<=C,O=T<=I;u&&this.state.cellsAroundViewport.last===r(t)-1&&O&&this._scrollMetrics.contentLength!==this._sentEndForContentLength?(this._sentEndForContentLength=this._scrollMetrics.contentLength,u({distanceFromEnd:T})):a!=null&&this.state.cellsAroundViewport.first===0&&R&&this._scrollMetrics.contentLength!==this._sentStartForContentLength?(!h||this._scrollMetrics.timestamp!==0)&&(this._sentStartForContentLength=this._scrollMetrics.contentLength,a({distanceFromStart:S})):(this._sentStartForContentLength=R?this._sentStartForContentLength:0,this._sentEndForContentLength=O?this._sentEndForContentLength:0)}_scheduleCellsToRenderUpdate(){var e=this.state.cellsAroundViewport,t=e.first,r=e.last,a=this._scrollMetrics,o=a.offset,u=a.visibleLength,c=a.velocity,h=this.props.getItemCount(this.props.data),f=!1,g=WV(this.props.onStartReachedThreshold),y=Vx(this.props.onEndReachedThreshold);if(t>0){var _=o-this.__getFrameMetricsApprox(t,this.props).offset;f=_<0||c<-2&&_<jx(g,u)}if(!f&&r>=0&&r<h-1){var S=this.__getFrameMetricsApprox(r,this.props).offset-(o+u);f=S<0||c>2&&S<jx(y,u)}if(f&&(this._averageCellLength||this.props.getItemLayout)&&!this._hiPriInProgress){this._hiPriInProgress=!0,this._updateCellsToRenderBatcher.dispose({abort:!0}),this._updateCellsToRender();return}else this._updateCellsToRenderBatcher.schedule()}_updateViewableItems(e,t){this._viewabilityTuples.forEach(r=>{r.viewabilityHelper.onUpdate(e,this._scrollMetrics.offset,this._scrollMetrics.visibleLength,this._getFrameMetrics,this._createViewToken,r.onViewableItemsChanged,t)})}}si.contextType=Pm;var Gi=Ne.create({verticallyInverted:{transform:"scaleY(-1)"},horizontallyInverted:{transform:"scaleX(-1)"},debug:{flex:1},debugOverlayBase:{position:"absolute",top:0,right:0},debugOverlay:{bottom:0,width:20,borderColor:"blue",borderWidth:1},debugOverlayFrame:{left:0,backgroundColor:"orange"},debugOverlayFrameLast:{left:0,borderColor:"green",borderWidth:2},debugOverlayFrameVis:{left:0,borderColor:"red",borderWidth:2}}),zx=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function KV(n,e){return!!(n===e||zx(n)&&zx(e))}function $V(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!KV(n[t],e[t]))return!1;return!0}function YV(n,e){e===void 0&&(e=$V);var t=null;function r(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];if(t&&t.lastThis===this&&e(a,t.lastArgs))return t.lastResult;var u=n.apply(this,a);return t={lastResult:u,lastArgs:a,lastThis:this},u}return r.clear=function(){t=null},r}var QV=["numColumns","columnWrapperStyle","removeClippedSubviews","strictMode"];function XV(n){return n??an.OS==="android"}function dl(n){return n??1}function JV(n){return typeof Object(n).length=="number"}let fg=class extends E.PureComponent{scrollToEnd(e){this._listRef&&this._listRef.scrollToEnd(e)}scrollToIndex(e){this._listRef&&this._listRef.scrollToIndex(e)}scrollToItem(e){this._listRef&&this._listRef.scrollToItem(e)}scrollToOffset(e){this._listRef&&this._listRef.scrollToOffset(e)}recordInteraction(){this._listRef&&this._listRef.recordInteraction()}flashScrollIndicators(){this._listRef&&this._listRef.flashScrollIndicators()}getScrollResponder(){if(this._listRef)return this._listRef.getScrollResponder()}getNativeScrollRef(){if(this._listRef)return this._listRef.getScrollRef()}getScrollableNode(){if(this._listRef)return this._listRef.getScrollableNode()}constructor(e){super(e),this._virtualizedListPairs=[],this._captureRef=t=>{this._listRef=t},this._getItem=(t,r)=>{var a=dl(this.props.numColumns);if(a>1){for(var o=[],u=0;u<a;u++){var c=r*a+u;if(c<t.length){var h=t[c];o.push(h)}}return o}else return t[r]},this._getItemCount=t=>{if(t!=null&&JV(t)){var r=dl(this.props.numColumns);return r>1?Math.ceil(t.length/r):t.length}else return 0},this._keyExtractor=(t,r)=>{var a,o=dl(this.props.numColumns),u=(a=this.props.keyExtractor)!==null&&a!==void 0?a:Od;return o>1?(Te(Array.isArray(t),"FlatList: Encountered internal consistency error, expected each item to consist of an array with 1-%s columns; instead, received a single item.",o),t.map((c,h)=>u(c,r*o+h)).join(":")):u(t,r)},this._renderer=(t,r,a,o,u)=>{var c=dl(o),h=g=>t?E.createElement(t,g):r?r(g):null,f=g=>{if(c>1){var y=g.item,_=g.index;return Te(Array.isArray(y),"Expected array of items with numColumns > 1"),E.createElement(W,{style:[ZV.row,a]},y.map((S,T)=>{var x=h({item:S,index:_*c+T,separators:g.separators});return x!=null?E.createElement(E.Fragment,{key:T},x):null}))}else return h(g)};return t?{ListItemComponent:f}:{renderItem:f}},this._memoizedRenderer=YV(this._renderer),this._checkProps(this.props),this.props.viewabilityConfigCallbackPairs?this._virtualizedListPairs=this.props.viewabilityConfigCallbackPairs.map(t=>({viewabilityConfig:t.viewabilityConfig,onViewableItemsChanged:this._createOnViewableItemsChanged(t.onViewableItemsChanged)})):this.props.onViewableItemsChanged&&this._virtualizedListPairs.push({viewabilityConfig:this.props.viewabilityConfig,onViewableItemsChanged:this._createOnViewableItemsChanged(this.props.onViewableItemsChanged)})}componentDidUpdate(e){Te(e.numColumns===this.props.numColumns,"Changing numColumns on the fly is not supported. Change the key prop on FlatList when changing the number of columns to force a fresh render of the component."),Te(e.onViewableItemsChanged===this.props.onViewableItemsChanged,"Changing onViewableItemsChanged on the fly is not supported"),Te(!aV(e.viewabilityConfig,this.props.viewabilityConfig),"Changing viewabilityConfig on the fly is not supported"),Te(e.viewabilityConfigCallbackPairs===this.props.viewabilityConfigCallbackPairs,"Changing viewabilityConfigCallbackPairs on the fly is not supported"),this._checkProps(this.props)}_checkProps(e){var t=e.getItem,r=e.getItemCount,a=e.horizontal,o=e.columnWrapperStyle,u=e.onViewableItemsChanged,c=e.viewabilityConfigCallbackPairs,h=dl(this.props.numColumns);Te(!t&&!r,"FlatList does not support custom data formats."),h>1?Te(!a,"numColumns does not support horizontal."):Te(!o,"columnWrapperStyle not supported for single column lists"),Te(!(u&&c),"FlatList does not support setting both onViewableItemsChanged and viewabilityConfigCallbackPairs.")}_pushMultiColumnViewable(e,t){var r,a=dl(this.props.numColumns),o=(r=this.props.keyExtractor)!==null&&r!==void 0?r:Od;t.item.forEach((u,c)=>{Te(t.index!=null,"Missing index!");var h=t.index*a+c;e.push(Ee(Ee({},t),{},{item:u,key:o(u,h),index:h}))})}_createOnViewableItemsChanged(e){return t=>{var r=dl(this.props.numColumns);if(e)if(r>1){var a=[],o=[];t.viewableItems.forEach(u=>this._pushMultiColumnViewable(o,u)),t.changed.forEach(u=>this._pushMultiColumnViewable(a,u)),e({viewableItems:o,changed:a})}else e(t)}}render(){var e=this.props,t=e.numColumns,r=e.columnWrapperStyle,a=e.removeClippedSubviews,o=e.strictMode,u=o===void 0?!1:o,c=An(e,QV),h=u?this._memoizedRenderer:this._renderer;return E.createElement(si,Mt({},c,{getItem:this._getItem,getItemCount:this._getItemCount,keyExtractor:this._keyExtractor,ref:this._captureRef,viewabilityConfigCallbackPairs:this._virtualizedListPairs,removeClippedSubviews:XV(a)},h(this.props.ListItemComponent,this.props.renderItem,r,t,this.props.extraData)))}};var ZV=Ne.create({row:{flexDirection:"row"}});function ej(n){return null}const tj=ej(),Gc=new W0;class nj{constructor(e){}addListener(e,t,r){var a;(a=this._nativeModule)==null||a.addListener(e);var o=Gc.addListener(e,t,r);return{remove:()=>{if(o!=null){var u;(u=this._nativeModule)==null||u.removeListeners(1),o.remove(),o=null}}}}removeListener(e,t){var r;(r=this._nativeModule)==null||r.removeListeners(1),Gc.removeListener(e,t)}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];Gc.emit(e,...r)}removeAllListeners(e){var t;Te(e!=null,"`NativeEventEmitter.removeAllListener()` requires a non-null argument."),(t=this._nativeModule)==null||t.removeListeners(this.listenerCount(e)),Gc.removeAllListeners(e)}listenerCount(e){return Gc.listenerCount(e)}}var q0=tj,rj=1,ij=1,lv,uv=new Set,cv=!1,Fx=[],tt=q0,Sn={getValue:function(e,t){Te(tt,"Native animated module is not available"),Sn.queueOperation(tt.getValue,e,t)},setWaitingForIdentifier:function(e){uv.add(e),cv=!0},unsetWaitingForIdentifier:function(e){uv.delete(e),uv.size===0&&(cv=!1,Sn.disableQueue())},disableQueue:function(){Te(tt,"Native animated module is not available")},flushQueue:function(){},queueOperation:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];cv||Fx.length!==0?Fx.push(()=>e(...r)):e(...r)},createAnimatedNode:function(e,t){Te(tt,"Native animated module is not available"),Sn.queueOperation(tt.createAnimatedNode,e,t)},updateAnimatedNodeConfig:function(e,t){Te(tt,"Native animated module is not available")},startListeningToAnimatedNodeValue:function(e){Te(tt,"Native animated module is not available"),Sn.queueOperation(tt.startListeningToAnimatedNodeValue,e)},stopListeningToAnimatedNodeValue:function(e){Te(tt,"Native animated module is not available"),Sn.queueOperation(tt.stopListeningToAnimatedNodeValue,e)},connectAnimatedNodes:function(e,t){Te(tt,"Native animated module is not available"),Sn.queueOperation(tt.connectAnimatedNodes,e,t)},disconnectAnimatedNodes:function(e,t){Te(tt,"Native animated module is not available"),Sn.queueOperation(tt.disconnectAnimatedNodes,e,t)},startAnimatingNode:function(e,t,r,a){Te(tt,"Native animated module is not available"),Sn.queueOperation(tt.startAnimatingNode,e,t,r,a)},stopAnimation:function(e){Te(tt,"Native animated module is not available"),Sn.queueOperation(tt.stopAnimation,e)},setAnimatedNodeValue:function(e,t){Te(tt,"Native animated module is not available"),Sn.queueOperation(tt.setAnimatedNodeValue,e,t)},setAnimatedNodeOffset:function(e,t){Te(tt,"Native animated module is not available"),Sn.queueOperation(tt.setAnimatedNodeOffset,e,t)},flattenAnimatedNodeOffset:function(e){Te(tt,"Native animated module is not available"),Sn.queueOperation(tt.flattenAnimatedNodeOffset,e)},extractAnimatedNodeOffset:function(e){Te(tt,"Native animated module is not available"),Sn.queueOperation(tt.extractAnimatedNodeOffset,e)},connectAnimatedNodeToView:function(e,t){Te(tt,"Native animated module is not available"),Sn.queueOperation(tt.connectAnimatedNodeToView,e,t)},disconnectAnimatedNodeFromView:function(e,t){Te(tt,"Native animated module is not available"),Sn.queueOperation(tt.disconnectAnimatedNodeFromView,e,t)},restoreDefaultValues:function(e){Te(tt,"Native animated module is not available"),tt.restoreDefaultValues!=null&&Sn.queueOperation(tt.restoreDefaultValues,e)},dropAnimatedNode:function(e){Te(tt,"Native animated module is not available"),Sn.queueOperation(tt.dropAnimatedNode,e)},addAnimatedEventToView:function(e,t,r){Te(tt,"Native animated module is not available"),Sn.queueOperation(tt.addAnimatedEventToView,e,t,r)},removeAnimatedEventFromView(n,e,t){Te(tt,"Native animated module is not available"),Sn.queueOperation(tt.removeAnimatedEventFromView,n,e,t)}},OA={backgroundColor:!0,borderBottomColor:!0,borderColor:!0,borderEndColor:!0,borderLeftColor:!0,borderRightColor:!0,borderStartColor:!0,borderTopColor:!0,color:!0,tintColor:!0},DA=Ee(Ee({},OA),{},{borderBottomEndRadius:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,borderBottomStartRadius:!0,borderRadius:!0,borderTopEndRadius:!0,borderTopLeftRadius:!0,borderTopRightRadius:!0,borderTopStartRadius:!0,elevation:!0,opacity:!0,transform:!0,zIndex:!0,shadowOpacity:!0,shadowRadius:!0,scaleX:!0,scaleY:!0,translateX:!0,translateY:!0}),NA={translateX:!0,translateY:!0,scale:!0,scaleX:!0,scaleY:!0,rotate:!0,rotateX:!0,rotateY:!0,rotateZ:!0,perspective:!0},MA={inputRange:!0,outputRange:!0,extrapolate:!0,extrapolateRight:!0,extrapolateLeft:!0};function aj(n){DA[n]=!0}function sj(n){NA[n]=!0}function oj(n){MA[n]=!0}function lj(n){return OA.hasOwnProperty(n)}function PA(n){return DA.hasOwnProperty(n)}function LA(n){return NA.hasOwnProperty(n)}function VA(n){return MA.hasOwnProperty(n)}function uj(n){n.forEach(e=>{if(!LA(e.property))throw new Error("Property '"+e.property+"' is not supported by native animated module")})}function cj(n){for(var e in n)if(!PA(e))throw new Error("Style property '"+e+"' is not supported by native animated module")}function dj(n){for(var e in n)if(!VA(e))throw new Error("Interpolation property '"+e+"' is not supported by native animated module")}function hj(){return rj++}function jA(){return ij++}function fj(){Te(q0,"Native animated module is not available")}var Ux=!1;function qu(n){return n.useNativeDriver==null&&console.warn("Animated: `useNativeDriver` was not specified. This is a required option and must be explicitly set to `true` or `false`"),n.useNativeDriver===!0&&!q0?(Ux||(console.warn("Animated: `useNativeDriver` is not supported because the native animated module is missing. Falling back to JS-based animation. To resolve this, add `RCTAnimation` module to this app, or remove `useNativeDriver`. Make sure to run `bundle exec pod install` first. Read more about autolinking: https://github.com/react-native-community/cli/blob/master/docs/autolinking.md"),Ux=!0),!1):n.useNativeDriver||!1}function mj(n){if(typeof n!="string")return n;if(/deg$/.test(n)){var e=parseFloat(n)||0,t=e*Math.PI/180;return t}else return n}const Wt={API:Sn,isSupportedColorStyleProp:lj,isSupportedStyleProp:PA,isSupportedTransformProp:LA,isSupportedInterpolationParam:VA,addWhitelistedStyleProp:aj,addWhitelistedTransformProp:sj,addWhitelistedInterpolationParam:oj,validateStyles:cj,validateTransform:uj,validateInterpolation:dj,generateNewNodeTag:hj,generateNewAnimationId:jA,assertNativeAnimatedModule:fj,shouldUseNativeDriver:qu,transformDataType:mj,get nativeEventEmitter(){return lv||(lv=new nj(null)),lv}};var Hx=Wt.API,gj=1;class jt{__attach(){}__detach(){this.__isNative&&this.__nativeTag!=null&&(Wt.API.dropAnimatedNode(this.__nativeTag),this.__nativeTag=void 0)}__getValue(){}__getAnimatedValue(){return this.__getValue()}__addChild(e){}__removeChild(e){}__getChildren(){return[]}constructor(){this._listeners={}}__makeNative(e){if(!this.__isNative)throw new Error('This node cannot be made a "native" animated node');this._platformConfig=e,this.hasListeners()&&this._startListeningToNativeValueUpdates()}addListener(e){var t=String(gj++);return this._listeners[t]=e,this.__isNative&&this._startListeningToNativeValueUpdates(),t}removeListener(e){delete this._listeners[e],this.__isNative&&!this.hasListeners()&&this._stopListeningForNativeValueUpdates()}removeAllListeners(){this._listeners={},this.__isNative&&this._stopListeningForNativeValueUpdates()}hasListeners(){return!!Object.keys(this._listeners).length}_startListeningToNativeValueUpdates(){this.__nativeAnimatedValueListener&&!this.__shouldUpdateListenersForNewNativeTag||(this.__shouldUpdateListenersForNewNativeTag&&(this.__shouldUpdateListenersForNewNativeTag=!1,this._stopListeningForNativeValueUpdates()),Hx.startListeningToAnimatedNodeValue(this.__getNativeTag()),this.__nativeAnimatedValueListener=Wt.nativeEventEmitter.addListener("onAnimatedValueUpdate",e=>{e.tag===this.__getNativeTag()&&this.__onAnimatedValueUpdateReceived(e.value)}))}__onAnimatedValueUpdateReceived(e){this.__callListeners(e)}__callListeners(e){for(var t in this._listeners)this._listeners[t]({value:e})}_stopListeningForNativeValueUpdates(){this.__nativeAnimatedValueListener&&(this.__nativeAnimatedValueListener.remove(),this.__nativeAnimatedValueListener=null,Hx.stopListeningToAnimatedNodeValue(this.__getNativeTag()))}__getNativeTag(){var e;Wt.assertNativeAnimatedModule(),Te(this.__isNative,'Attempt to get native tag from node not marked as "native"');var t=(e=this.__nativeTag)!==null&&e!==void 0?e:Wt.generateNewNodeTag();if(this.__nativeTag==null){this.__nativeTag=t;var r=this.__getNativeConfig();this._platformConfig&&(r.platformConfig=this._platformConfig),Wt.API.createAnimatedNode(t,r),this.__shouldUpdateListenersForNewNativeTag=!0}return t}__getNativeConfig(){throw new Error("This JS animated node type cannot be used as native animated node")}toJSON(){return this.__getValue()}__getPlatformConfig(){return this._platformConfig}__setPlatformConfig(e){this._platformConfig=e}}class Ii extends jt{constructor(){super(),this._children=[]}__makeNative(e){if(!this.__isNative){this.__isNative=!0;for(var t=xa(this._children),r;!(r=t()).done;){var a=r.value;a.__makeNative(e),Wt.API.connectAnimatedNodes(this.__getNativeTag(),a.__getNativeTag())}}super.__makeNative(e)}__addChild(e){this._children.length===0&&this.__attach(),this._children.push(e),this.__isNative&&(e.__makeNative(this.__getPlatformConfig()),Wt.API.connectAnimatedNodes(this.__getNativeTag(),e.__getNativeTag()))}__removeChild(e){var t=this._children.indexOf(e);if(t===-1){console.warn("Trying to remove a child that doesn't exist");return}this.__isNative&&e.__isNative&&Wt.API.disconnectAnimatedNodes(this.__getNativeTag(),e.__getNativeTag()),this._children.splice(t,1),this._children.length===0&&this.__detach()}__getChildren(){return this._children}__callListeners(e){if(super.__callListeners(e),!this.__isNative)for(var t=xa(this._children),r;!(r=t()).done;){var a=r.value;a.__getValue&&a.__callListeners(a.__getValue())}}}var pj=n=>n;function G0(n){if(n.outputRange&&typeof n.outputRange[0]=="string")return _j(n);var e=n.outputRange,t=n.inputRange,r=n.easing||pj,a="extend";n.extrapolateLeft!==void 0?a=n.extrapolateLeft:n.extrapolate!==void 0&&(a=n.extrapolate);var o="extend";return n.extrapolateRight!==void 0?o=n.extrapolateRight:n.extrapolate!==void 0&&(o=n.extrapolate),u=>{Te(typeof u=="number","Cannot interpolation an input which is not a number");var c=Tj(u,t);return yj(u,t[c],t[c+1],e[c],e[c+1],r,a,o)}}function yj(n,e,t,r,a,o,u,c){var h=n;if(h<e){if(u==="identity")return h;u==="clamp"&&(h=e)}if(h>t){if(c==="identity")return h;c==="clamp"&&(h=t)}return r===a?r:e===t?n<=e?r:a:(e===-1/0?h=-h:t===1/0?h=h-e:h=(h-e)/(t-e),h=o(h),r===-1/0?h=-h:a===1/0?h=h+r:h=h*(a-r)+r,h)}function vj(n){var e=C0(n);if(e===null||typeof e!="number")return n;e=e||0;var t=(e&4278190080)>>>24,r=(e&16711680)>>>16,a=(e&65280)>>>8,o=(e&255)/255;return"rgba("+t+", "+r+", "+a+", "+o+")"}var Cu=/[+-]?(?:\d+\.?\d*|\.\d+)(?:[eE][+-]?\d+)?/g;function _j(n){var e=n.outputRange;Te(e.length>=2,"Bad output range"),e=e.map(vj),Sj(e);var t=e[0].match(Cu).map(()=>[]);e.forEach(o=>{o.match(Cu).forEach((u,c)=>{t[c].push(+u)})});var r=e[0].match(Cu).map((o,u)=>G0(Ee(Ee({},n),{},{outputRange:t[u]}))),a=bj(e[0]);return o=>{var u=0;return e[0].replace(Cu,()=>{var c=+r[u++](o);return a&&(c=u<4?Math.round(c):Math.round(c*1e3)/1e3),String(c)})}}function bj(n){return typeof n=="string"&&n.startsWith("rgb")}function Sj(n){for(var e=n[0].replace(Cu,""),t=1;t<n.length;++t)Te(e===n[t].replace(Cu,""),"invalid pattern "+n[0]+" and "+n[t])}function Tj(n,e){var t;for(t=1;t<e.length-1&&!(e[t]>=n);++t);return t-1}class ki extends Ii{constructor(e,t){super(),this._parent=e,this._config=t,this._interpolation=G0(t)}__makeNative(e){this._parent.__makeNative(e),super.__makeNative(e)}__getValue(){var e=this._parent.__getValue();return Te(typeof e=="number","Cannot interpolate an input which is not a number."),this._interpolation(e)}interpolate(e){return new ki(this,e)}__attach(){this._parent.__addChild(this)}__detach(){this._parent.__removeChild(this),super.__detach()}__transformDataType(e){return e.map(Wt.transformDataType)}__getNativeConfig(){return{inputRange:this._config.inputRange,outputRange:this.__transformDataType(this._config.outputRange),extrapolateLeft:this._config.extrapolateLeft||this._config.extrapolate||"extend",extrapolateRight:this._config.extrapolateRight||this._config.extrapolate||"extend",type:"interpolation"}}}ki.__createInterpolation=G0;var ss=Wt.API;function Ej(n){var e=new Set;function t(r){typeof r.update=="function"?e.add(r):r.__getChildren().forEach(t)}t(n),e.forEach(r=>r.update())}function wj(n,e){ss.setWaitingForIdentifier(n),e(),ss.unsetWaitingForIdentifier(n)}class qt extends Ii{constructor(e,t){if(super(),typeof e!="number")throw new Error("AnimatedValue: Attempting to set value to undefined");this._startingValue=this._value=e,this._offset=0,this._animation=null,t&&t.useNativeDriver&&this.__makeNative()}__detach(){this.__isNative&&ss.getValue(this.__getNativeTag(),e=>{this._value=e-this._offset}),this.stopAnimation(),super.__detach()}__getValue(){return this._value+this._offset}setValue(e){this._animation&&(this._animation.stop(),this._animation=null),this._updateValue(e,!this.__isNative),this.__isNative&&wj(this.__getNativeTag().toString(),()=>ss.setAnimatedNodeValue(this.__getNativeTag(),e))}setOffset(e){this._offset=e,this.__isNative&&ss.setAnimatedNodeOffset(this.__getNativeTag(),e)}flattenOffset(){this._value+=this._offset,this._offset=0,this.__isNative&&ss.flattenAnimatedNodeOffset(this.__getNativeTag())}extractOffset(){this._offset+=this._value,this._value=0,this.__isNative&&ss.extractAnimatedNodeOffset(this.__getNativeTag())}stopAnimation(e){this.stopTracking(),this._animation&&this._animation.stop(),this._animation=null,e&&(this.__isNative?ss.getValue(this.__getNativeTag(),e):e(this.__getValue()))}resetAnimation(e){this.stopAnimation(e),this._value=this._startingValue,this.__isNative&&ss.setAnimatedNodeValue(this.__getNativeTag(),this._startingValue)}__onAnimatedValueUpdateReceived(e){this._updateValue(e,!1)}interpolate(e){return new ki(this,e)}animate(e,t){var r=null;e.__isInteraction&&(r=kd.createInteractionHandle());var a=this._animation;this._animation&&this._animation.stop(),this._animation=e,e.start(this._value,o=>{this._updateValue(o,!0)},o=>{this._animation=null,r!==null&&kd.clearInteractionHandle(r),t&&t(o)},a,this)}stopTracking(){this._tracking&&this._tracking.__detach(),this._tracking=null}track(e){this.stopTracking(),this._tracking=e,this._tracking&&this._tracking.update()}_updateValue(e,t){if(e===void 0)throw new Error("AnimatedValue: Attempting to set value to undefined");this._value=e,t&&Ej(this),super.__callListeners(this.__getValue())}__getNativeConfig(){return{type:"value",value:this._value,offset:this._offset}}}function K0(n,e,t){var r=[],a=(o,u)=>{if(o instanceof qt)o.__makeNative(),r.push({nativeEventPath:u,animatedValueTag:o.__getNativeTag()});else if(typeof o=="object")for(var c in o)a(o[c],u.concat(c))};return Te(t[0]&&t[0].nativeEvent,"Native driven events only support animated values contained inside `nativeEvent`."),a(t[0].nativeEvent,[]),n!=null&&r.forEach(o=>{Wt.API.addAnimatedEventToView(n,e,o)}),{detach(){n!=null&&r.forEach(o=>{Wt.API.removeAnimatedEventFromView(n,e,o.animatedValueTag)})}}}class Nl{constructor(e,t){this._listeners=[],this._argMapping=e,t==null&&(console.warn("Animated.event now requires a second argument for options"),t={useNativeDriver:!1}),t.listener&&this.__addListener(t.listener),this._callListeners=this._callListeners.bind(this),this._attachedEvent=null,this.__isNative=qu(t)}__addListener(e){this._listeners.push(e)}__removeListener(e){this._listeners=this._listeners.filter(t=>t!==e)}__attach(e,t){Te(this.__isNative,"Only native driven events need to be attached."),this._attachedEvent=K0(e,t,this._argMapping)}__detach(e,t){Te(this.__isNative,"Only native driven events need to be detached."),this._attachedEvent&&this._attachedEvent.detach()}__getHandler(){var e=this;return this.__isNative?this._callListeners:function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var o=(u,c,h)=>{if(u instanceof qt)typeof c=="number"&&u.setValue(c);else if(typeof u=="object")for(var f in u)o(u[f],c[f])};e._argMapping.forEach((u,c)=>{o(u,r[c])}),e._callListeners(...r)}}_callListeners(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._listeners.forEach(a=>a(...t))}}class xj extends Ii{constructor(e){super(),this._transforms=e}__makeNative(){this._transforms.forEach(e=>{for(var t in e){var r=e[t];r instanceof jt&&r.__makeNative()}}),super.__makeNative()}__getValue(){return this._transforms.map(e=>{var t={};for(var r in e){var a=e[r];a instanceof jt?t[r]=a.__getValue():t[r]=a}return t})}__getAnimatedValue(){return this._transforms.map(e=>{var t={};for(var r in e){var a=e[r];a instanceof jt?t[r]=a.__getAnimatedValue():t[r]=a}return t})}__attach(){this._transforms.forEach(e=>{for(var t in e){var r=e[t];r instanceof jt&&r.__addChild(this)}})}__detach(){this._transforms.forEach(e=>{for(var t in e){var r=e[t];r instanceof jt&&r.__removeChild(this)}}),super.__detach()}__getNativeConfig(){var e=[];return this._transforms.forEach(t=>{for(var r in t){var a=t[r];a instanceof jt?e.push({type:"animated",property:r,nodeTag:a.__getNativeTag()}):e.push({type:"static",property:r,value:Wt.transformDataType(a)})}}),Wt.validateTransform(e),{type:"transform",transforms:e}}}var Cj=Ne.flatten;function BA(n){var e=Cj(n),t={};for(var r in e){var a=e[r];r==="transform"&&Array.isArray(a)?t[r]=new xj(a):a instanceof jt?t[r]=a:a&&!Array.isArray(a)&&typeof a=="object"&&(t[r]=BA(a))}return t}class Wx extends Ii{constructor(e){super(),this._inputStyle=e,this._style=BA(e)}_walkStyleAndGetValues(e){var t={};for(var r in e){var a=e[r];a instanceof jt?a.__isNative||(t[r]=a.__getValue()):a&&!Array.isArray(a)&&typeof a=="object"?t[r]=this._walkStyleAndGetValues(a):t[r]=a}return t}__getValue(){return[this._inputStyle,this._walkStyleAndGetValues(this._style)]}_walkStyleAndGetAnimatedValues(e){var t={};for(var r in e){var a=e[r];a instanceof jt?t[r]=a.__getAnimatedValue():a&&!Array.isArray(a)&&typeof a=="object"&&(t[r]=this._walkStyleAndGetAnimatedValues(a))}return t}__getAnimatedValue(){return this._walkStyleAndGetAnimatedValues(this._style)}__attach(){for(var e in this._style){var t=this._style[e];t instanceof jt&&t.__addChild(this)}}__detach(){for(var e in this._style){var t=this._style[e];t instanceof jt&&t.__removeChild(this)}super.__detach()}__makeNative(){for(var e in this._style){var t=this._style[e];t instanceof jt&&t.__makeNative()}super.__makeNative()}__getNativeConfig(){var e={};for(var t in this._style)if(this._style[t]instanceof jt){var r=this._style[t];r.__makeNative(),e[t]=r.__getNativeTag()}return Wt.validateStyles(e),{type:"style",style:e}}}class Rj extends jt{constructor(e,t){super(),e.style&&(e=Ee(Ee({},e),{},{style:new Wx(e.style)})),this._props=e,this._callback=t}__getValue(){var e={};for(var t in this._props){var r=this._props[t];r instanceof jt?(!r.__isNative||r instanceof Wx)&&(e[t]=r.__getValue()):r instanceof Nl?e[t]=r.__getHandler():e[t]=r}return e}__getAnimatedValue(){var e={};for(var t in this._props){var r=this._props[t];r instanceof jt&&(e[t]=r.__getAnimatedValue())}return e}__attach(){for(var e in this._props){var t=this._props[e];t instanceof jt&&t.__addChild(this)}}__detach(){this.__isNative&&this._animatedView&&this.__disconnectAnimatedView(),this._animatedView=null;for(var e in this._props){var t=this._props[e];t instanceof jt&&t.__removeChild(this)}super.__detach()}update(){this._callback()}__makeNative(){if(!this.__isNative){this.__isNative=!0;for(var e in this._props){var t=this._props[e];t instanceof jt&&t.__makeNative()}this._animatedView&&this.__connectAnimatedView()}}setNativeView(e){this._animatedView!==e&&(this._animatedView=e,this.__isNative&&this.__connectAnimatedView())}__connectAnimatedView(){Te(this.__isNative,'Expected node to be marked as "native"');var e=this._animatedView;Te(e!=null,"Unable to locate attached view in the native tree"),Wt.API.connectAnimatedNodeToView(this.__getNativeTag(),e)}__disconnectAnimatedView(){Te(this.__isNative,'Expected node to be marked as "native"');var e=this._animatedView;Te(e!=null,"Unable to locate attached view in the native tree"),Wt.API.disconnectAnimatedNodeFromView(this.__getNativeTag(),e)}__restoreDefaultValues(){this.__isNative&&Wt.API.restoreDefaultValues(this.__getNativeTag())}__getNativeConfig(){var e={};for(var t in this._props){var r=this._props[t];r instanceof jt&&(r.__makeNative(),e[t]=r.__getNativeTag())}return{type:"props",props:e}}}function Aj(n){var e=E.useRef(void 0);return E.useCallback(t=>{e.current&&(e.current(),e.current=void 0),t!=null&&(e.current=n(t))},[n])}function Ij(n){var e=E.useReducer(c=>c+1,0),t=e[1],r=E.useRef(null),a=E.useMemo(()=>new Rj(n,()=>r.current==null?void 0:r.current()),[n]);Oj(a);var o=E.useCallback(c=>{a.setNativeView(c),r.current=()=>{t()};var h=Dj(c),f=[];for(var g in n){var y=n[g];y instanceof Nl&&y.__isNative&&(y.__attach(h,g),f.push([g,y]))}return()=>{r.current=null;for(var _=0,S=f;_<S.length;_++){var T=S[_],x=T[0],C=T[1];C.__detach(h,x)}}},[n,a]),u=Aj(o);return[kj(a),u]}function kj(n){return Ee(Ee({},n.__getValue()),{},{collapsable:!1})}function Oj(n){var e=E.useRef(null),t=E.useRef(!1);E.useEffect(()=>{}),El(()=>(t.current=!1,()=>{t.current=!0}),[]),El(()=>{if(n.__attach(),e.current!=null){var r=e.current;r.__restoreDefaultValues(),r.__detach(),e.current=null}return()=>{t.current?n.__detach():e.current=n}},[n])}function Dj(n){return typeof n=="object"&&typeof n?.getScrollableNode=="function"?n.getScrollableNode():n}function Nj(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return E.useCallback(r=>{for(var a=0,o=e;a<o.length;a++){var u=o[a];u!=null&&(typeof u=="function"?u(r):u.current=r)}},[...e])}var Mj=["style"];function ko(n){return E.forwardRef((e,t)=>{var r=Ij(e),a=r[0],o=r[1],u=Nj(o,t),c=a.passthroughAnimatedPropExplicitValues,h=a.style,f=c??{},g=f.style,y=An(f,Mj),_=[h,g];return E.createElement(n,Mt({},a,y,{style:_,ref:u}))})}var Pj=E.forwardRef((n,e)=>E.createElement(fg,Mt({scrollEventThrottle:1e-4},n,{ref:e})));const Lj=ko(Pj);var Vj=[];function zA(n){return Vj[n-1]}var jj=/^data:/;class oi{static has(e){var t=oi._entries,r=jj.test(e);return r||!!t[e]}static add(e){var t=oi._entries,r=Date.now();t[e]?(t[e].lastUsedTimestamp=r,t[e].refCount+=1):t[e]={lastUsedTimestamp:r,refCount:1}}static remove(e){var t=oi._entries;t[e]&&(t[e].refCount-=1),oi._cleanUpIfNeeded()}static _cleanUpIfNeeded(){var e=oi._entries,t=Object.keys(e);if(t.length+1>oi._maximumEntries){var r,a;t.forEach(o=>{var u=e[o];(!a||u.lastUsedTimestamp<a.lastUsedTimestamp)&&u.refCount===0&&(r=o,a=u)}),r&&delete e[r]}}}oi._maximumEntries=256;oi._entries={};var dv=0,Bf={},Ca={abort(n){var e=Bf[""+n];e&&(e.onerror=null,e.onload=null,e=null,delete Bf[""+n])},getSize(n,e,t){var r=!1,a=setInterval(u,16),o=Ca.load(n,u,c);function u(){var h=Bf[""+o];if(h){var f=h.naturalHeight,g=h.naturalWidth;f&&g&&(e(g,f),r=!0)}r&&(Ca.abort(o),clearInterval(a))}function c(){typeof t=="function"&&t(),Ca.abort(o),clearInterval(a)}},has(n){return oi.has(n)},load(n,e,t){dv+=1;var r=new window.Image;return r.onerror=t,r.onload=a=>{var o=()=>e({nativeEvent:a});typeof r.decode=="function"?r.decode().then(o,o):setTimeout(o,0)},r.src=n,Bf[""+dv]=r,dv},prefetch(n){return new Promise((e,t)=>{Ca.load(n,()=>{oi.add(n),oi.remove(n),e()},t)})},queryCache(n){var e={};return n.forEach(t=>{oi.has(t)&&(e[t]="disk/memory")}),Promise.resolve(e)}};class vd{static get(){return wl.get("window").scale}static getFontScale(){return wl.get("window").fontScale||vd.get()}static getPixelSizeForLayoutSize(e){return Math.round(e*vd.get())}static roundToNearestPixel(e){var t=vd.get();return Math.round(e*t)/t}}var Bj=["aria-label","accessibilityLabel","blurRadius","defaultSource","draggable","onError","onLayout","onLoad","onLoadEnd","onLoadStart","pointerEvents","source","style"],zj="ERRORED",hv="LOADED",qx="LOADING",Fj="IDLE",Uj=0,Hj=/^(data:image\/svg\+xml;utf8,)(.*)/;function Wj(n,e){return n&&e!=null?E.createElement("svg",{style:{position:"absolute",height:0,visibility:"hidden",width:0}},E.createElement("defs",null,E.createElement("filter",{id:"tint-"+e,suppressHydrationWarning:!0},E.createElement("feFlood",{floodColor:""+n,key:n}),E.createElement("feComposite",{in2:"SourceAlpha",operator:"in"})))):null}function qj(n,e,t,r){var a=Ne.flatten(n),o=a.filter,u=a.resizeMode,c=a.shadowOffset,h=a.tintColor;a.resizeMode,a.tintColor;var f=[],g=null;if(o&&f.push(o),e&&f.push("blur("+e+"px)"),c){var y=cA(a);y&&f.push("drop-shadow("+y+")")}return(r||h)&&t!=null&&f.push("url(#tint-"+t+")"),f.length>0&&(g=f.join(" ")),[u,g,h]}function Gj(n){if(typeof n=="number"){var e=zA(n),t=e.height,r=e.width;return{height:t,width:r}}else if(n!=null&&!Array.isArray(n)&&typeof n=="object"){var a=n.height,o=n.width;return{height:a,width:o}}}function fv(n){var e=null;if(typeof n=="number"){var t=zA(n);if(t==null)throw new Error('Image: asset with ID "'+n+'" could not be found. Please check the image source or packager.');var r=t.scales[0];if(t.scales.length>1){var a=vd.get();r=t.scales.reduce((g,y)=>Math.abs(y-a)<Math.abs(g-a)?y:g)}var o=r!==1?"@"+r+"x":"";e=t?t.httpServerLocation+"/"+t.name+o+"."+t.type:""}else typeof n=="string"?e=n:n&&typeof n.uri=="string"&&(e=n.uri);if(e){var u=e.match(Hj);if(u){var c=u[1],h=u[2],f=encodeURIComponent(h);return""+c+f}}return e}var FA=E.forwardRef((n,e)=>{var t=n["aria-label"],r=n.accessibilityLabel,a=n.blurRadius,o=n.defaultSource,u=n.draggable,c=n.onError,h=n.onLayout,f=n.onLoad,g=n.onLoadEnd,y=n.onLoadStart,_=n.pointerEvents,S=n.source,T=n.style,x=An(n,Bj),C=t||r,I=E.useState(()=>{var ke=fv(S);if(ke!=null){var Ve=Ca.has(ke);if(Ve)return hv}return Fj}),R=I[0],O=I[1],z=E.useState({}),H=z[0],F=z[1],N=E.useContext(km),D=E.useRef(null),V=E.useRef(Uj++),B=E.useRef(null),L=R===hv||R===qx&&o==null,q=qj(T,a,V.current,n.tintColor),M=q[0],ue=q[1],me=q[2],Y=n.resizeMode||M||"cover",se=n.tintColor||me,ge=L?S:o,ee=fv(ge),ie=Gj(ge),G=ee?'url("'+ee+'")':null,X=be(),ye=ee?Dl("img",{alt:C||"",style:Kc.accessibilityImage$raw,draggable:u||!1,ref:D,src:ee}):null;function be(){if(D.current!=null&&(Y==="center"||Y==="repeat")){var ke=D.current,Ve=ke.naturalHeight,$e=ke.naturalWidth,We=H.height,gt=H.width;if(Ve&&$e&&We&&gt){var xt=Math.min(1,gt/$e,We/Ve),le=Math.ceil(xt*$e),Se=Math.ceil(xt*Ve);return le+"px "+Se+"px"}}}function Ie(ke){if(Y==="center"||Y==="repeat"||h){var Ve=ke.nativeEvent.layout;h&&h(ke),F(Ve)}}var De=fv(S);return E.useEffect(()=>{ke(),De!=null&&(O(qx),y&&y(),B.current=Ca.load(De,function($e){O(hv),f&&f($e),g&&g()},function(){O(zj),c&&c({nativeEvent:{error:"Failed to load resource "+De}}),g&&g()}));function ke(){B.current!=null&&(Ca.abort(B.current),B.current=null)}return ke},[De,B,O,c,f,g,y]),E.createElement(W,Mt({},x,{"aria-label":C,onLayout:Ie,pointerEvents:_,ref:e,style:[Kc.root,N&&Kc.inline,ie,T,Kc.undo,{boxShadow:null}]}),E.createElement(W,{style:[Kc.image,Kj[Y],{backgroundImage:G,filter:ue},X!=null&&{backgroundSize:X}],suppressHydrationWarning:!0}),ye,Wj(se,V.current))});FA.displayName="Image";var Gu=FA;Gu.getSize=function(n,e,t){Ca.getSize(n,e,t)};Gu.prefetch=function(n){return Ca.prefetch(n)};Gu.queryCache=function(n){return Ca.queryCache(n)};var Kc=Ne.create({root:{flexBasis:"auto",overflow:"hidden",zIndex:0},inline:{display:"inline-flex"},undo:{blurRadius:null,shadowColor:null,shadowOpacity:null,shadowOffset:null,shadowRadius:null,tintColor:null,overlayColor:null,resizeMode:null},image:Ee(Ee({},Ne.absoluteFillObject),{},{backgroundColor:"transparent",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"100%",width:"100%",zIndex:-1}),accessibilityImage$raw:Ee(Ee({},Ne.absoluteFillObject),{},{height:"100%",opacity:0,width:"100%",zIndex:-1})}),Kj=Ne.create({center:{backgroundSize:"auto"},contain:{backgroundSize:"contain"},cover:{backgroundSize:"cover"},none:{backgroundPosition:"0",backgroundSize:"auto"},repeat:{backgroundPosition:"0",backgroundRepeat:"repeat",backgroundSize:"auto"},stretch:{backgroundSize:"100% 100%"}});const $j=ko(Gu);var Yj=E.forwardRef((n,e)=>E.createElement(ci,Mt({scrollEventThrottle:1e-4},n,{ref:e})));const Qj=ko(Yj);var Xj=["ItemSeparatorComponent","SectionSeparatorComponent","renderItem","renderSectionFooter","renderSectionHeader","sections","stickySectionHeadersEnabled"];class Jj extends E.PureComponent{constructor(){super(...arguments),this._keyExtractor=(e,t)=>{var r=this._subExtractor(t);return r&&r.key||String(t)},this._convertViewable=e=>{var t;Te(e.index!=null,"Received a broken ViewToken");var r=this._subExtractor(e.index);if(!r)return null;var a=r.section.keyExtractor,o=this.props.keyExtractor||Od,u=a!=null?a(e.item,r.index):o(e.item,(t=r.index)!==null&&t!==void 0?t:0);return Ee(Ee({},e),{},{index:r.index,key:u,section:r.section})},this._onViewableItemsChanged=e=>{var t=e.viewableItems,r=e.changed,a=this.props.onViewableItemsChanged;a?.({viewableItems:t.map(this._convertViewable,this).filter(Boolean),changed:r.map(this._convertViewable,this).filter(Boolean)})},this._renderItem=e=>t=>{var r=t.item,a=t.index,o=this._subExtractor(a);if(!o)return null;var u=o.index;if(u==null){var c=o.section;if(o.header===!0){var h=this.props.renderSectionHeader;return h?h({section:c}):null}else{var f=this.props.renderSectionFooter;return f?f({section:c}):null}}else{var g=o.section.renderItem||this.props.renderItem,y=this._getSeparatorComponent(a,o,e);return Te(g,"no renderItem!"),E.createElement(Zj,{SeparatorComponent:y,LeadingSeparatorComponent:u===0?this.props.SectionSeparatorComponent:void 0,cellKey:o.key,index:u,item:r,leadingItem:o.leadingItem,leadingSection:o.leadingSection,prevCellKey:(this._subExtractor(a-1)||{}).key,setSelfHighlightCallback:this._setUpdateHighlightFor,setSelfUpdatePropsCallback:this._setUpdatePropsFor,updateHighlightFor:this._updateHighlightFor,updatePropsFor:this._updatePropsFor,renderItem:g,section:o.section,trailingItem:o.trailingItem,trailingSection:o.trailingSection,inverted:!!this.props.inverted})}},this._updatePropsFor=(e,t)=>{var r=this._updatePropsMap[e];r?.(t)},this._updateHighlightFor=(e,t)=>{var r=this._updateHighlightMap[e];r?.(t)},this._setUpdateHighlightFor=(e,t)=>{t!=null?this._updateHighlightMap[e]=t:delete this._updateHighlightFor[e]},this._setUpdatePropsFor=(e,t)=>{t!=null?this._updatePropsMap[e]=t:delete this._updatePropsMap[e]},this._updateHighlightMap={},this._updatePropsMap={},this._captureRef=e=>{this._listRef=e}}scrollToLocation(e){for(var t=e.itemIndex,r=0;r<e.sectionIndex;r++)t+=this.props.getItemCount(this.props.sections[r].data)+2;var a=e.viewOffset||0;if(this._listRef!=null){if(e.itemIndex>0&&this.props.stickySectionHeadersEnabled){var o=this._listRef.__getFrameMetricsApprox(t-e.itemIndex,this._listRef.props);a+=o.length}var u=Ee(Ee({},e),{},{viewOffset:a,index:t});this._listRef.scrollToIndex(u)}}getListRef(){return this._listRef}render(){var e=this.props;e.ItemSeparatorComponent,e.SectionSeparatorComponent,e.renderItem,e.renderSectionFooter,e.renderSectionHeader,e.sections,e.stickySectionHeadersEnabled;for(var t=An(e,Xj),r=this.props.ListHeaderComponent?1:0,a=this.props.stickySectionHeadersEnabled?[]:void 0,o=0,u=xa(this.props.sections),c;!(c=u()).done;){var h=c.value;a?.push(o+r),o+=2,o+=this.props.getItemCount(h.data)}var f=this._renderItem(o);return E.createElement(si,Mt({},t,{keyExtractor:this._keyExtractor,stickyHeaderIndices:a,renderItem:f,data:this.props.sections,getItem:(g,y)=>this._getItem(this.props,g,y),getItemCount:()=>o,onViewableItemsChanged:this.props.onViewableItemsChanged?this._onViewableItemsChanged:void 0,ref:this._captureRef}))}_getItem(e,t,r){if(!t)return null;for(var a=r-1,o=0;o<t.length;o++){var u=t[o],c=u.data,h=e.getItemCount(c);if(a===-1||a===h)return u;if(a<h)return e.getItem(c,a);a-=h+2}return null}_subExtractor(e){for(var t=e,r=this.props,a=r.getItem,o=r.getItemCount,u=r.keyExtractor,c=r.sections,h=0;h<c.length;h++){var f=c[h],g=f.data,y=f.key||String(h);if(t-=1,t>=o(g)+1)t-=o(g)+1;else{if(t===-1)return{section:f,key:y+":header",index:null,header:!0,trailingSection:c[h+1]};if(t===o(g))return{section:f,key:y+":footer",index:null,header:!1,trailingSection:c[h+1]};var _=f.keyExtractor||u||Od;return{section:f,key:y+":"+_(a(g,t),t),index:t,leadingItem:a(g,t-1),leadingSection:c[h-1],trailingItem:a(g,t+1),trailingSection:c[h+1]}}}}_getSeparatorComponent(e,t,r){if(t=t||this._subExtractor(e),!t)return null;var a=t.section.ItemSeparatorComponent||this.props.ItemSeparatorComponent,o=this.props.SectionSeparatorComponent,u=e===r-1,c=t.index===this.props.getItemCount(t.section.data)-1;return o&&c?o:a&&!c&&!u?a:null}}function Zj(n){var e=n.LeadingSeparatorComponent,t=n.SeparatorComponent,r=n.cellKey,a=n.prevCellKey,o=n.setSelfHighlightCallback,u=n.updateHighlightFor,c=n.setSelfUpdatePropsCallback,h=n.updatePropsFor,f=n.item,g=n.index,y=n.section,_=n.inverted,S=E.useState(!1),T=S[0],x=S[1],C=E.useState(!1),I=C[0],R=C[1],O=E.useState({leadingItem:n.leadingItem,leadingSection:n.leadingSection,section:n.section,trailingItem:n.item,trailingSection:n.trailingSection}),z=O[0],H=O[1],F=E.useState({leadingItem:n.item,leadingSection:n.leadingSection,section:n.section,trailingItem:n.trailingItem,trailingSection:n.trailingSection}),N=F[0],D=F[1];E.useEffect(()=>(o(r,R),c(r,D),()=>{c(r,null),o(r,null)}),[r,o,D,c]);var V={highlight:()=>{x(!0),R(!0),a!=null&&u(a,!0)},unhighlight:()=>{x(!1),R(!1),a!=null&&u(a,!1)},updateProps:(M,ue)=>{M==="leading"?e!=null?H(Ee(Ee({},z),ue)):a!=null&&h(a,Ee(Ee({},z),ue)):M==="trailing"&&t!=null&&D(Ee(Ee({},N),ue))}},B=n.renderItem({item:f,index:g,section:y,separators:V}),L=e!=null&&E.createElement(e,Mt({highlighted:T},z)),q=t!=null&&E.createElement(t,Mt({highlighted:I},N));return L||q?E.createElement(W,null,_===!1?L:q,B,_===!1?q:L):B}var e5=["stickySectionHeadersEnabled"];let t5=class extends E.PureComponent{constructor(){super(...arguments),this._captureRef=e=>{this._wrapperListRef=e}}scrollToLocation(e){this._wrapperListRef!=null&&this._wrapperListRef.scrollToLocation(e)}recordInteraction(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();e&&e.recordInteraction()}flashScrollIndicators(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();e&&e.flashScrollIndicators()}getScrollResponder(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();if(e)return e.getScrollResponder()}getScrollableNode(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();if(e)return e.getScrollableNode()}render(){var e=this.props,t=e.stickySectionHeadersEnabled,r=An(e,e5),a=t??an.OS==="ios";return E.createElement(Jj,Mt({},r,{stickySectionHeadersEnabled:a,ref:this._captureRef,getItemCount:o=>o.length,getItem:(o,u)=>o[u]}))}};var n5=E.forwardRef((n,e)=>E.createElement(t5,Mt({scrollEventThrottle:1e-4},n,{ref:e})));const r5=ko(n5);var i5=["hrefAttrs","numberOfLines","onClick","onLayout","onPress","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","onResponderEnd","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderStart","onResponderTerminate","onResponderTerminationRequest","onScrollShouldSetResponder","onScrollShouldSetResponderCapture","onSelectionChangeShouldSetResponder","onSelectionChangeShouldSetResponderCapture","onStartShouldSetResponder","onStartShouldSetResponderCapture","selectable"],a5=Object.assign({},O0,D0,N0,M0,P0,L0,V0,j0,{href:!0,lang:!0,pointerEvents:!0}),s5=n=>B0(n,a5),j=E.forwardRef((n,e)=>{var t=n.hrefAttrs,r=n.numberOfLines,a=n.onClick,o=n.onLayout,u=n.onPress,c=n.onMoveShouldSetResponder,h=n.onMoveShouldSetResponderCapture,f=n.onResponderEnd,g=n.onResponderGrant,y=n.onResponderMove,_=n.onResponderReject,S=n.onResponderRelease,T=n.onResponderStart,x=n.onResponderTerminate,C=n.onResponderTerminationRequest,I=n.onScrollShouldSetResponder,R=n.onScrollShouldSetResponderCapture,O=n.onSelectionChangeShouldSetResponder,z=n.onSelectionChangeShouldSetResponderCapture,H=n.onStartShouldSetResponder,F=n.onStartShouldSetResponderCapture,N=n.selectable,D=An(n,i5),V=E.useContext(km),B=E.useRef(null),L=k0(),q=L.direction;z0(B,o),H0(B,{onMoveShouldSetResponder:c,onMoveShouldSetResponderCapture:h,onResponderEnd:f,onResponderGrant:g,onResponderMove:y,onResponderReject:_,onResponderRelease:S,onResponderStart:T,onResponderTerminate:x,onResponderTerminationRequest:C,onScrollShouldSetResponder:I,onScrollShouldSetResponderCapture:R,onSelectionChangeShouldSetResponder:O,onSelectionChangeShouldSetResponderCapture:z,onStartShouldSetResponder:H,onStartShouldSetResponderCapture:F});var M=E.useCallback(Ie=>{a!=null?a(Ie):u!=null&&(Ie.stopPropagation(),u(Ie))},[a,u]),ue=V?"span":"div",me=n.lang!=null?dg(n.lang):null,Y=n.dir||me,se=Y||q,ge=s5(D);if(ge.dir=Y,V||(ge.dir=Y??"auto"),(a||u)&&(ge.onClick=M),ge.style=[r!=null&&r>1&&{WebkitLineClamp:r},V===!0?hl.textHasAncestor$raw:hl.text$raw,r===1&&hl.textOneLine,r!=null&&r>1&&hl.textMultiLine,n.style,N===!0&&hl.selectable,N===!1&&hl.notSelectable,u&&hl.pressable],n.href!=null&&(ue="a",t!=null)){var ee=t.download,ie=t.rel,G=t.target;ee!=null&&(ge.download=ee),ie!=null&&(ge.rel=ie),typeof G=="string"&&(ge.target=G.charAt(0)!=="_"?"_"+G:G)}var X=F0(ge),ye=Wu(B,X,e);ge.ref=ye;var be=Dl(ue,ge,{writingDirection:se});return V?be:E.createElement(km.Provider,{value:!0},be)});j.displayName="Text";var Gx={backgroundColor:"transparent",border:"0 solid black",boxSizing:"border-box",color:"black",display:"inline",font:"14px System",listStyle:"none",margin:0,padding:0,position:"relative",textAlign:"start",textDecoration:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},hl=Ne.create({text$raw:Gx,textHasAncestor$raw:Ee(Ee({},Gx),{},{color:"inherit",font:"inherit",textAlign:"inherit",whiteSpace:"inherit"}),textOneLine:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal"},textMultiLine:{display:"-webkit-box",maxWidth:"100%",overflow:"clip",textOverflow:"ellipsis",WebkitBoxOrient:"vertical"},notSelectable:{userSelect:"none"},selectable:{userSelect:"text"},pressable:{cursor:"pointer"}});const o5=ko(j),l5=ko(W);class u5 extends Ii{constructor(e,t){super(),this._a=typeof e=="number"?new qt(e):e,this._b=typeof t=="number"?new qt(t):t}__makeNative(e){this._a.__makeNative(e),this._b.__makeNative(e),super.__makeNative(e)}__getValue(){return this._a.__getValue()+this._b.__getValue()}interpolate(e){return new ki(this,e)}__attach(){this._a.__addChild(this),this._b.__addChild(this)}__detach(){this._a.__removeChild(this),this._b.__removeChild(this),super.__detach()}__getNativeConfig(){return{type:"addition",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}class c5 extends Ii{constructor(e,t,r){super(),this._a=e,this._min=t,this._max=r,this._value=this._lastValue=this._a.__getValue()}__makeNative(e){this._a.__makeNative(e),super.__makeNative(e)}interpolate(e){return new ki(this,e)}__getValue(){var e=this._a.__getValue(),t=e-this._lastValue;return this._lastValue=e,this._value=Math.min(Math.max(this._value+t,this._min),this._max),this._value}__attach(){this._a.__addChild(this)}__detach(){this._a.__removeChild(this),super.__detach()}__getNativeConfig(){return{type:"diffclamp",input:this._a.__getNativeTag(),min:this._min,max:this._max}}}class d5 extends Ii{constructor(e,t){super(),this._warnedAboutDivideByZero=!1,(t===0||t instanceof jt&&t.__getValue()===0)&&console.error("Detected potential division by zero in AnimatedDivision"),this._a=typeof e=="number"?new qt(e):e,this._b=typeof t=="number"?new qt(t):t}__makeNative(e){this._a.__makeNative(e),this._b.__makeNative(e),super.__makeNative(e)}__getValue(){var e=this._a.__getValue(),t=this._b.__getValue();return t===0?(this._warnedAboutDivideByZero||(console.error("Detected division by zero in AnimatedDivision"),this._warnedAboutDivideByZero=!0),0):(this._warnedAboutDivideByZero=!1,e/t)}interpolate(e){return new ki(this,e)}__attach(){this._a.__addChild(this),this._b.__addChild(this)}__detach(){this._a.__removeChild(this),this._b.__removeChild(this),super.__detach()}__getNativeConfig(){return{type:"division",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}class h5 extends Ii{constructor(e,t){super(),this._a=e,this._modulus=t}__makeNative(e){this._a.__makeNative(e),super.__makeNative(e)}__getValue(){return(this._a.__getValue()%this._modulus+this._modulus)%this._modulus}interpolate(e){return new ki(this,e)}__attach(){this._a.__addChild(this)}__detach(){this._a.__removeChild(this),super.__detach()}__getNativeConfig(){return{type:"modulus",input:this._a.__getNativeTag(),modulus:this._modulus}}}class f5 extends Ii{constructor(e,t){super(),this._a=typeof e=="number"?new qt(e):e,this._b=typeof t=="number"?new qt(t):t}__makeNative(e){this._a.__makeNative(e),this._b.__makeNative(e),super.__makeNative(e)}__getValue(){return this._a.__getValue()*this._b.__getValue()}interpolate(e){return new ki(this,e)}__attach(){this._a.__addChild(this),this._b.__addChild(this)}__detach(){this._a.__removeChild(this),this._b.__removeChild(this),super.__detach()}__getNativeConfig(){return{type:"multiplication",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}class m5 extends Ii{constructor(e,t){super(),this._a=typeof e=="number"?new qt(e):e,this._b=typeof t=="number"?new qt(t):t}__makeNative(e){this._a.__makeNative(e),this._b.__makeNative(e),super.__makeNative(e)}__getValue(){return this._a.__getValue()-this._b.__getValue()}interpolate(e){return new ki(this,e)}__attach(){this._a.__addChild(this),this._b.__addChild(this)}__detach(){this._a.__removeChild(this),this._b.__removeChild(this),super.__detach()}__getNativeConfig(){return{type:"subtraction",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}class UA extends jt{constructor(e,t,r,a,o){super(),this._value=e,this._parent=t,this._animationClass=r,this._animationConfig=a,this._useNativeDriver=qu(a),this._callback=o,this.__attach()}__makeNative(){this.__isNative=!0,this._parent.__makeNative(),super.__makeNative(),this._value.__makeNative()}__getValue(){return this._parent.__getValue()}__attach(){this._parent.__addChild(this),this._useNativeDriver&&this.__makeNative()}__detach(){this._parent.__removeChild(this),super.__detach()}update(){this._value.animate(new this._animationClass(Ee(Ee({},this._animationConfig),{},{toValue:this._animationConfig.toValue.__getValue()})),this._callback)}__getNativeConfig(){var e=new this._animationClass(Ee(Ee({},this._animationConfig),{},{toValue:void 0})),t=e.__getNativeAnimationConfig();return{type:"tracking",animationId:jA(),animationConfig:t,toValue:this._parent.__getNativeTag(),value:this._value.__getNativeTag()}}}var g5=1;class $0 extends Ii{constructor(e){super();var t=e||{x:0,y:0};typeof t.x=="number"&&typeof t.y=="number"?(this.x=new qt(t.x),this.y=new qt(t.y)):(Te(t.x instanceof qt&&t.y instanceof qt,"AnimatedValueXY must be initialized with an object of numbers or AnimatedValues."),this.x=t.x,this.y=t.y),this._listeners={}}setValue(e){this.x.setValue(e.x),this.y.setValue(e.y)}setOffset(e){this.x.setOffset(e.x),this.y.setOffset(e.y)}flattenOffset(){this.x.flattenOffset(),this.y.flattenOffset()}extractOffset(){this.x.extractOffset(),this.y.extractOffset()}__getValue(){return{x:this.x.__getValue(),y:this.y.__getValue()}}resetAnimation(e){this.x.resetAnimation(),this.y.resetAnimation(),e&&e(this.__getValue())}stopAnimation(e){this.x.stopAnimation(),this.y.stopAnimation(),e&&e(this.__getValue())}addListener(e){var t=String(g5++),r=a=>{a.value,e(this.__getValue())};return this._listeners[t]={x:this.x.addListener(r),y:this.y.addListener(r)},t}removeListener(e){this.x.removeListener(this._listeners[e].x),this.y.removeListener(this._listeners[e].y),delete this._listeners[e]}removeAllListeners(){this.x.removeAllListeners(),this.y.removeAllListeners(),this._listeners={}}getLayout(){return{left:this.x,top:this.y}}getTranslateTransform(){return[{translateX:this.x},{translateY:this.y}]}}var Kx=1;class Y0{start(e,t,r,a,o){}stop(){this.__nativeId&&Wt.API.stopAnimation(this.__nativeId)}__getNativeAnimationConfig(){throw new Error("This animation type cannot be offloaded to native")}__debouncedOnEnd(e){var t=this.__onEnd;this.__onEnd=null,t&&t(e)}__startNativeAnimation(e){var t=Kx+":startAnimation";Kx+=1,Wt.API.setWaitingForIdentifier(t);try{var r=this.__getNativeAnimationConfig();e.__makeNative(r.platformConfig),this.__nativeId=Wt.generateNewAnimationId(),Wt.API.startAnimatingNode(this.__nativeId,e.__getNativeTag(),r,this.__debouncedOnEnd.bind(this))}catch(a){throw a}finally{Wt.API.unsetWaitingForIdentifier(t)}}}class p5 extends Y0{constructor(e){var t,r,a;super(),this._deceleration=(t=e.deceleration)!==null&&t!==void 0?t:.998,this._velocity=e.velocity,this._useNativeDriver=qu(e),this.__isInteraction=(r=e.isInteraction)!==null&&r!==void 0?r:!this._useNativeDriver,this.__iterations=(a=e.iterations)!==null&&a!==void 0?a:1}__getNativeAnimationConfig(){return{type:"decay",deceleration:this._deceleration,velocity:this._velocity,iterations:this.__iterations}}start(e,t,r,a,o){this.__active=!0,this._lastValue=e,this._fromValue=e,this._onUpdate=t,this.__onEnd=r,this._startTime=Date.now(),this._useNativeDriver?this.__startNativeAnimation(o):this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))}onUpdate(){var e=Date.now(),t=this._fromValue+this._velocity/(1-this._deceleration)*(1-Math.exp(-(1-this._deceleration)*(e-this._startTime)));if(this._onUpdate(t),Math.abs(this._lastValue-t)<.1){this.__debouncedOnEnd({finished:!0});return}this._lastValue=t,this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this)))}stop(){super.stop(),this.__active=!1,global.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}function HA(n){return(n-30)*3.62+194}function WA(n){return(n-8)*3+25}function y5(n,e){return{stiffness:HA(n),damping:WA(e)}}function v5(n,e){function t(T,x,C){return(T-x)/(C-x)}function r(T,x,C){return x+T*(C-x)}function a(T,x,C){return T*C+(1-T)*x}function o(T,x,C){return a(2*T-T*T,x,C)}function u(T){return 7e-4*Math.pow(T,3)-.031*Math.pow(T,2)+.64*T+1.28}function c(T){return 44e-6*Math.pow(T,3)-.006*Math.pow(T,2)+.36*T+2}function h(T){return 45e-8*Math.pow(T,3)-332e-6*Math.pow(T,2)+.1078*T+5.84}function f(T){return T<=18?u(T):T>18&&T<=44?c(T):h(T)}var g=t(n/1.7,0,20);g=r(g,0,.8);var y=t(e/1.7,0,20),_=r(y,.5,200),S=o(g,f(_),.01);return{stiffness:HA(_),damping:WA(S)}}const $x={fromOrigamiTensionAndFriction:y5,fromBouncinessAndSpeed:v5};var mv=Wt.API,zf={r:0,g:0,b:0,a:1},_5=1,b5=n=>n;function Yx(n){if(n==null)return null;if(j_(n))return n;var e=C0(n);if(e==null)return null;if(typeof e=="object"){var t=b5(e);if(t!=null)return t}else if(typeof e=="number"){var r=(e&4278190080)>>>24,a=(e&16711680)>>>16,o=(e&65280)>>>8,u=(e&255)/255;return{r,g:a,b:o,a:u}}return null}function j_(n){return n&&typeof n.r=="number"&&typeof n.g=="number"&&typeof n.b=="number"&&typeof n.a=="number"}function S5(n){return n&&n.r instanceof qt&&n.g instanceof qt&&n.b instanceof qt&&n.a instanceof qt}class Q0 extends Ii{constructor(e,t){super(),this._listeners={};var r=e??zf;if(S5(r)){var a=r;this.r=a.r,this.g=a.g,this.b=a.b,this.a=a.a}else{var o,u=(o=Yx(r))!==null&&o!==void 0?o:zf,c=zf;j_(u)?c=u:this.nativeColor=u,this.r=new qt(c.r),this.g=new qt(c.g),this.b=new qt(c.b),this.a=new qt(c.a)}(this.nativeColor||t&&t.useNativeDriver)&&this.__makeNative()}setValue(e){var t,r=!1;if(this.__isNative){var a=this.__getNativeTag();mv.setWaitingForIdentifier(a.toString())}var o=(t=Yx(e))!==null&&t!==void 0?t:zf;if(j_(o)){var u=o;this.r.setValue(u.r),this.g.setValue(u.g),this.b.setValue(u.b),this.a.setValue(u.a),this.nativeColor!=null&&(this.nativeColor=null,r=!0)}else{var c=o;this.nativeColor!==c&&(this.nativeColor=c,r=!0)}if(this.__isNative){var h=this.__getNativeTag();r&&mv.updateAnimatedNodeConfig(h,this.__getNativeConfig()),mv.unsetWaitingForIdentifier(h.toString())}}setOffset(e){this.r.setOffset(e.r),this.g.setOffset(e.g),this.b.setOffset(e.b),this.a.setOffset(e.a)}flattenOffset(){this.r.flattenOffset(),this.g.flattenOffset(),this.b.flattenOffset(),this.a.flattenOffset()}extractOffset(){this.r.extractOffset(),this.g.extractOffset(),this.b.extractOffset(),this.a.extractOffset()}addListener(e){var t=String(_5++),r=a=>{a.value,e(this.__getValue())};return this._listeners[t]={r:this.r.addListener(r),g:this.g.addListener(r),b:this.b.addListener(r),a:this.a.addListener(r)},t}removeListener(e){this.r.removeListener(this._listeners[e].r),this.g.removeListener(this._listeners[e].g),this.b.removeListener(this._listeners[e].b),this.a.removeListener(this._listeners[e].a),delete this._listeners[e]}removeAllListeners(){this.r.removeAllListeners(),this.g.removeAllListeners(),this.b.removeAllListeners(),this.a.removeAllListeners(),this._listeners={}}stopAnimation(e){this.r.stopAnimation(),this.g.stopAnimation(),this.b.stopAnimation(),this.a.stopAnimation(),e&&e(this.__getValue())}resetAnimation(e){this.r.resetAnimation(),this.g.resetAnimation(),this.b.resetAnimation(),this.a.resetAnimation(),e&&e(this.__getValue())}__getValue(){return this.nativeColor!=null?this.nativeColor:"rgba("+this.r.__getValue()+", "+this.g.__getValue()+", "+this.b.__getValue()+", "+this.a.__getValue()+")"}__attach(){this.r.__addChild(this),this.g.__addChild(this),this.b.__addChild(this),this.a.__addChild(this),super.__attach()}__detach(){this.r.__removeChild(this),this.g.__removeChild(this),this.b.__removeChild(this),this.a.__removeChild(this),super.__detach()}__makeNative(e){this.r.__makeNative(e),this.g.__makeNative(e),this.b.__makeNative(e),this.a.__makeNative(e),super.__makeNative(e)}__getNativeConfig(){return{type:"color",r:this.r.__getNativeTag(),g:this.g.__getNativeTag(),b:this.b.__getNativeTag(),a:this.a.__getNativeTag(),nativeColor:this.nativeColor}}}class Lm extends Y0{constructor(e){var t,r,a,o,u,c,h,f;if(super(),this._overshootClamping=(t=e.overshootClamping)!==null&&t!==void 0?t:!1,this._restDisplacementThreshold=(r=e.restDisplacementThreshold)!==null&&r!==void 0?r:.001,this._restSpeedThreshold=(a=e.restSpeedThreshold)!==null&&a!==void 0?a:.001,this._initialVelocity=(o=e.velocity)!==null&&o!==void 0?o:0,this._lastVelocity=(u=e.velocity)!==null&&u!==void 0?u:0,this._toValue=e.toValue,this._delay=(c=e.delay)!==null&&c!==void 0?c:0,this._useNativeDriver=qu(e),this._platformConfig=e.platformConfig,this.__isInteraction=(h=e.isInteraction)!==null&&h!==void 0?h:!this._useNativeDriver,this.__iterations=(f=e.iterations)!==null&&f!==void 0?f:1,e.stiffness!==void 0||e.damping!==void 0||e.mass!==void 0){var g,y,_;Te(e.bounciness===void 0&&e.speed===void 0&&e.tension===void 0&&e.friction===void 0,"You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one"),this._stiffness=(g=e.stiffness)!==null&&g!==void 0?g:100,this._damping=(y=e.damping)!==null&&y!==void 0?y:10,this._mass=(_=e.mass)!==null&&_!==void 0?_:1}else if(e.bounciness!==void 0||e.speed!==void 0){var S,T;Te(e.tension===void 0&&e.friction===void 0&&e.stiffness===void 0&&e.damping===void 0&&e.mass===void 0,"You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one");var x=$x.fromBouncinessAndSpeed((S=e.bounciness)!==null&&S!==void 0?S:8,(T=e.speed)!==null&&T!==void 0?T:12);this._stiffness=x.stiffness,this._damping=x.damping,this._mass=1}else{var C,I,R=$x.fromOrigamiTensionAndFriction((C=e.tension)!==null&&C!==void 0?C:40,(I=e.friction)!==null&&I!==void 0?I:7);this._stiffness=R.stiffness,this._damping=R.damping,this._mass=1}Te(this._stiffness>0,"Stiffness value must be greater than 0"),Te(this._damping>0,"Damping value must be greater than 0"),Te(this._mass>0,"Mass value must be greater than 0")}__getNativeAnimationConfig(){var e;return{type:"spring",overshootClamping:this._overshootClamping,restDisplacementThreshold:this._restDisplacementThreshold,restSpeedThreshold:this._restSpeedThreshold,stiffness:this._stiffness,damping:this._damping,mass:this._mass,initialVelocity:(e=this._initialVelocity)!==null&&e!==void 0?e:this._lastVelocity,toValue:this._toValue,iterations:this.__iterations,platformConfig:this._platformConfig}}start(e,t,r,a,o){if(this.__active=!0,this._startPosition=e,this._lastPosition=this._startPosition,this._onUpdate=t,this.__onEnd=r,this._lastTime=Date.now(),this._frameTime=0,a instanceof Lm){var u=a.getInternalState();this._lastPosition=u.lastPosition,this._lastVelocity=u.lastVelocity,this._initialVelocity=this._lastVelocity,this._lastTime=u.lastTime}var c=()=>{this._useNativeDriver?this.__startNativeAnimation(o):this.onUpdate()};this._delay?this._timeout=setTimeout(c,this._delay):c()}getInternalState(){return{lastPosition:this._lastPosition,lastVelocity:this._lastVelocity,lastTime:this._lastTime}}onUpdate(){var e=64,t=Date.now();t>this._lastTime+e&&(t=this._lastTime+e);var r=(t-this._lastTime)/1e3;this._frameTime+=r;var a=this._damping,o=this._mass,u=this._stiffness,c=-this._initialVelocity,h=a/(2*Math.sqrt(u*o)),f=Math.sqrt(u/o),g=f*Math.sqrt(1-h*h),y=this._toValue-this._startPosition,_=0,S=0,T=this._frameTime;if(h<1){var x=Math.exp(-h*f*T);_=this._toValue-x*((c+h*f*y)/g*Math.sin(g*T)+y*Math.cos(g*T)),S=h*f*x*(Math.sin(g*T)*(c+h*f*y)/g+y*Math.cos(g*T))-x*(Math.cos(g*T)*(c+h*f*y)-g*y*Math.sin(g*T))}else{var C=Math.exp(-f*T);_=this._toValue-C*(y+(c+f*y)*T),S=C*(c*(T*f-1)+T*y*(f*f))}if(this._lastTime=t,this._lastPosition=_,this._lastVelocity=S,this._onUpdate(_),!!this.__active){var I=!1;this._overshootClamping&&this._stiffness!==0&&(this._startPosition<this._toValue?I=_>this._toValue:I=_<this._toValue);var R=Math.abs(S)<=this._restSpeedThreshold,O=!0;if(this._stiffness!==0&&(O=Math.abs(this._toValue-_)<=this._restDisplacementThreshold),I||R&&O){this._stiffness!==0&&(this._lastPosition=this._toValue,this._lastVelocity=0,this._onUpdate(this._toValue)),this.__debouncedOnEnd({finished:!0});return}this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))}}stop(){super.stop(),this.__active=!1,clearTimeout(this._timeout),global.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}var T5=4,E5=.001,w5=1e-7,x5=10,sd=11,Ff=1/(sd-1),C5=typeof Float32Array=="function";function qA(n,e){return 1-3*e+3*n}function GA(n,e){return 3*e-6*n}function KA(n){return 3*n}function Vm(n,e,t){return((qA(e,t)*n+GA(e,t))*n+KA(e))*n}function $A(n,e,t){return 3*qA(e,t)*n*n+2*GA(e,t)*n+KA(e)}function R5(n,e,t,r,a){var o,u,c=0,h=e,f=t;do u=h+(f-h)/2,o=Vm(u,r,a)-n,o>0?f=u:h=u;while(Math.abs(o)>w5&&++c<x5);return u}function A5(n,e,t,r){for(var a=e,o=0;o<T5;++o){var u=$A(a,t,r);if(u===0)return a;var c=Vm(a,t,r)-n;a-=c/u}return a}function I5(n,e,t,r){if(!(n>=0&&n<=1&&t>=0&&t<=1))throw new Error("bezier x values must be in [0, 1] range");var a=C5?new Float32Array(sd):new Array(sd);if(n!==e||t!==r)for(var o=0;o<sd;++o)a[o]=Vm(o*Ff,n,t);function u(c){for(var h=0,f=1,g=sd-1;f!==g&&a[f]<=c;++f)h+=Ff;--f;var y=(c-a[f])/(a[f+1]-a[f]),_=h+y*Ff,S=$A(_,n,t);return S>=E5?A5(c,_,n,t):S===0?_:R5(c,h,h+Ff,n,t)}return function(h){return n===e&&t===r?h:h===0?0:h===1?1:Vm(u(h),e,r)}}var gv;class Pu{static step0(e){return e>0?1:0}static step1(e){return e>=1?1:0}static linear(e){return e}static ease(e){return gv||(gv=Pu.bezier(.42,0,1,1)),gv(e)}static quad(e){return e*e}static cubic(e){return e*e*e}static poly(e){return t=>Math.pow(t,e)}static sin(e){return 1-Math.cos(e*Math.PI/2)}static circle(e){return 1-Math.sqrt(1-e*e)}static exp(e){return Math.pow(2,10*(e-1))}static elastic(e){e===void 0&&(e=1);var t=e*Math.PI;return r=>1-Math.pow(Math.cos(r*Math.PI/2),3)*Math.cos(r*t)}static back(e){return e===void 0&&(e=1.70158),t=>t*t*((e+1)*t-e)}static bounce(e){if(e<1/2.75)return 7.5625*e*e;if(e<2/2.75){var t=e-.5454545454545454;return 7.5625*t*t+.75}if(e<2.5/2.75){var r=e-.8181818181818182;return 7.5625*r*r+.9375}var a=e-2.625/2.75;return 7.5625*a*a+.984375}static bezier(e,t,r,a){return I5(e,t,r,a)}static in(e){return e}static out(e){return t=>1-e(1-t)}static inOut(e){return t=>t<.5?e(t*2)/2:1-e((1-t)*2)/2}}var pv;function k5(){return pv||(pv=Pu.inOut(Pu.ease)),pv}class Qx extends Y0{constructor(e){var t,r,a,o,u;super(),this._toValue=e.toValue,this._easing=(t=e.easing)!==null&&t!==void 0?t:k5(),this._duration=(r=e.duration)!==null&&r!==void 0?r:500,this._delay=(a=e.delay)!==null&&a!==void 0?a:0,this.__iterations=(o=e.iterations)!==null&&o!==void 0?o:1,this._useNativeDriver=qu(e),this._platformConfig=e.platformConfig,this.__isInteraction=(u=e.isInteraction)!==null&&u!==void 0?u:!this._useNativeDriver}__getNativeAnimationConfig(){for(var e=16.666666666666668,t=[],r=Math.round(this._duration/e),a=0;a<r;a++)t.push(this._easing(a/r));return t.push(this._easing(1)),{type:"frames",frames:t,toValue:this._toValue,iterations:this.__iterations,platformConfig:this._platformConfig}}start(e,t,r,a,o){this.__active=!0,this._fromValue=e,this._onUpdate=t,this.__onEnd=r;var u=()=>{this._duration===0&&!this._useNativeDriver?(this._onUpdate(this._toValue),this.__debouncedOnEnd({finished:!0})):(this._startTime=Date.now(),this._useNativeDriver?this.__startNativeAnimation(o):this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this)))};this._delay?this._timeout=setTimeout(u,this._delay):u()}onUpdate(){var e=Date.now();if(e>=this._startTime+this._duration){this._duration===0?this._onUpdate(this._toValue):this._onUpdate(this._fromValue+this._easing(1)*(this._toValue-this._fromValue)),this.__debouncedOnEnd({finished:!0});return}this._onUpdate(this._fromValue+this._easing((e-this._startTime)/this._duration)*(this._toValue-this._fromValue)),this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this)))}stop(){super.stop(),this.__active=!1,clearTimeout(this._timeout),global.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}var O5=function(e,t){return new u5(e,t)},D5=function(e,t){return new m5(e,t)},N5=function(e,t){return new d5(e,t)},M5=function(e,t){return new f5(e,t)},P5=function(e,t){return new h5(e,t)},L5=function(e,t,r){return new c5(e,t,r)},X0=function(e,t){return e&&t.onComplete?function(){t.onComplete&&t.onComplete(...arguments),e&&e(...arguments)}:e||t.onComplete},J0=function(e,t,r){if(e instanceof $0){var a=Ee({},t),o=Ee({},t);for(var u in t){var c=t[u],h=c.x,f=c.y;h!==void 0&&f!==void 0&&(a[u]=h,o[u]=f)}var g=r(e.x,a),y=r(e.y,o);return jm([g,y],{stopTogether:!1})}else if(e instanceof Q0){var _=Ee({},t),S=Ee({},t),T=Ee({},t),x=Ee({},t);for(var C in t){var I=t[C],R=I.r,O=I.g,z=I.b,H=I.a;R!==void 0&&O!==void 0&&z!==void 0&&H!==void 0&&(_[C]=R,S[C]=O,T[C]=z,x[C]=H)}var F=r(e.r,_),N=r(e.g,S),D=r(e.b,T),V=r(e.a,x);return jm([F,N,D,V],{stopTogether:!1})}return null},V5=function n(e,t){var r=function(o,u,c){c=X0(c,u);var h=o,f=u;h.stopTracking(),u.toValue instanceof jt?h.track(new UA(h,u.toValue,Lm,f,c)):h.animate(new Lm(f),c)};return J0(e,t,n)||{start:function(o){r(e,t,o)},stop:function(){e.stopAnimation()},reset:function(){e.resetAnimation()},_startNativeLoop:function(o){var u=Ee(Ee({},t),{},{iterations:o});r(e,u)},_isUsingNativeDriver:function(){return t.useNativeDriver||!1}}},YA=function n(e,t){var r=function(o,u,c){c=X0(c,u);var h=o,f=u;h.stopTracking(),u.toValue instanceof jt?h.track(new UA(h,u.toValue,Qx,f,c)):h.animate(new Qx(f),c)};return J0(e,t,n)||{start:function(o){r(e,t,o)},stop:function(){e.stopAnimation()},reset:function(){e.resetAnimation()},_startNativeLoop:function(o){var u=Ee(Ee({},t),{},{iterations:o});r(e,u)},_isUsingNativeDriver:function(){return t.useNativeDriver||!1}}},j5=function n(e,t){var r=function(o,u,c){c=X0(c,u);var h=o,f=u;h.stopTracking(),h.animate(new p5(f),c)};return J0(e,t,n)||{start:function(o){r(e,t,o)},stop:function(){e.stopAnimation()},reset:function(){e.resetAnimation()},_startNativeLoop:function(o){var u=Ee(Ee({},t),{},{iterations:o});r(e,u)},_isUsingNativeDriver:function(){return t.useNativeDriver||!1}}},QA=function(e){var t=0;return{start:function(a){var o=function u(c){if(!c.finished){a&&a(c);return}if(t++,t===e.length){t=0,a&&a(c);return}e[t].start(u)};e.length===0?a&&a({finished:!0}):e[t].start(o)},stop:function(){t<e.length&&e[t].stop()},reset:function(){e.forEach((a,o)=>{o<=t&&a.reset()}),t=0},_startNativeLoop:function(){throw new Error("Loops run using the native driver cannot contain Animated.sequence animations")},_isUsingNativeDriver:function(){return!1}}},jm=function(e,t){var r=0,a={},o=!(t&&t.stopTogether===!1),u={start:function(h){if(r===e.length){h&&h({finished:!0});return}e.forEach((f,g)=>{var y=function(S){if(a[g]=!0,r++,r===e.length){r=0,h&&h(S);return}!S.finished&&o&&u.stop()};f?f.start(y):y({finished:!0})})},stop:function(){e.forEach((h,f)=>{!a[f]&&h.stop(),a[f]=!0})},reset:function(){e.forEach((h,f)=>{h.reset(),a[f]=!1,r=0})},_startNativeLoop:function(){throw new Error("Loops run using the native driver cannot contain Animated.parallel animations")},_isUsingNativeDriver:function(){return!1}};return u},XA=function(e){return YA(new qt(0),{toValue:0,delay:e,duration:0,useNativeDriver:!1})},B5=function(e,t){return jm(t.map((r,a)=>QA([XA(e*a),r])))},z5=function(e,t){var r=t===void 0?{}:t,a=r.iterations,o=a===void 0?-1:a,u=r.resetBeforeIteration,c=u===void 0?!0:u,h=!1,f=0;return{start:function(y){var _=function S(T){T===void 0&&(T={finished:!0}),h||f===o||T.finished===!1?y&&y(T):(f++,c&&e.reset(),e.start(S))};!e||o===0?y&&y({finished:!0}):e._isUsingNativeDriver()?e._startNativeLoop(o):_()},stop:function(){h=!0,e.stop()},reset:function(){f=0,h=!1,e.reset()},_startNativeLoop:function(){throw new Error("Loops run using the native driver cannot contain Animated.loop animations")},_isUsingNativeDriver:function(){return e._isUsingNativeDriver()}}};function F5(n,e){return n?n instanceof Nl?(n.__addListener(e),n):function(){typeof n=="function"&&n(...arguments),e(...arguments)}:e}function U5(n,e){n&&n instanceof Nl&&n.__removeListener(e)}var H5=function(e,t){var r=new Nl(e,t);return r.__isNative?r:r.__getHandler()};const ba={Value:qt,ValueXY:$0,Color:Q0,Interpolation:ki,Node:jt,decay:j5,timing:YA,spring:V5,add:O5,subtract:D5,divide:N5,multiply:M5,modulo:P5,diffClamp:L5,delay:XA,sequence:QA,parallel:jm,stagger:B5,loop:z5,event:H5,createAnimatedComponent:ko,attachNativeEvent:K0,forkEvent:F5,unforkEvent:U5,Event:Nl};var yv=!1;function Z0(n){return e=>{var t=e==null?e:function(){if(yv){console.warn("Ignoring recursive animation callback when running mock animations");return}yv=!0;try{e(...arguments)}finally{yv=!1}};n(t)}}var Ku={start:()=>{},stop:()=>{},reset:()=>{},_startNativeLoop:()=>{},_isUsingNativeDriver:()=>!1},eb=n=>Ee(Ee({},Ku),{},{start:Z0(e=>{n.forEach(t=>t.start()),e?.({finished:!0})})}),W5=function(e,t){var r=e;return Ee(Ee({},Ku),{},{start:Z0(a=>{r.setValue(t.toValue),a?.({finished:!0})})})},q5=function(e,t){var r=e;return Ee(Ee({},Ku),{},{start:Z0(a=>{r.setValue(t.toValue),a?.({finished:!0})})})},G5=function(e,t){return Ku},K5=function(e){return eb(e)},$5=function(e,t){return eb(e)},Y5=function(e){return Ku},Q5=function(e,t){return eb(t)},X5=function(e,t){var r=t===void 0?{}:t;return r.iterations,Ku};const J5={Value:qt,ValueXY:$0,Color:Q0,Interpolation:ki,Node:jt,decay:G5,timing:q5,spring:W5,add:ba.add,subtract:ba.subtract,divide:ba.divide,multiply:ba.multiply,modulo:ba.modulo,diffClamp:ba.diffClamp,delay:Y5,sequence:K5,parallel:$5,stagger:Q5,loop:X5,event:ba.event,createAnimatedComponent:ko,attachNativeEvent:K0,forkEvent:ba.forkEvent,unforkEvent:ba.unforkEvent,Event:Nl};var Z5=an.isTesting?J5:ba;const wn=Ee({FlatList:Lj,Image:$j,ScrollView:Qj,SectionList:r5,Text:o5,View:l5},Z5);function e6(){return Gt&&window.matchMedia!=null?window.matchMedia("(prefers-color-scheme: dark)"):null}var pu=e6(),Uf=new WeakMap,Xx={getColorScheme(){return pu&&pu.matches?"dark":"light"},addChangeListener(n){var e=Uf.get(n);e||(e=r=>{var a=r.matches;n({colorScheme:a?"dark":"light"})},Uf.set(n,e)),pu&&pu.addListener(e);function t(){var r=Uf.get(n);pu&&r&&pu.removeListener(r),Uf.delete(n)}return{remove:t}}},t6=E.createContext(null),tb=E.forwardRef((n,e)=>{var t=n.children,r=n.WrapperComponent,a=E.createElement(W,{children:t,key:1,style:Jx.appContainer});return r&&(a=E.createElement(r,null,a)),E.createElement(t6.Provider,{value:n.rootTag},E.createElement(W,{ref:e,style:Jx.appContainer},a))});tb.displayName="AppContainer";var Jx=Ne.create({appContainer:{flex:1,pointerEvents:"box-none"}});function n6(n,e,t,r){var a=r.hydrate,o=r.initialProps,u=r.rootTag,c=a?rL:iL;return Te(u,"Expect to have a valid rootTag, instead got ",u),c(En.createElement(tb,{WrapperComponent:e,ref:t,rootTag:u},En.createElement(n,o)),u)}function r6(n,e,t){var r=En.createElement(tb,{WrapperComponent:t,rootTag:{}},En.createElement(n,e)),a=o=>{var u=Ne.getSheet();return En.createElement("style",Mt({},o,{dangerouslySetInnerHTML:{__html:u.textContent},id:u.id}))};return{element:r,getStyleElement:a}}var Zx={},is={},vv=n=>n(),$c;class Dd{static getAppKeys(){return Object.keys(is)}static getApplication(e,t){return Te(is[e]&&is[e].getApplication,"Application "+e+" has not been registered. This is either due to an import error during initialization or failure to call AppRegistry.registerComponent."),is[e].getApplication(t)}static registerComponent(e,t){return is[e]={getApplication:r=>r6(vv(t),r?r.initialProps:Zx,$c&&$c(r)),run:r=>n6(vv(t),$c&&$c(r),r.callback,{hydrate:r.hydrate||!1,initialProps:r.initialProps||Zx,mode:r.mode||"concurrent",rootTag:r.rootTag})},e}static registerConfig(e){e.forEach(t=>{var r=t.appKey,a=t.component,o=t.run;o?Dd.registerRunnable(r,o):(Te(a,"No component provider passed in"),Dd.registerComponent(r,a))})}static registerRunnable(e,t){return is[e]={run:t},e}static runApplication(e,t){return Te(is[e]&&is[e].run,'Application "'+e+'" has not been registered. This is either due to an import error during initialization or failure to call AppRegistry.registerComponent.'),is[e].run(t)}static setComponentProviderInstrumentationHook(e){vv=e}static setWrapperComponentProvider(e){$c=e}static unmountApplicationComponentAtRootTag(e){aL(e)}}var JA=Gt&&!document.hasOwnProperty("hidden")&&document.hasOwnProperty("webkitHidden"),i6=["change","memoryWarning"],a6=JA?"webkitvisibilitychange":"visibilitychange",ZA=JA?"webkitVisibilityState":"visibilityState",_v={BACKGROUND:"background",ACTIVE:"active"},Yc=null;class go{static get currentState(){if(!go.isAvailable)return _v.ACTIVE;switch(document[ZA]){case"hidden":case"prerender":case"unloaded":return _v.BACKGROUND;default:return _v.ACTIVE}}static addEventListener(e,t){if(go.isAvailable&&(Te(i6.indexOf(e)!==-1,'Trying to subscribe to unknown event: "%s"',e),e==="change"))return Yc||(Yc=new W0,document.addEventListener(a6,()=>{Yc&&Yc.emit("change",go.currentState)},!1)),Yc.addListener(e,t)}}go.isAvailable=Gt&&!!document[ZA];var nb={isVisible(){return!1},addListener(){return{remove:()=>{}}},dismiss(){kA()},removeAllListeners(){},removeListener(){}},eC=n=>{"vibrate"in window.navigator&&window.navigator.vibrate(n)},tC={cancel(){eC(0)},vibrate(n){n===void 0&&(n=400),eC(n)}},s6=["animating","color","hidesWhenStopped","size","style"],nC=n=>E.createElement("circle",{cx:"16",cy:"16",fill:"none",r:"14",strokeWidth:"4",style:n}),Kd=E.forwardRef((n,e)=>{var t=n.animating,r=t===void 0?!0:t,a=n.color,o=a===void 0?"#1976D2":a,u=n.hidesWhenStopped,c=u===void 0?!0:u,h=n.size,f=h===void 0?"small":h,g=n.style,y=An(n,s6),_=E.createElement("svg",{height:"100%",viewBox:"0 0 32 32",width:"100%"},nC({stroke:o,opacity:.2}),nC({stroke:o,strokeDasharray:80,strokeDashoffset:60}));return E.createElement(W,Mt({},y,{"aria-valuemax":1,"aria-valuemin":0,ref:e,role:"progressbar",style:[Hf.container,g]}),E.createElement(W,{children:_,style:[typeof f=="number"?{height:f,width:f}:o6[f],Hf.animation,!r&&Hf.animationPause,!r&&c&&Hf.hidesWhenStopped]}))});Kd.displayName="ActivityIndicator";var Hf=Ne.create({container:{alignItems:"center",justifyContent:"center"},hidesWhenStopped:{visibility:"hidden"},animation:{animationDuration:"0.75s",animationKeyframes:[{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}],animationTimingFunction:"linear",animationIterationCount:"infinite"},animationPause:{animationPlayState:"paused"}}),o6=Ne.create({small:{width:20,height:20},large:{width:36,height:36}}),rC="DELAY",Yi="ERROR",iC="LONG_PRESS_DETECTED",br="NOT_RESPONDER",Lu="RESPONDER_ACTIVE_LONG_PRESS_START",mg="RESPONDER_ACTIVE_PRESS_START",B_="RESPONDER_INACTIVE_PRESS_START",l6="RESPONDER_GRANT",dm="RESPONDER_RELEASE",eI="RESPONDER_TERMINATED",aC=Object.freeze({NOT_RESPONDER:{DELAY:Yi,RESPONDER_GRANT:B_,RESPONDER_RELEASE:Yi,RESPONDER_TERMINATED:Yi,LONG_PRESS_DETECTED:Yi},RESPONDER_INACTIVE_PRESS_START:{DELAY:mg,RESPONDER_GRANT:Yi,RESPONDER_RELEASE:br,RESPONDER_TERMINATED:br,LONG_PRESS_DETECTED:Yi},RESPONDER_ACTIVE_PRESS_START:{DELAY:Yi,RESPONDER_GRANT:Yi,RESPONDER_RELEASE:br,RESPONDER_TERMINATED:br,LONG_PRESS_DETECTED:Lu},RESPONDER_ACTIVE_LONG_PRESS_START:{DELAY:Yi,RESPONDER_GRANT:Yi,RESPONDER_RELEASE:br,RESPONDER_TERMINATED:br,LONG_PRESS_DETECTED:Lu},ERROR:{DELAY:br,RESPONDER_GRANT:B_,RESPONDER_RELEASE:br,RESPONDER_TERMINATED:br,LONG_PRESS_DETECTED:br}}),tI=n=>n.getAttribute("role"),z_=n=>n.tagName.toLowerCase(),sC=n=>n===mg||n===Lu,hm=n=>tI(n)==="button",oC=n=>n===B_||n===mg||n===Lu,u6=n=>n===eI||n===dm,lC=n=>{var e=n.key,t=n.target,r=e===" "||e==="Spacebar",a=z_(t)==="button"||hm(t);return e==="Enter"||r&&a},c6=450,d6=50;class h6{constructor(e){this._eventHandlers=null,this._isPointerTouch=!1,this._longPressDelayTimeout=null,this._longPressDispatched=!1,this._pressDelayTimeout=null,this._pressOutDelayTimeout=null,this._touchState=br,this._responderElement=null,this.configure(e)}configure(e){this._config=e}reset(){this._cancelLongPressDelayTimeout(),this._cancelPressDelayTimeout(),this._cancelPressOutDelayTimeout()}getEventHandlers(){return this._eventHandlers==null&&(this._eventHandlers=this._createEventHandlers()),this._eventHandlers}_createEventHandlers(){var e=(a,o)=>{a.persist(),this._cancelPressOutDelayTimeout(),this._longPressDispatched=!1,this._selectionTerminated=!1,this._touchState=br,this._isPointerTouch=a.nativeEvent.type==="touchstart",this._receiveSignal(l6,a);var u=bv(this._config.delayPressStart,0,d6);o!==!1&&u>0?this._pressDelayTimeout=setTimeout(()=>{this._receiveSignal(rC,a)},u):this._receiveSignal(rC,a);var c=bv(this._config.delayLongPress,10,c6);this._longPressDelayTimeout=setTimeout(()=>{this._handleLongPress(a)},c+u)},t=a=>{this._receiveSignal(dm,a)},r=a=>{var o=this._config.onPress,u=a.target;if(this._touchState!==br&&lC(a)){t(a),document.removeEventListener("keyup",r);var c=u.getAttribute("role"),h=z_(u),f=c==="link"||h==="a"||h==="button"||h==="input"||h==="select"||h==="textarea",g=this._responderElement===u;o!=null&&!f&&g&&o(a),this._responderElement=null}};return{onStartShouldSetResponder:a=>{var o=this._config.disabled;return o&&hm(a.currentTarget)&&a.stopPropagation(),o==null?!0:!o},onKeyDown:a=>{var o=this._config.disabled,u=a.key,c=a.target;if(!o&&lC(a)){this._touchState===br&&(e(a,!1),this._responderElement=c,document.addEventListener("keyup",r));var h=u===" "||u==="Spacebar",f=tI(c),g=f==="button"||f==="menuitem";h&&g&&z_(c)!=="button"&&a.preventDefault(),a.stopPropagation()}},onResponderGrant:a=>e(a),onResponderMove:a=>{this._config.onPressMove!=null&&this._config.onPressMove(a);var o=uC(a);if(this._touchActivatePosition!=null){var u=this._touchActivatePosition.pageX-o.pageX,c=this._touchActivatePosition.pageY-o.pageY;Math.hypot(u,c)>10&&this._cancelLongPressDelayTimeout()}},onResponderRelease:a=>t(a),onResponderTerminate:a=>{a.nativeEvent.type==="selectionchange"&&(this._selectionTerminated=!0),this._receiveSignal(eI,a)},onResponderTerminationRequest:a=>{var o=this._config,u=o.cancelable,c=o.disabled,h=o.onLongPress;return!c&&h!=null&&this._isPointerTouch&&a.nativeEvent.type==="contextmenu"?!1:u??!0},onClick:a=>{var o=this._config,u=o.disabled,c=o.onPress;u?hm(a.currentTarget)&&a.stopPropagation():(a.stopPropagation(),this._longPressDispatched||this._selectionTerminated?a.preventDefault():c!=null&&a.altKey===!1&&c(a))},onContextMenu:a=>{var o=this._config,u=o.disabled,c=o.onLongPress;u?hm(a.currentTarget)&&a.stopPropagation():c!=null&&this._isPointerTouch&&!a.defaultPrevented&&(a.preventDefault(),a.stopPropagation())}}}_receiveSignal(e,t){var r=this._touchState,a=null;aC[r]!=null&&(a=aC[r][e]),!(this._touchState===br&&e===dm)&&(a==null||a===Yi?console.error("PressResponder: Invalid signal "+e+" for state "+r+" on responder"):r!==a&&(this._performTransitionSideEffects(r,a,e,t),this._touchState=a))}_performTransitionSideEffects(e,t,r,a){if(u6(r)&&(setTimeout(()=>{this._isPointerTouch=!1},0),this._touchActivatePosition=null,this._cancelLongPressDelayTimeout()),oC(e)&&r===iC){var o=this._config.onLongPress;o!=null&&a.nativeEvent.key==null&&(o(a),this._longPressDispatched=!0)}var u=sC(e),c=sC(t);if(!u&&c?this._activate(a):u&&!c&&this._deactivate(a),oC(e)&&r===dm){var h=this._config,f=h.onLongPress,g=h.onPress;if(g!=null){var y=f!=null&&e===Lu;y||!c&&!u&&(this._activate(a),this._deactivate(a))}}this._cancelPressDelayTimeout()}_activate(e){var t=this._config,r=t.onPressChange,a=t.onPressStart,o=uC(e);this._touchActivatePosition={pageX:o.pageX,pageY:o.pageY},a?.(e),r?.(!0)}_deactivate(e){var t=this._config,r=t.onPressChange,a=t.onPressEnd;function o(){a?.(e),r?.(!1)}var u=bv(this._config.delayPressEnd);u>0?this._pressOutDelayTimeout=setTimeout(()=>{o()},u):o()}_handleLongPress(e){(this._touchState===mg||this._touchState===Lu)&&this._receiveSignal(iC,e)}_cancelLongPressDelayTimeout(){this._longPressDelayTimeout!=null&&(clearTimeout(this._longPressDelayTimeout),this._longPressDelayTimeout=null)}_cancelPressDelayTimeout(){this._pressDelayTimeout!=null&&(clearTimeout(this._pressDelayTimeout),this._pressDelayTimeout=null)}_cancelPressOutDelayTimeout(){this._pressOutDelayTimeout!=null&&(clearTimeout(this._pressOutDelayTimeout),this._pressOutDelayTimeout=null)}}function bv(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=0),Math.max(e,n??t)}function uC(n){var e=n.nativeEvent,t=e.changedTouches,r=e.touches;return r!=null&&r.length>0?r[0]:t!=null&&t.length>0?t[0]:n.nativeEvent}function nI(n,e){var t=E.useRef(null);t.current==null&&(t.current=new h6(e));var r=t.current;return E.useEffect(()=>{r.configure(e)},[e,r]),E.useEffect(()=>()=>{r.reset()},[r]),E.useDebugValue(e),r.getEventHandlers()}var f6=["activeOpacity","delayPressIn","delayPressOut","delayLongPress","disabled","focusable","onLongPress","onPress","onPressIn","onPressOut","rejectResponderTermination","style"];function m6(n,e){var t=n.activeOpacity,r=n.delayPressIn,a=n.delayPressOut,o=n.delayLongPress,u=n.disabled,c=n.focusable,h=n.onLongPress,f=n.onPress,g=n.onPressIn,y=n.onPressOut,_=n.rejectResponderTermination,S=n.style,T=An(n,f6),x=E.useRef(null),C=Wu(e,x),I=E.useState("0s"),R=I[0],O=I[1],z=E.useState(null),H=z[0],F=z[1],N=E.useCallback((q,M)=>{F(q),O(M?M/1e3+"s":"0s")},[F,O]),D=E.useCallback(q=>{N(t??.2,q)},[t,N]),V=E.useCallback(q=>{N(null,q)},[N]),B=E.useMemo(()=>({cancelable:!_,disabled:u,delayLongPress:o,delayPressStart:r,delayPressEnd:a,onLongPress:h,onPress:f,onPressStart(q){var M=q.dispatchConfig!=null?q.dispatchConfig.registrationName==="onResponderGrant":q.type==="keydown";D(M?0:150),g?.(q)},onPressEnd(q){V(250),y?.(q)}}),[o,r,a,u,h,f,g,y,_,D,V]),L=nI(x,B);return E.createElement(W,Mt({},T,L,{accessibilityDisabled:u,focusable:!u&&c!==!1,pointerEvents:u?"box-none":void 0,ref:C,style:[cC.root,!u&&cC.actionable,S,H!=null&&{opacity:H},{transitionDuration:R}]}))}var cC=Ne.create({root:{transitionProperty:"opacity",transitionDuration:"0.15s",userSelect:"none"},actionable:{cursor:"pointer",touchAction:"manipulation"}}),_e=E.memo(E.forwardRef(m6));_e.displayName="TouchableOpacity";var g6=vA();function p6(n){var e=n.children,t=E.useRef(null);if(Gt&&!t.current){var r=document.createElement("div");r&&document.body&&(document.body.appendChild(r),t.current=r)}return E.useEffect(()=>{if(Gt)return()=>{document.body&&t.current&&(document.body.removeChild(t.current),t.current=null)}},[]),t.current&&Gt?g6.createPortal(e,t.current):null}var dC=250;function y6(n,e){return n==="slide"?e?_6:b6:n==="fade"?e?S6:T6:e?Tr.container:Tr.hidden}function v6(n){var e=n.animationType,t=n.children,r=n.onDismiss,a=n.onShow,o=n.visible,u=E.useState(!1),c=u[0],h=u[1],f=E.useRef(!1),g=E.useRef(!1),y=e&&e!=="none",_=E.useCallback(S=>{S&&S.currentTarget!==S.target||(o?a&&a():h(!1))},[a,o]);return E.useEffect(()=>{g.current&&!c&&r&&r(),g.current=c},[c,r]),E.useEffect(()=>{o&&h(!0),o!==f.current&&!y&&_(),f.current=o},[y,o,_]),c||o?Dl("div",{style:c?y6(e,o):Tr.hidden,onAnimationEnd:_,children:t}):null}var Tr=Ne.create({container:{position:"fixed",top:0,right:0,bottom:0,left:0,zIndex:9999},animatedIn:{animationDuration:dC+"ms",animationTimingFunction:"cubic-bezier(0.215, 0.61, 0.355, 1)"},animatedOut:{pointerEvents:"none",animationDuration:dC+"ms",animationTimingFunction:"cubic-bezier(0.47, 0, 0.745, 0.715)"},fadeIn:{opacity:1,animationKeyframes:{"0%":{opacity:0},"100%":{opacity:1}}},fadeOut:{opacity:0,animationKeyframes:{"0%":{opacity:1},"100%":{opacity:0}}},slideIn:{transform:"translateY(0%)",animationKeyframes:{"0%":{transform:"translateY(100%)"},"100%":{transform:"translateY(0%)"}}},slideOut:{transform:"translateY(100%)",animationKeyframes:{"0%":{transform:"translateY(0%)"},"100%":{transform:"translateY(100%)"}}},hidden:{opacity:0}}),_6=[Tr.container,Tr.animatedIn,Tr.slideIn],b6=[Tr.container,Tr.animatedOut,Tr.slideOut],S6=[Tr.container,Tr.animatedIn,Tr.fadeIn],T6=[Tr.container,Tr.animatedOut,Tr.fadeOut],E6=["active","children","onRequestClose","transparent"],w6=E.forwardRef((n,e)=>{var t=n.active,r=n.children,a=n.onRequestClose,o=n.transparent,u=An(n,E6);E.useEffect(()=>{if(Gt){var h=f=>{t&&f.key==="Escape"&&(f.stopPropagation(),a&&a())};return document.addEventListener("keyup",h,!1),()=>document.removeEventListener("keyup",h,!1)}},[t,a]);var c=E.useMemo(()=>[Wf.modal,o?Wf.modalTransparent:Wf.modalOpaque],[o]);return E.createElement(W,Mt({},u,{"aria-modal":!0,ref:e,role:t?"dialog":null,style:c}),E.createElement(W,{style:Wf.container},r))}),Wf=Ne.create({modal:{position:"fixed",top:0,right:0,bottom:0,left:0},modalTransparent:{backgroundColor:"transparent"},modalOpaque:{backgroundColor:"white"},container:{top:0,flex:1}}),hC=()=>Dl("div",{role:"none",tabIndex:0,style:C6.focusBracket});function rI(n){if(!Gt)return!1;try{n.focus()}catch{}return document.activeElement===n}function iI(n){for(var e=0;e<n.childNodes.length;e++){var t=n.childNodes[e];if(rI(t)||iI(t))return!0}return!1}function aI(n){for(var e=n.childNodes.length-1;e>=0;e--){var t=n.childNodes[e];if(rI(t)||aI(t))return!0}return!1}var x6=n=>{var e=n.active,t=n.children,r=E.useRef(),a=E.useRef({trapFocusInProgress:!1,lastFocusedElement:null});return E.useEffect(()=>{if(Gt){var o=()=>{if(!(r.current==null||a.current.trapFocusInProgress||!e)){try{if(a.current.trapFocusInProgress=!0,document.activeElement instanceof Node&&!r.current.contains(document.activeElement)){var u=iI(r.current);a.current.lastFocusedElement===document.activeElement&&(u=aI(r.current)),!u&&r.current!=null&&document.activeElement&&cs.focus(r.current)}}finally{a.current.trapFocusInProgress=!1}a.current.lastFocusedElement=document.activeElement}};return o(),document.addEventListener("focus",o,!0),()=>document.removeEventListener("focus",o,!0)}},[e]),E.useEffect(function(){if(Gt){var o=document.activeElement;return function(){o&&document.contains(o)&&cs.focus(o)}}},[]),E.createElement(E.Fragment,null,E.createElement(hC,null),E.createElement(W,{ref:r},t),E.createElement(hC,null))},C6=Ne.create({focusBracket:{outlineStyle:"none"}}),R6=["animationType","children","onDismiss","onRequestClose","onShow","transparent","visible"],A6=0,vl=[],Iu={};function sI(){if(vl.length!==0){var n=vl[vl.length-1];vl.forEach(e=>{e in Iu&&Iu[e](e===n)})}}function F_(n){n in Iu&&(Iu[n](!1),delete Iu[n]);var e=vl.indexOf(n);e!==-1&&(vl.splice(e,1),sI())}function I6(n,e){F_(n),vl.push(n),Iu[n]=e,sI()}var hs=E.forwardRef((n,e)=>{var t=n.animationType,r=n.children,a=n.onDismiss,o=n.onRequestClose,u=n.onShow,c=n.transparent,h=n.visible,f=h===void 0?!0:h,g=An(n,R6),y=E.useMemo(()=>A6++,[]),_=E.useState(!1),S=_[0],T=_[1],x=E.useCallback(()=>{F_(y),a&&a()},[y,a]),C=E.useCallback(()=>{I6(y,T),u&&u()},[y,u]);return E.useEffect(()=>()=>F_(y),[y]),E.createElement(p6,null,E.createElement(v6,{animationType:t,onDismiss:x,onShow:C,visible:f},E.createElement(x6,{active:S},E.createElement(w6,Mt({},g,{active:S,onRequestClose:o,ref:e,transparent:c}),r))))}),k6=()=>{};function O6(){var n=!1;if(Gt)try{var e={};Object.defineProperty(e,"passive",{get(){return n=!0,!1}}),window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return n}var D6=O6();function N6(n){return n==null?!1:D6?n:!!n.capture}function M6(){return this.cancelBubble}function P6(){return this.defaultPrevented}function L6(n){return n.nativeEvent=n,n.persist=k6,n.isDefaultPrevented=P6,n.isPropagationStopped=M6,n}function lr(n,e,t,r){var a=N6(r),o=u=>t(L6(u));return n.addEventListener(e,o,a),function(){n?.removeEventListener(e,o,a)}}var V6=()=>typeof window<"u"&&window.PointerEvent!=null,Qi="keyboard",Lr="keyboard",od,ld,ud=!1,j6=new Set,_d="keyboard",Qc="mouse",Sv="touch",B6="blur",oI="contextmenu",z6="focus",F6="keydown",lI="mousedown",uI="mousemove",cI="mouseup",dI="pointerdown",hI="pointermove",fI="scroll",mI="selectionchange",gI="touchcancel",pI="touchmove",yI="touchstart",U6="visibilitychange",fC={passive:!0},ri={capture:!0,passive:!0};function vI(){(od!=null||ld!=null)&&(od!=null&&(Lr=od,od=null),ld!=null&&(Qi=ld,ld=null),oo())}function H6(){od=Lr,ld=Qi,Qi=_d,Lr=_d,oo(),ud=!1}function W6(){vI()}function q6(n){n.metaKey||n.altKey||n.ctrlKey||Lr!==_d&&(Lr=_d,Qi=_d,oo())}function G6(){document.visibilityState!=="hidden"&&vI()}function Ki(n){var e=n.type;if(V6()){if(e===dI){Qi!==n.pointerType&&(Lr=n.pointerType,Qi=n.pointerType,oo());return}if(e===hI){Lr!==n.pointerType&&(Lr=n.pointerType,oo());return}}else{if(ud||(e===lI&&Qi!==Qc&&(Lr=Qc,Qi=Qc,oo()),e===uI&&Lr!==Qc&&(Lr=Qc,oo())),e===yI){ud=!0,n.touches&&n.touches.length>1&&(ud=!1),Qi!==Sv&&(Lr=Sv,Qi=Sv,oo());return}(e===oI||e===cI||e===mI||e===fI||e===gI||e===pI)&&(ud=!1)}}Gt&&(lr(window,B6,H6,fC),lr(window,z6,W6,fC),lr(document,F6,q6,ri),lr(document,U6,G6,ri),lr(document,dI,Ki,ri),lr(document,hI,Ki,ri),lr(document,oI,Ki,ri),lr(document,lI,Ki,ri),lr(document,uI,Ki,ri),lr(document,cI,Ki,ri),lr(document,gI,Ki,ri),lr(document,pI,Ki,ri),lr(document,yI,Ki,ri),lr(document,mI,Ki,ri),lr(document,fI,Ki,ri));function oo(){var n={activeModality:Qi,modality:Lr};j6.forEach(e=>{e(n)})}function K6(){return Lr}function Xc(n,e){var t=M_(()=>new Map),r=M_(()=>(a,o)=>{var u=t.get(a);u?.(),o==null&&(t.delete(a),o=()=>{});var c=lr(a,n,o,e);return t.set(a,c),c});return El(()=>()=>{t.forEach(a=>{a()}),t.clear()},[t]),r}var $6={},Jc={passive:!0},mC="react-gui:hover:lock",gC="react-gui:hover:unlock",Y6=()=>typeof window<"u"&&window.PointerEvent!=null;function pC(n,e,t){var r=document.createEvent("CustomEvent"),a=$6,o=a.bubbles,u=o===void 0?!0:o,c=a.cancelable,h=c===void 0?!0:c,f=a.detail;r.initCustomEvent(e,u,h,f),n.dispatchEvent(r)}function Tv(n){var e=n.pointerType;return e??K6()}function Q6(n,e){var t=e.contain,r=e.disabled,a=e.onHoverStart,o=e.onHoverChange,u=e.onHoverUpdate,c=e.onHoverEnd,h=Y6(),f=Xc(h?"pointermove":"mousemove",Jc),g=Xc(h?"pointerenter":"mouseenter",Jc),y=Xc(h?"pointerleave":"mouseleave",Jc),_=Xc(mC,Jc),S=Xc(gC,Jc);El(()=>{var T=n.current;if(T!==null){var x=function(H){c?.(H),o?.(!1),f(T,null),y(T,null)},C=function(H){var F=n.current;F!=null&&Tv(H)!=="touch"&&(t&&pC(F,gC),x(H))},I=function(H){Tv(H)!=="touch"&&u!=null&&(H.x==null&&(H.x=H.clientX),H.y==null&&(H.y=H.clientY),u(H))},R=function(H){a?.(H),o?.(!0),u!=null&&f(T,r?null:I),y(T,r?null:C)},O=function(H){var F=n.current;if(F!=null&&Tv(H)!=="touch"){t&&pC(F,mC),R(H);var N=function(B){B.target!==F&&x(H)},D=function(B){B.target!==F&&R(H)};_(F,r?null:N),S(F,r?null:D)}};g(T,r?null:O)}},[g,f,y,_,S,t,r,a,o,u,c,n])}var X6=["children","delayLongPress","delayPressIn","delayPressOut","disabled","onBlur","onContextMenu","onFocus","onHoverIn","onHoverOut","onKeyDown","onLongPress","onPress","onPressMove","onPressIn","onPressOut","style","tabIndex","testOnly_hovered","testOnly_pressed"];function J6(n,e){var t=n.children,r=n.delayLongPress,a=n.delayPressIn,o=n.delayPressOut,u=n.disabled,c=n.onBlur,h=n.onContextMenu,f=n.onFocus,g=n.onHoverIn,y=n.onHoverOut,_=n.onKeyDown,S=n.onLongPress,T=n.onPress,x=n.onPressMove,C=n.onPressIn,I=n.onPressOut,R=n.style,O=n.tabIndex,z=n.testOnly_hovered,H=n.testOnly_pressed,F=An(n,X6),N=Ev(z===!0),D=N[0],V=N[1],B=Ev(!1),L=B[0],q=B[1],M=Ev(H===!0),ue=M[0],me=M[1],Y=E.useRef(null),se=Wu(e,Y),ge=E.useMemo(()=>({delayLongPress:r,delayPressStart:a,delayPressEnd:o,disabled:u,onLongPress:S,onPress:T,onPressChange:me,onPressStart:C,onPressMove:x,onPressEnd:I}),[r,a,o,u,S,T,C,x,I,me]),ee=nI(Y,ge),ie=ee.onContextMenu,G=ee.onKeyDown;Q6(Y,{contain:!0,disabled:u,onHoverChange:V,onHoverStart:g,onHoverEnd:y});var X={hovered:D,focused:L,pressed:ue},ye=E.useCallback(Ve=>{Ve.nativeEvent.target===Y.current&&(q(!1),c?.(Ve))},[Y,q,c]),be=E.useCallback(Ve=>{Ve.nativeEvent.target===Y.current&&(q(!0),f?.(Ve))},[Y,q,f]),Ie=E.useCallback(Ve=>{ie?.(Ve),h?.(Ve)},[h,ie]),De=E.useCallback(Ve=>{G?.(Ve),_?.(Ve)},[_,G]),ke;return O!==void 0?ke=O:ke=u?-1:0,E.createElement(W,Mt({},F,ee,{"aria-disabled":u,onBlur:ye,onContextMenu:Ie,onFocus:be,onKeyDown:De,ref:se,style:[u?yC.disabled:yC.active,typeof R=="function"?R(X):R],tabIndex:ke}),typeof t=="function"?t(X):t)}function Ev(n){var e=E.useState(!1),t=e[0],r=e[1];return[t||n,r]}var yC=Ne.create({active:{cursor:"pointer",touchAction:"manipulation"},disabled:{pointerEvents:"box-none"}}),_I=E.memo(E.forwardRef(J6));_I.displayName="Pressable";var Z6=["style"],qf=(function(){return Gt&&window.CSS&&window.CSS.supports&&window.CSS.supports("top: constant(safe-area-inset-top)")?"constant":"env"})(),Zn=E.forwardRef((n,e)=>{var t=n.style,r=An(n,Z6);return E.createElement(W,Mt({},r,{ref:e,style:[eB.root,t]}))});Zn.displayName="SafeAreaView";var eB=Ne.create({root:{paddingTop:qf+"(safe-area-inset-top)",paddingRight:qf+"(safe-area-inset-right)",paddingBottom:qf+"(safe-area-inset-bottom)",paddingLeft:qf+"(safe-area-inset-left)"}}),$d=()=>{};function Pn(){return null}Pn.setBackgroundColor=$d;Pn.setBarStyle=$d;Pn.setHidden=$d;Pn.setNetworkActivityIndicatorVisible=$d;Pn.setTranslucent=$d;var tB=/^[+-]?\d*(?:\.\d+)?(?:[Ee][+-]?\d+)?(%|\w*)/,nB=n=>n.match(tB)[1],rB=n=>!isNaN(parseFloat(n))&&isFinite(n),wv=(n,e)=>{if(typeof n=="string"){var t=parseFloat(n)*e,r=nB(n);return""+t+r}else if(rB(n))return n*e},iB=["aria-label","accessibilityLabel","activeThumbColor","activeTrackColor","disabled","onValueChange","style","thumbColor","trackColor","value"],aB={},rb="0px 1px 3px rgba(0,0,0,0.5)",sB=rb+", 0 0 0 10px rgba(0,0,0,0.1)",oB="#A3D3CF",lB="#939393",vC="#D5D5D5",uB="#009688",cB="#FAFAFA",_C="#BDBDBD",Bm=E.forwardRef((n,e)=>{var t=n["aria-label"],r=n.accessibilityLabel,a=n.activeThumbColor,o=n.activeTrackColor,u=n.disabled,c=u===void 0?!1:u,h=n.onValueChange,f=n.style,g=f===void 0?aB:f,y=n.thumbColor,_=n.trackColor,S=n.value,T=S===void 0?!1:S,x=An(n,iB),C=E.useRef(null);function I(ie){h?.(ie.nativeEvent.target.checked)}function R(ie){var G=ie.nativeEvent.type==="focus",X=G?sB:rb;C.current!=null&&(C.current.style.boxShadow=X)}var O=Ne.flatten(g),z=O.height,H=O.width,F=z||"20px",N=wv(F,2),D=H>N?H:N,V=wv(F,.5),B=(function(){return T===!0?_!=null&&typeof _=="object"?_.true:o??oB:_!=null&&typeof _=="object"?_.false:_??lB})(),L=T?a??uB:y??cB,q=F,M=q,ue=[fl.root,g,c&&fl.cursorDefault,{height:F,width:D}],me=(function(){return T===!0?typeof o=="string"&&o!=null||typeof _=="object"&&_!=null&&_.true?B:vC:typeof _=="string"&&_!=null||typeof _=="object"&&_!=null&&_.false?B:vC})(),Y=(function(){return T===!0?a==null?_C:L:y==null?_C:L})(),se=[fl.track,{backgroundColor:c?me:B,borderRadius:V}],ge=[fl.thumb,T&&fl.thumbActive,{backgroundColor:c?Y:L,height:q,marginStart:T?wv(M,-1):0,width:M}],ee=Dl("input",{"aria-label":t||r,checked:T,disabled:c,onBlur:R,onChange:I,onFocus:R,ref:e,style:[fl.nativeControl,fl.cursorInherit],type:"checkbox",role:"switch"});return E.createElement(W,Mt({},x,{style:ue}),E.createElement(W,{style:se}),E.createElement(W,{ref:C,style:ge}),ee)});Bm.displayName="Switch";var fl=Ne.create({root:{cursor:"pointer",userSelect:"none"},cursorDefault:{cursor:"default"},cursorInherit:{cursor:"inherit"},track:Ee(Ee({forcedColorAdjust:"none"},Ne.absoluteFillObject),{},{height:"70%",margin:"auto",transitionDuration:"0.1s",width:"100%"}),thumb:{forcedColorAdjust:"none",alignSelf:"flex-start",borderRadius:"100%",boxShadow:rb,start:"0%",transform:"translateZ(0)",transitionDuration:"0.1s"},thumbActive:{insetInlineStart:"100%"},nativeControl:Ee(Ee({},Ne.absoluteFillObject),{},{height:"100%",margin:0,appearance:"none",padding:0,width:"100%"})}),dB=(n,e)=>{var t=n.selectionEnd,r=n.selectionStart,a=e.start,o=e.end;return a!==r||o!==t},bC=(n,e)=>{if(dB(n,e)){var t=e.start,r=e.end;try{n.setSelectionRange(t,r||t)}catch{}}},hB=Object.assign({},O0,D0,N0,M0,P0,L0,V0,j0,{autoCapitalize:!0,autoComplete:!0,autoCorrect:!0,autoFocus:!0,defaultValue:!0,disabled:!0,lang:!0,maxLength:!0,onChange:!0,onScroll:!0,placeholder:!0,pointerEvents:!0,readOnly:!0,rows:!0,spellCheck:!0,value:!0,type:!0}),fB=n=>B0(n,hB);function mB(n){return n.isComposing||n.keyCode===229}var xv=null,xn=E.forwardRef((n,e)=>{var t=n.autoCapitalize,r=t===void 0?"sentences":t,a=n.autoComplete,o=n.autoCompleteType,u=n.autoCorrect,c=u===void 0?!0:u,h=n.blurOnSubmit,f=n.caretHidden,g=n.clearTextOnFocus,y=n.dir,_=n.editable,S=n.enterKeyHint,T=n.inputMode,x=n.keyboardType,C=n.multiline,I=C===void 0?!1:C,R=n.numberOfLines,O=n.onBlur,z=n.onChange,H=n.onChangeText,F=n.onContentSizeChange,N=n.onFocus,D=n.onKeyPress,V=n.onLayout,B=n.onMoveShouldSetResponder,L=n.onMoveShouldSetResponderCapture,q=n.onResponderEnd,M=n.onResponderGrant,ue=n.onResponderMove,me=n.onResponderReject,Y=n.onResponderRelease,se=n.onResponderStart,ge=n.onResponderTerminate,ee=n.onResponderTerminationRequest,ie=n.onScrollShouldSetResponder,G=n.onScrollShouldSetResponderCapture,X=n.onSelectionChange,ye=n.onSelectionChangeShouldSetResponder,be=n.onSelectionChangeShouldSetResponderCapture,Ie=n.onStartShouldSetResponder,De=n.onStartShouldSetResponderCapture,ke=n.onSubmitEditing,Ve=n.placeholderTextColor,$e=n.readOnly,We=$e===void 0?!1:$e,gt=n.returnKeyType,xt=n.rows,le=n.secureTextEntry,Se=le===void 0?!1:le,Ct=n.selection,Rt=n.selectTextOnFocus,sn=n.showSoftInputOnFocus,mn=n.spellCheck,et,ve;if(T!=null)ve=T,T==="email"?et="email":T==="tel"?et="tel":T==="search"?et="search":T==="url"?et="url":et="text";else if(x!=null)switch(x){case"email-address":et="email";break;case"number-pad":case"numeric":ve="numeric";break;case"decimal-pad":ve="decimal";break;case"phone-pad":et="tel";break;case"search":case"web-search":et="search";break;case"url":et="url";break;default:et="text"}Se&&(et="password");var je=E.useRef({height:null,width:null}),Ze=E.useRef(null),Kt=E.useRef(null),Pt=E.useRef(!1);E.useEffect(()=>{Ze.current&&Kt.current&&bC(Ze.current,Kt.current),Pt.current=Se},[Se]);var Tt=E.useCallback(Re=>{if(I&&F&&Re!=null){var ft=Re.scrollHeight,zt=Re.scrollWidth;(ft!==je.current.height||zt!==je.current.width)&&(je.current.height=ft,je.current.width=zt,F({nativeEvent:{contentSize:{height:je.current.height,width:je.current.width}}}))}},[I,F]),gn=E.useMemo(()=>Re=>{Re!=null&&(Re.clear=function(){Re!=null&&(Re.value="")},Re.isFocused=function(){return Re!=null&&os.currentlyFocusedField()===Re},Tt(Re))},[Tt]);function Un(Re){os._currentlyFocusedNode=null,O&&(Re.nativeEvent.text=Re.target.value,O(Re))}function fr(Re){var ft=Re.target,zt=ft.value;Re.nativeEvent.text=zt,Tt(ft),z&&z(Re),H&&H(zt)}function Na(Re){var ft=Re.target;N&&(Re.nativeEvent.text=ft.value,N(Re)),ft!=null&&(os._currentlyFocusedNode=ft,g&&(ft.value=""),Rt&&(xv!=null&&clearTimeout(xv),xv=setTimeout(()=>{ft!=null&&document.activeElement===ft&&ft.select()},0)))}function Oi(Re){var ft=Re.target;Re.stopPropagation();var zt=!I,In=h??zt,wr=Re.nativeEvent,di=mB(wr);D&&D(Re),Re.key==="Enter"&&!Re.shiftKey&&!di&&!Re.isDefaultPrevented()&&((h||!I)&&ke&&(Re.preventDefault(),wr.text=Re.target.value,ke(Re)),In&&ft!=null&&setTimeout(()=>ft.blur(),0))}function na(Re){try{var ft=Re.target,zt=ft.selectionStart,In=ft.selectionEnd,wr={start:zt,end:In};X&&(Re.nativeEvent.selection=wr,Re.nativeEvent.text=Re.target.value,X(Re)),Pt.current===Se&&(Kt.current=wr)}catch{}}El(()=>{var Re=Ze.current;Re!=null&&Ct!=null&&bC(Re,Ct),document.activeElement===Re&&(os._currentlyFocusedNode=Re)},[Ze,Ct]);var Di=I?"textarea":"input";z0(Ze,V),H0(Ze,{onMoveShouldSetResponder:B,onMoveShouldSetResponderCapture:L,onResponderEnd:q,onResponderGrant:M,onResponderMove:ue,onResponderReject:me,onResponderRelease:Y,onResponderStart:se,onResponderTerminate:ge,onResponderTerminationRequest:ee,onScrollShouldSetResponder:ie,onScrollShouldSetResponderCapture:G,onSelectionChangeShouldSetResponder:ye,onSelectionChangeShouldSetResponderCapture:be,onStartShouldSetResponder:Ie,onStartShouldSetResponderCapture:De});var Hn=k0(),$t=Hn.direction,nt=fB(n);nt.autoCapitalize=r,nt.autoComplete=a||o||"on",nt.autoCorrect=c?"on":"off",nt.dir=y!==void 0?y:"auto",nt.enterKeyHint=S||gt,nt.inputMode=ve,nt.onBlur=Un,nt.onChange=fr,nt.onFocus=Na,nt.onKeyDown=Oi,nt.onSelect=na,nt.readOnly=We===!0||_===!1,nt.rows=I?xt??R:1,nt.spellCheck=mn??c,nt.style=[{"--placeholderTextColor":Ve},Cv.textinput$raw,Cv.placeholder,n.style,f&&Cv.caretHidden],nt.type=I?void 0:et,nt.virtualkeyboardpolicy=sn===!1?"manual":"auto";var kt=F0(nt),ra=Wu(Ze,kt,gn,e);nt.ref=ra;var jr=n.lang!=null?dg(n.lang):null,ia=n.dir||jr,Wn=ia||$t,Br=Dl(Di,nt,{writingDirection:Wn});return Br});xn.displayName="TextInput";xn.State=os;var Cv=Ne.create({textinput$raw:{MozAppearance:"textfield",WebkitAppearance:"none",backgroundColor:"transparent",border:"0 solid black",borderRadius:0,boxSizing:"border-box",font:"14px System",margin:0,padding:0,resize:"none"},placeholder:{placeholderTextColor:"var(--placeholderTextColor)"},caretHidden:{caretColor:"transparent"}});function gB(){var n=E.useState(Xx.getColorScheme()),e=n[0],t=n[1];return E.useEffect(()=>{function r(u){t(u.colorScheme)}var a=Xx.addChangeListener(r),o=a.remove;return o}),e}var Rv={exports:{}},Zc={};var SC;function pB(){if(SC)return Zc;SC=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:u,ref:a!==void 0?a:null,props:o}}return Zc.Fragment=e,Zc.jsx=t,Zc.jsxs=t,Zc}var TC;function yB(){return TC||(TC=1,Rv.exports=pB()),Rv.exports}var v=yB();const Av={WebkitTransition:"webkitTransitionEnd",Transition:"transitionEnd",MozTransition:"transitionend",MSTransition:"msTransitionEnd",OTransition:"oTransitionEnd"};function vB({children:n,style:e,onInsetsChange:t}){return E.useEffect(()=>{if(typeof document>"u")return;const r=bB();document.body.appendChild(r);const a=()=>{const{paddingTop:o,paddingBottom:u,paddingLeft:c,paddingRight:h}=window.getComputedStyle(r),f={top:o?parseInt(o,10):0,bottom:u?parseInt(u,10):0,left:c?parseInt(c,10):0,right:h?parseInt(h,10):0},g={x:0,y:0,width:document.documentElement.offsetWidth,height:document.documentElement.offsetHeight};t({nativeEvent:{insets:f,frame:g}})};return r.addEventListener(EC(),a),a(),()=>{document.body.removeChild(r),r.removeEventListener(EC(),a)}},[t]),E.createElement(W,{style:e},n)}let ed=null;function EC(){if(ed!=null)return ed;const n=document.createElement("invalidtype");ed=Av.Transition;for(const e in Av)if(n.style[e]!==void 0){ed=Av[e];break}return ed}let td=null;function _B(){if(td!==null)return td;const{CSS:n}=window;return n&&n.supports&&n.supports("top: constant(safe-area-inset-top)")?td="constant":td="env",td}function Gf(n){return`${_B()}(safe-area-inset-${n})`}function bB(){const n=document.createElement("div"),{style:e}=n;return e.position="fixed",e.left="0",e.top="0",e.width="0",e.height="0",e.zIndex="-1",e.overflow="hidden",e.visibility="hidden",e.transitionDuration="0.05s",e.transitionProperty="padding",e.transitionDelay="0s",e.paddingTop=Gf("top"),e.paddingBottom=Gf("bottom"),e.paddingLeft=Gf("left"),e.paddingRight=Gf("right"),n}function U_(){return U_=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},U_.apply(null,arguments)}const Yd=E.createContext(null),bI=E.createContext(null);function SI({children:n,initialMetrics:e,initialSafeAreaInsets:t,style:r,...a}){const o=TB(),u=EB(),[c,h]=E.useState(e?.insets??t??o??null),[f,g]=E.useState(e?.frame??u??{x:0,y:0,width:wl.get("window").width,height:wl.get("window").height}),y=E.useCallback(_=>{const{nativeEvent:{frame:S,insets:T}}=_;g(x=>S&&(S.height!==x.height||S.width!==x.width||S.x!==x.x||S.y!==x.y)?S:x),h(x=>!x||T.bottom!==x.bottom||T.left!==x.left||T.right!==x.right||T.top!==x.top?T:x)},[]);return E.createElement(vB,U_({style:[SB.fill,r],onInsetsChange:y},a),c!=null?E.createElement(bI.Provider,{value:f},E.createElement(Yd.Provider,{value:c},n)):null)}const SB=Ne.create({fill:{flex:1}});function TB(){return E.useContext(Yd)}function EB(){return E.useContext(bI)}const wB="No safe area value available. Make sure you are rendering `<SafeAreaProvider>` at the top of your app.";function TI(){const n=E.useContext(Yd);if(n==null)throw new Error(wB);return n}Yd.Consumer;function EI(){return{type:"GO_BACK"}}function wI(...n){if(typeof n[0]=="string"){const[e,t,r]=n;return typeof r=="boolean"&&console.warn("Passing a boolean as the third argument to 'navigate' is deprecated. Pass '{ merge: true }' instead."),{type:"NAVIGATE",payload:{name:e,params:t,merge:typeof r=="boolean"?r:r?.merge,pop:r?.pop}}}else{const e=n[0]||{};if(!("name"in e))throw new Error("You need to specify a name when calling navigate with an object as the argument. See https://reactnavigation.org/docs/navigation-actions#navigate for usage.");return{type:"NAVIGATE",payload:e}}}function xB(...n){if(typeof n[0]=="string")return{type:"NAVIGATE_DEPRECATED",payload:{name:n[0],params:n[1]}};{const e=n[0]||{};if(!("name"in e))throw new Error("You need to specify a name when calling navigateDeprecated with an object as the argument. See https://reactnavigation.org/docs/navigation-actions#navigatelegacy for usage.");return{type:"NAVIGATE_DEPRECATED",payload:e}}}function gg(n){return{type:"RESET",payload:n}}function CB(n){return{type:"SET_PARAMS",payload:{params:n}}}function RB(n){return{type:"REPLACE_PARAMS",payload:{params:n}}}function AB(n,e){return{type:"PRELOAD",payload:{name:n,params:e}}}const Nd=Object.freeze(Object.defineProperty({__proto__:null,goBack:EI,navigate:wI,navigateDeprecated:xB,preload:AB,replaceParams:RB,reset:gg,setParams:CB},Symbol.toStringTag,{value:"Module"}));let IB="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Mr=(n=21)=>{let e="",t=n|0;for(;t--;)e+=IB[Math.random()*64|0];return e};const wC={getStateForAction(n,e){switch(e.type){case"SET_PARAMS":case"REPLACE_PARAMS":{const t=e.source?n.routes.findIndex(r=>r.key===e.source):n.index;return t===-1?null:{...n,routes:n.routes.map((r,a)=>a===t?{...r,params:e.type==="REPLACE_PARAMS"?e.payload.params:{...r.params,...e.payload.params}}:r)}}case"RESET":{const t=e.payload;return t.routes.length===0||t.routes.some(r=>!n.routeNames.includes(r.name))?null:t.stale===!1?n.routeNames.length!==t.routeNames.length||t.routeNames.some(r=>!n.routeNames.includes(r))?null:{...t,routes:t.routes.map(r=>r.key?r:{...r,key:`${r.name}-${Mr()}`})}:t}default:return null}},shouldActionChangeFocus(n){return n.type==="NAVIGATE"||n.type==="NAVIGATE_DEPRECATED"}};function cd({action:n,routeParamList:e}){const{name:t,params:r}=n.payload;return e[t]!==void 0?{...e[t],...r}:r}function Kf({action:n,routeParamList:e}){const{name:t}=n.payload;return{key:`${t}-${Mr()}`,name:t,params:cd({action:n,routeParamList:e})}}const xI={replace(n,e){return{type:"REPLACE",payload:{name:n,params:e}}},push(n,e){return{type:"PUSH",payload:{name:n,params:e}}},pop(n=1){return{type:"POP",payload:{count:n}}},popToTop(){return{type:"POP_TO_TOP"}},popTo(n,e,t){return typeof t=="boolean"&&console.warn("Passing a boolean as the third argument to 'popTo' is deprecated. Pass '{ merge: true }' instead."),{type:"POP_TO",payload:{name:n,params:e,merge:typeof t=="boolean"?t:t?.merge}}}};function kB(n){const e={...wC,type:"stack",getInitialState({routeNames:t,routeParamList:r}){const a=n.initialRouteName!==void 0&&t.includes(n.initialRouteName)?n.initialRouteName:t[0];return{stale:!1,type:"stack",key:`stack-${Mr()}`,index:0,routeNames:t,preloadedRoutes:[],routes:[{key:`${a}-${Mr()}`,name:a,params:r[a]}]}},getRehydratedState(t,{routeNames:r,routeParamList:a}){const o=t;if(o.stale===!1)return o;const u=o.routes.filter(h=>r.includes(h.name)).map(h=>({...h,key:h.key||`${h.name}-${Mr()}`,params:a[h.name]!==void 0?{...a[h.name],...h.params}:h.params})),c=o.preloadedRoutes?.filter(h=>r.includes(h.name)).map(h=>({...h,key:h.key||`${h.name}-${Mr()}`,params:a[h.name]!==void 0?{...a[h.name],...h.params}:h.params}))??[];if(u.length===0){const h=n.initialRouteName!==void 0?n.initialRouteName:r[0];u.push({key:`${h}-${Mr()}`,name:h,params:a[h]})}return{stale:!1,type:"stack",key:`stack-${Mr()}`,index:u.length-1,routeNames:r,routes:u,preloadedRoutes:c}},getStateForRouteNamesChange(t,{routeNames:r,routeParamList:a,routeKeyChanges:o}){const u=t.routes.filter(c=>r.includes(c.name)&&!o.includes(c.name));if(u.length===0){const c=n.initialRouteName!==void 0&&r.includes(n.initialRouteName)?n.initialRouteName:r[0];u.push({key:`${c}-${Mr()}`,name:c,params:a[c]})}return{...t,routeNames:r,routes:u,index:Math.min(t.index,u.length-1)}},getStateForRouteFocus(t,r){const a=t.routes.findIndex(o=>o.key===r);return a===-1||a===t.index?t:{...t,index:a,routes:t.routes.slice(0,a+1)}},getStateForAction(t,r,a){const{routeParamList:o}=a;switch(r.type){case"REPLACE":{const u=r.target===t.key&&r.source?t.routes.findIndex(g=>g.key===r.source):t.index;if(u===-1||!t.routeNames.includes(r.payload.name))return null;const c=a.routeGetIdList[r.payload.name],h=c?.({params:r.payload.params});let f=t.preloadedRoutes.find(g=>g.name===r.payload.name&&h===c?.({params:g.params}));return f||(f=Kf({action:r,routeParamList:o})),{...t,routes:t.routes.map((g,y)=>y===u?f:g),preloadedRoutes:t.preloadedRoutes.filter(g=>g.key!==f.key)}}case"PUSH":case"NAVIGATE":{if(!t.routeNames.includes(r.payload.name))return null;const u=a.routeGetIdList[r.payload.name],c=u?.({params:r.payload.params});let h;if(c!==void 0)h=t.routes.findLast(y=>y.name===r.payload.name&&c===u?.({params:y.params}));else if(r.type==="NAVIGATE"){const y=t.routes[t.index];r.payload.name===y.name?h=y:r.payload.pop&&(h=t.routes.findLast(_=>_.name===r.payload.name))}h||(h=t.preloadedRoutes.find(y=>y.name===r.payload.name&&c===u?.({params:y.params})));let f;r.type==="NAVIGATE"&&r.payload.merge&&h?f=r.payload.params!==void 0||o[r.payload.name]!==void 0?{...o[r.payload.name],...h.params,...r.payload.params}:h.params:f=cd({action:r,routeParamList:o});let g;if(h)if(r.type==="NAVIGATE"&&r.payload.pop){g=[];for(const y of t.routes){if(y.key===h.key){g.push({...h,path:r.payload.path!==void 0?r.payload.path:h.path,params:f});break}g.push(y)}}else g=t.routes.filter(y=>y.key!==h.key),g.push({...h,path:r.type==="NAVIGATE"&&r.payload.path!==void 0?r.payload.path:h.path,params:f});else g=[...t.routes,{key:`${r.payload.name}-${Mr()}`,name:r.payload.name,path:r.type==="NAVIGATE"?r.payload.path:void 0,params:f}];return{...t,index:g.length-1,preloadedRoutes:t.preloadedRoutes.filter(y=>g[g.length-1].key!==y.key),routes:g}}case"NAVIGATE_DEPRECATED":{if(!t.routeNames.includes(r.payload.name)||t.preloadedRoutes.find(y=>y.name===r.payload.name&&h===c?.({params:y.params})))return null;let u=-1;const c=a.routeGetIdList[r.payload.name],h=c?.({params:r.payload.params});if(h!==void 0?u=t.routes.findIndex(y=>y.name===r.payload.name&&h===c?.({params:y.params})):t.routes[t.index].name===r.payload.name?u=t.index:u=t.routes.findLastIndex(y=>y.name===r.payload.name),u===-1){const y=[...t.routes,Kf({action:r,routeParamList:o})];return{...t,routes:y,index:y.length-1}}const f=t.routes[u];let g;return r.payload.merge?g=r.payload.params!==void 0||o[f.name]!==void 0?{...o[f.name],...f.params,...r.payload.params}:f.params:g=cd({action:r,routeParamList:o}),{...t,index:u,routes:[...t.routes.slice(0,u),g!==f.params?{...f,params:g}:t.routes[u]]}}case"POP":{const u=r.target===t.key&&r.source?t.routes.findIndex(c=>c.key===r.source):t.index;if(u>0){const c=Math.max(u-r.payload.count+1,1),h=t.routes.slice(0,c).concat(t.routes.slice(u+1));return{...t,index:h.length-1,routes:h}}return null}case"POP_TO_TOP":return e.getStateForAction(t,{type:"POP",payload:{count:t.routes.length-1}},a);case"POP_TO":{const u=r.target===t.key&&r.source?t.routes.findLastIndex(_=>_.key===r.source):t.index;if(u===-1||!t.routeNames.includes(r.payload.name))return null;let c=-1;const h=a.routeGetIdList[r.payload.name],f=h?.({params:r.payload.params});if(f!==void 0)c=t.routes.findIndex(_=>_.name===r.payload.name&&f===h?.({params:_.params}));else if(t.routes[u].name===r.payload.name)c=u;else for(let _=u;_>=0;_--)if(t.routes[_].name===r.payload.name){c=_;break}if(c===-1){let _=t.preloadedRoutes.find(T=>T.name===r.payload.name&&f===h?.({params:T.params}));_||(_=Kf({action:r,routeParamList:o}));const S=t.routes.slice(0,u).concat(_);return{...t,index:S.length-1,routes:S,preloadedRoutes:t.preloadedRoutes.filter(T=>T.key!==_.key)}}const g=t.routes[c];let y;return r.payload.merge?y=r.payload.params!==void 0||o[g.name]!==void 0?{...o[g.name],...g.params,...r.payload.params}:g.params:y=cd({action:r,routeParamList:o}),{...t,index:c,routes:[...t.routes.slice(0,c),y!==g.params?{...g,params:y}:t.routes[c]]}}case"GO_BACK":return t.index>0?e.getStateForAction(t,{type:"POP",payload:{count:1},target:r.target,source:r.source},a):null;case"PRELOAD":{const u=a.routeGetIdList[r.payload.name],c=u?.({params:r.payload.params});let h;return c!==void 0&&(h=t.routes.find(f=>f.name===r.payload.name&&c===u?.({params:f.params}))),h?{...t,routes:t.routes.map(f=>f.key!==h?.key?f:{...f,params:cd({action:r,routeParamList:o})})}:{...t,preloadedRoutes:t.preloadedRoutes.filter(f=>f.name!==r.payload.name||c!==u?.({params:f.params})).concat(Kf({action:r,routeParamList:o}))}}default:return wC.getStateForAction(t,r)}},actionCreators:xI};return e}var Iv,xC;function OB(){if(xC)return Iv;xC=1;var n=Gd(),e=typeof document<"u"||typeof navigator<"u"&&navigator.product==="ReactNative"?n.useLayoutEffect:n.useEffect;function t(r){var a=n.useRef(r),o=n.useRef(function(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];return a.current.apply(this,c)}).current;return e(function(){a.current=r}),o}return Iv=t,Iv}var DB=OB();const Zt=tr(DB),CC="The 'navigation' object hasn't been initialized yet. This might happen if you don't have a navigator mounted, or if the navigator hasn't finished mounting. See https://reactnavigation.org/docs/navigating-without-navigation-prop#handling-initialization for more details.",CI=E.createContext(!1),NB='Another navigator is already registered for this container. You likely have multiple navigators under a single "NavigationContainer" or "Screen". Make sure each navigator is under a separate "Screen" container. See https://reactnavigation.org/docs/nesting-navigators for a guide on nesting.',RI=E.createContext(void 0);function AI({children:n}){const e=E.useRef(void 0),t=E.useMemo(()=>({register(r){const a=e.current;if(a!==void 0&&r!==a)throw new Error(NB);e.current=r},unregister(r){const a=e.current;r===a&&(e.current=void 0)}}),[]);return v.jsx(RI.Provider,{value:t,children:n})}function _l(n){let e=n;for(;e?.routes[e.index??0].state!=null;)e=e.routes[e.index??0].state;return e?.routes[e?.index??0]}const ea=E.createContext({onDispatchAction:()=>{},onOptionsChange:()=>{},scheduleUpdate:()=>{throw new Error("Couldn't find a context for scheduling updates.")},flushUpdates:()=>{throw new Error("Couldn't find a context for flushing updates.")}}),II=E.createContext(void 0),kI=E.createContext(!1),nd="Couldn't find a navigation context. Have you wrapped your app with 'NavigationContainer'? See https://reactnavigation.org/docs/getting-started for setup instructions.",Md=E.createContext({isDefault:!0,get getKey(){throw new Error(nd)},get setKey(){throw new Error(nd)},get getState(){throw new Error(nd)},get setState(){throw new Error(nd)},get getIsInitial(){throw new Error(nd)}}),pg=E.createContext(void 0);pg.displayName="ThemeContext";function OI({value:n,children:e}){return v.jsx(pg.Provider,{value:n,children:e})}const DI=E.createContext(void 0);function NI(){const{current:n}=E.useRef({action:[],focus:[]}),e=E.useCallback((t,r)=>{n[t].push(r);let a=!1;return()=>{const o=n[t].indexOf(r);!a&&o>-1&&(a=!0,n[t].splice(o,1))}},[n]);return{listeners:n,addListener:e}}function MI(n){const e=E.useRef(n);E.useEffect(()=>{e.current=n});const t=E.useRef(Object.create(null)),r=E.useCallback(o=>{const u=(h,f)=>{const g=t.current[h]?t.current[h][o]:void 0;if(!g)return;const y=g.indexOf(f);y>-1&&g.splice(y,1)};return{addListener:(h,f)=>{t.current[h]=t.current[h]||{},t.current[h][o]=t.current[h][o]||[],t.current[h][o].push(f);let g=!1;return()=>{g||(g=!0,u(h,f))}},removeListener:u}},[]),a=E.useCallback(({type:o,data:u,target:c,canPreventDefault:h})=>{const f=t.current[o]||{},g=c!==void 0?f[c]?.slice():[].concat(...Object.keys(f).map(_=>f[_])).filter((_,S,T)=>T.lastIndexOf(_)===S),y={get type(){return o}};if(c!==void 0&&Object.defineProperty(y,"target",{enumerable:!0,get(){return c}}),u!==void 0&&Object.defineProperty(y,"data",{enumerable:!0,get(){return u}}),h){let _=!1;Object.defineProperties(y,{defaultPrevented:{enumerable:!0,get(){return _}},preventDefault:{enumerable:!0,value(){_=!0}}})}return e.current?.(y),g?.forEach(_=>_(y)),y},[]);return E.useMemo(()=>({create:r,emit:a}),[r,a])}function PI(){const{current:n}=E.useRef(Object.assign(Object.create(null),{getState:{},beforeRemove:{}})),e=E.useCallback((t,r,a)=>(n[t][r]=a,()=>{n[t][r]=void 0}),[n]);return{keyedListeners:n,addKeyedListener:e}}function LI(){return E.useContext(kI)}function VI({key:n,options:e,navigation:t}){const r=E.useRef(e),a=E.useRef({}),{onOptionsChange:o}=E.useContext(ea),{addOptionsGetter:u}=E.useContext(Md),c=E.useCallback(()=>{const y=t?.isFocused()??!0,_=Object.keys(a.current).length;y&&!_&&o(r.current??{})},[t,o]);E.useEffect(()=>(r.current=e,c(),t?.addListener("focus",c)),[t,e,c]);const h=E.useCallback(()=>{for(const y in a.current)if(y in a.current){const _=a.current[y]?.();if(_!==null)return _}return null},[]),f=E.useCallback(()=>{if(!(t?.isFocused()??!0))return null;const _=h();return _!==null?_:r.current},[t,h]);return E.useEffect(()=>u?.(n,f),[f,u,n]),{addOptionsGetter:E.useCallback((y,_)=>(a.current[y]=_,c(),()=>{delete a.current[y],c()}),[c]),getCurrentOptions:f}}const H_=n=>n,MB=n=>{const e=[];let t=!1,r;const a=()=>(t||(t=!0,r=H_(n())),r);let o=!1,u=!1;return{getState:a,setState:g=>{r=H_(g),u=!0,o||e.forEach(y=>y())},batchUpdates:g=>{o=!0,g(),o=!1,u&&(u=!1,e.forEach(y=>y()))},subscribe:g=>(e.push(g),()=>{const y=e.indexOf(g);y>-1&&e.splice(y,1)})}};function PB(n){const e=E.useRef(MB(n)).current,t=E.useSyncExternalStore(e.subscribe,e.getState,e.getState);E.useDebugValue(t);const r=E.useRef([]),a=Zt(u=>{r.current.push(u)}),o=Zt(()=>{const u=r.current;r.current=[],u.length!==0&&e.batchUpdates(()=>{for(const c of u)c()})});return{state:t,getState:e.getState,setState:e.setState,scheduleUpdate:a,flushUpdates:o}}const jI=n=>{if(n===void 0)return;const{key:e,routeNames:t,...r}=n;return{...r,stale:!0,routes:n.routes.map(a=>a.state===void 0?a:{...a,state:jI(a.state)})}},LB=E.forwardRef(function({initialState:e,onStateChange:t,onReady:r,onUnhandledAction:a,navigationInChildEnabled:o=!1,theme:u,children:c},h){const f=E.useContext(Md),g=LI();if(!f.isDefault&&!g)throw new Error("Looks like you have nested a 'NavigationContainer' inside another. Normally you need only one container at the root of the app, so this was probably an error. If this was intentional, wrap the container in 'NavigationIndependentTree' explicitly. Note that this will make the child navigators disconnected from the parent and you won't be able to navigate between them.");const{state:y,getState:_,setState:S,scheduleUpdate:T,flushUpdates:x}=PB(()=>jI(e??void 0)),C=E.useRef(!0),I=E.useRef(void 0),R=E.useCallback(()=>I.current,[]),O=E.useCallback(We=>{I.current=We},[]),{listeners:z,addListener:H}=NI(),{keyedListeners:F,addKeyedListener:N}=PI(),D=Zt(We=>{z.focus[0]==null?console.error(CC):z.focus[0](gt=>gt.dispatch(We))}),V=Zt(()=>{if(z.focus[0]==null)return!1;const{result:We,handled:gt}=z.focus[0](xt=>xt.canGoBack());return gt?We:!1}),B=Zt(We=>{const gt=We?.key??F.getState.root?.().key;gt==null?console.error(CC):z.focus[0](xt=>xt.dispatch({...gg(We),target:gt}))}),L=Zt(()=>F.getState.root?.()),q=Zt(()=>{const We=L();return We==null?void 0:_l(We)}),M=Zt(()=>z.focus[0]!=null),ue=MI(),{addOptionsGetter:me,getCurrentOptions:Y}=VI({}),se=E.useMemo(()=>({...Object.keys(Nd).reduce((We,gt)=>(We[gt]=(...xt)=>D(Nd[gt](...xt)),We),{}),...ue.create("root"),dispatch:D,resetRoot:B,isFocused:()=>!0,canGoBack:V,getParent:()=>{},getState:_,getRootState:L,getCurrentRoute:q,getCurrentOptions:Y,isReady:M,setOptions:()=>{throw new Error("Cannot call setOptions outside a screen")}}),[V,D,ue,Y,q,L,_,M,B]);E.useImperativeHandle(h,()=>se,[se]);const ge=Zt((We,gt)=>{ue.emit({type:"__unsafe_action__",data:{action:We,noop:gt,stack:G.current}})}),ee=E.useRef(void 0),ie=Zt(We=>{ee.current!==We&&(ee.current=We,ue.emit({type:"options",data:{options:We}}))}),G=E.useRef(void 0),X=E.useMemo(()=>({addListener:H,addKeyedListener:N,onDispatchAction:ge,onOptionsChange:ie,scheduleUpdate:T,flushUpdates:x,stackRef:G}),[H,N,ge,ie,T,x]),ye=E.useRef(!0),be=E.useCallback(()=>ye.current,[]),Ie=E.useMemo(()=>({state:y,getState:_,setState:S,getKey:R,setKey:O,getIsInitial:be,addOptionsGetter:me}),[y,_,S,R,O,be,me]),De=E.useRef(r),ke=E.useRef(t);E.useEffect(()=>{ye.current=!1,ke.current=t,De.current=r});const Ve=E.useRef(!1);E.useEffect(()=>{!Ve.current&&M()&&(Ve.current=!0,De.current?.(),ue.emit({type:"ready"}))},[y,M,ue]),E.useEffect(()=>{const We=L();ue.emit({type:"state",data:{state:y}}),!C.current&&ke.current&&ke.current(We),C.current=!1},[L,ue,y]);const $e=Zt(We=>{});return v.jsx(kI.Provider,{value:!1,children:v.jsx(II.Provider,{value:se,children:v.jsx(ea.Provider,{value:X,children:v.jsx(Md.Provider,{value:Ie,children:v.jsx(DI.Provider,{value:a??$e,children:v.jsx(CI.Provider,{value:o,children:v.jsx(AI,{children:v.jsx(OI,{value:u,children:c})})})})})})})})});function zm(n){return null}function W_(n){return null}function VB(n){function e(t){return t!=null?{Navigator:n,Screen:W_,Group:zm,config:t}:{Navigator:n,Screen:W_,Group:zm}}return e}const jB=E.createContext(void 0);function ib(n,e){const t=e?BI(e):{},r=n.index!=null?n.routes.slice(0,n.index+1):n.routes;if(r.length===0)return;if(!(r.length===1&&r[0].key===void 0||r.length===2&&r[0].key===void 0&&r[0].name===t?.initialRouteName&&r[1].key===void 0))return{type:"RESET",payload:n};const a=n.routes[n.index??n.routes.length-1];let o=a?.state,u=t?.screens?.[a?.name],c={...a.params};const h=a?{name:a.name,path:a.path,params:c}:void 0;for(h&&u?.screens&&Object.keys(u.screens).length&&(h.pop=!0);o;){if(o.routes.length===0)return;const f=o.index!=null?o.routes.slice(0,o.index+1):o.routes,g=f[f.length-1];if(Object.assign(c,{initial:void 0,screen:void 0,params:void 0,state:void 0}),f.length===1&&f[0].key===void 0)c.initial=!0,c.screen=g.name;else if(f.length===2&&f[0].key===void 0&&f[0].name===u?.initialRouteName&&f[1].key===void 0)c.initial=!1,c.screen=g.name;else{c.state=o;break}g.state?(c.params={...g.params},c.pop=!0,c=c.params):(c.path=g.path,c.params=g.params),o=g.state,u=u?.screens?.[g.name],u?.screens&&Object.keys(u.screens).length&&(c.pop=!0)}if((h?.params.screen||h?.params.state)&&(h.pop=!0),!!h)return{type:"NAVIGATE",payload:h}}const BI=n=>typeof n=="object"&&n!=null?{initialRouteName:n.initialRouteName,screens:n.screens!=null?BB(n.screens):void 0}:{},BB=n=>Object.entries(n).reduce((e,[t,r])=>(e[t]=BI(r),e),{});function zI(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);return t.length!==r.length?!1:t.every(a=>Object.is(n[a],e[a]))}const zB=Symbol("CHILD_STATE");function FB(n){const e=E.useMemo(()=>({current:new Map}),[]);return e.current=n.reduce((t,r)=>{const a=e.current.get(r.key),{state:o,...u}=r;let c;return a&&zI(a,u)?c=a:c=u,Object.defineProperty(c,zB,{enumerable:!1,configurable:!0,value:o}),t.set(r.key,c),t},new Map),Array.from(e.current.values())}var kv={},Ov,RC;function UB(){return RC||(RC=1,Ov=n=>encodeURIComponent(n).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)),Ov}var Dv,AC;function HB(){if(AC)return Dv;AC=1;var n="%[a-f0-9]{2}",e=new RegExp("("+n+")|([^%]+?)","gi"),t=new RegExp("("+n+")+","gi");function r(u,c){try{return[decodeURIComponent(u.join(""))]}catch{}if(u.length===1)return u;c=c||1;var h=u.slice(0,c),f=u.slice(c);return Array.prototype.concat.call([],r(h),r(f))}function a(u){try{return decodeURIComponent(u)}catch{for(var c=u.match(e)||[],h=1;h<c.length;h++)u=r(c,h).join(""),c=u.match(e)||[];return u}}function o(u){for(var c={"%FE%FF":"","%FF%FE":""},h=t.exec(u);h;){try{c[h[0]]=decodeURIComponent(h[0])}catch{var f=a(h[0]);f!==h[0]&&(c[h[0]]=f)}h=t.exec(u)}c["%C2"]="";for(var g=Object.keys(c),y=0;y<g.length;y++){var _=g[y];u=u.replace(new RegExp(_,"g"),c[_])}return u}return Dv=function(u){if(typeof u!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof u+"`");try{return u=u.replace(/\+/g," "),decodeURIComponent(u)}catch{return o(u)}},Dv}var Nv,IC;function WB(){return IC||(IC=1,Nv=(n,e)=>{if(!(typeof n=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[n];const t=n.indexOf(e);return t===-1?[n]:[n.slice(0,t),n.slice(t+e.length)]}),Nv}var Mv,kC;function qB(){return kC||(kC=1,Mv=function(n,e){for(var t={},r=Object.keys(n),a=Array.isArray(e),o=0;o<r.length;o++){var u=r[o],c=n[u];(a?e.indexOf(u)!==-1:e(u,c,n))&&(t[u]=c)}return t}),Mv}var OC;function GB(){return OC||(OC=1,(function(n){const e=UB(),t=HB(),r=WB(),a=qB(),o=R=>R==null,u=Symbol("encodeFragmentIdentifier");function c(R){switch(R.arrayFormat){case"index":return O=>(z,H)=>{const F=z.length;return H===void 0||R.skipNull&&H===null||R.skipEmptyString&&H===""?z:H===null?[...z,[g(O,R),"[",F,"]"].join("")]:[...z,[g(O,R),"[",g(F,R),"]=",g(H,R)].join("")]};case"bracket":return O=>(z,H)=>H===void 0||R.skipNull&&H===null||R.skipEmptyString&&H===""?z:H===null?[...z,[g(O,R),"[]"].join("")]:[...z,[g(O,R),"[]=",g(H,R)].join("")];case"colon-list-separator":return O=>(z,H)=>H===void 0||R.skipNull&&H===null||R.skipEmptyString&&H===""?z:H===null?[...z,[g(O,R),":list="].join("")]:[...z,[g(O,R),":list=",g(H,R)].join("")];case"comma":case"separator":case"bracket-separator":{const O=R.arrayFormat==="bracket-separator"?"[]=":"=";return z=>(H,F)=>F===void 0||R.skipNull&&F===null||R.skipEmptyString&&F===""?H:(F=F===null?"":F,H.length===0?[[g(z,R),O,g(F,R)].join("")]:[[H,g(F,R)].join(R.arrayFormatSeparator)])}default:return O=>(z,H)=>H===void 0||R.skipNull&&H===null||R.skipEmptyString&&H===""?z:H===null?[...z,g(O,R)]:[...z,[g(O,R),"=",g(H,R)].join("")]}}function h(R){let O;switch(R.arrayFormat){case"index":return(z,H,F)=>{if(O=/\[(\d*)\]$/.exec(z),z=z.replace(/\[\d*\]$/,""),!O){F[z]=H;return}F[z]===void 0&&(F[z]={}),F[z][O[1]]=H};case"bracket":return(z,H,F)=>{if(O=/(\[\])$/.exec(z),z=z.replace(/\[\]$/,""),!O){F[z]=H;return}if(F[z]===void 0){F[z]=[H];return}F[z]=[].concat(F[z],H)};case"colon-list-separator":return(z,H,F)=>{if(O=/(:list)$/.exec(z),z=z.replace(/:list$/,""),!O){F[z]=H;return}if(F[z]===void 0){F[z]=[H];return}F[z]=[].concat(F[z],H)};case"comma":case"separator":return(z,H,F)=>{const N=typeof H=="string"&&H.includes(R.arrayFormatSeparator),D=typeof H=="string"&&!N&&y(H,R).includes(R.arrayFormatSeparator);H=D?y(H,R):H;const V=N||D?H.split(R.arrayFormatSeparator).map(B=>y(B,R)):H===null?H:y(H,R);F[z]=V};case"bracket-separator":return(z,H,F)=>{const N=/(\[\])$/.test(z);if(z=z.replace(/\[\]$/,""),!N){F[z]=H&&y(H,R);return}const D=H===null?[]:H.split(R.arrayFormatSeparator).map(V=>y(V,R));if(F[z]===void 0){F[z]=D;return}F[z]=[].concat(F[z],D)};default:return(z,H,F)=>{if(F[z]===void 0){F[z]=H;return}F[z]=[].concat(F[z],H)}}}function f(R){if(typeof R!="string"||R.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function g(R,O){return O.encode?O.strict?e(R):encodeURIComponent(R):R}function y(R,O){return O.decode?t(R):R}function _(R){return Array.isArray(R)?R.sort():typeof R=="object"?_(Object.keys(R)).sort((O,z)=>Number(O)-Number(z)).map(O=>R[O]):R}function S(R){const O=R.indexOf("#");return O!==-1&&(R=R.slice(0,O)),R}function T(R){let O="";const z=R.indexOf("#");return z!==-1&&(O=R.slice(z)),O}function x(R){R=S(R);const O=R.indexOf("?");return O===-1?"":R.slice(O+1)}function C(R,O){return O.parseNumbers&&!Number.isNaN(Number(R))&&typeof R=="string"&&R.trim()!==""?R=Number(R):O.parseBooleans&&R!==null&&(R.toLowerCase()==="true"||R.toLowerCase()==="false")&&(R=R.toLowerCase()==="true"),R}function I(R,O){O=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},O),f(O.arrayFormatSeparator);const z=h(O),H=Object.create(null);if(typeof R!="string"||(R=R.trim().replace(/^[?#&]/,""),!R))return H;for(const F of R.split("&")){if(F==="")continue;let[N,D]=r(O.decode?F.replace(/\+/g," "):F,"=");D=D===void 0?null:["comma","separator","bracket-separator"].includes(O.arrayFormat)?D:y(D,O),z(y(N,O),D,H)}for(const F of Object.keys(H)){const N=H[F];if(typeof N=="object"&&N!==null)for(const D of Object.keys(N))N[D]=C(N[D],O);else H[F]=C(N,O)}return O.sort===!1?H:(O.sort===!0?Object.keys(H).sort():Object.keys(H).sort(O.sort)).reduce((F,N)=>{const D=H[N];return D&&typeof D=="object"&&!Array.isArray(D)?F[N]=_(D):F[N]=D,F},Object.create(null))}n.extract=x,n.parse=I,n.stringify=(R,O)=>{if(!R)return"";O=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},O),f(O.arrayFormatSeparator);const z=D=>O.skipNull&&o(R[D])||O.skipEmptyString&&R[D]==="",H=c(O),F={};for(const D of Object.keys(R))z(D)||(F[D]=R[D]);const N=Object.keys(F);return O.sort!==!1&&N.sort(O.sort),N.map(D=>{const V=R[D];return V===void 0?"":V===null?g(D,O):Array.isArray(V)?V.length===0&&O.arrayFormat==="bracket-separator"?g(D,O)+"[]":V.reduce(H(D),[]).join("&"):g(D,O)+"="+g(V,O)}).filter(D=>D.length>0).join("&")},n.parseUrl=(R,O)=>{O=Object.assign({decode:!0},O);const[z,H]=r(R,"#");return Object.assign({url:z.split("?")[0]||"",query:I(x(R),O)},O&&O.parseFragmentIdentifier&&H?{fragmentIdentifier:y(H,O)}:{})},n.stringifyUrl=(R,O)=>{O=Object.assign({encode:!0,strict:!0,[u]:!0},O);const z=S(R.url).split("?")[0]||"",H=n.extract(R.url),F=n.parse(H,{sort:!1}),N=Object.assign(F,R.query);let D=n.stringify(N,O);D&&(D=`?${D}`);let V=T(R.url);return R.fragmentIdentifier&&(V=`#${O[u]?g(R.fragmentIdentifier,O):R.fragmentIdentifier}`),`${z}${D}${V}`},n.pick=(R,O,z)=>{z=Object.assign({parseFragmentIdentifier:!0,[u]:!1},z);const{url:H,query:F,fragmentIdentifier:N}=n.parseUrl(R,z);return n.stringifyUrl({url:H,query:a(F,O),fragmentIdentifier:N},z)},n.exclude=(R,O,z)=>{const H=Array.isArray(O)?F=>!O.includes(F):(F,N)=>!O(F,N);return n.pick(R,H,z)}})(kv)),kv}var FI=GB();function fm(n){const e=[];let t={segment:""},r=!1,a=!1,o=0;for(let c=0;c<=n.length;c++){const h=n[c];if(h!=null&&(t.segment+=h),h===":"){if(t.segment===":")a=!0;else if(!r)throw new Error(`Encountered ':' in the middle of a segment in path: ${n}`)}else if(h==="(")if(a)r?o++:r=!0;else throw new Error(`Encountered '(' without preceding ':' in path: ${n}`);else if(h===")")if(a&&r)o?(o--,t.regex+=h):(r=!1,a=!1);else throw new Error(`Encountered ')' without preceding '(' in path: ${n}`);else if(h==="?")if(t.param)a=!1,t.optional=!0;else throw new Error(`Encountered '?' without preceding ':' in path: ${n}`);else if(h==null||h==="/"&&!r){if(a=!1,t.segment=t.segment.replace(/\/$/,""),t.segment==="")continue;if(t.param&&(t.param=t.param.replace(/^:/,"")),t.regex&&(t.regex=t.regex.replace(/^\(/,"").replace(/\)$/,"")),e.push(t),h==null)break;t={segment:""}}r&&(t.regex=t.regex||"",t.regex+=h),a&&!r&&(t.param=t.param||"",t.param+=h)}if(r)throw new Error(`Could not find closing ')' in path: ${n}`);const u=e.map(c=>c.param).filter(Boolean);for(const[c,h]of u.entries())if(u.indexOf(h)!==c)throw new Error(`Duplicate param name '${h}' found in path: ${n}`);return e}const DC=n=>Object.entries(n).map(([e,t])=>`- ${e} (${t})`).join(`
`);function yg(n,e=!0){const t={path:"string",initialRouteName:"string",screens:"object",...e?null:{alias:"array",exact:"boolean",stringify:"object",parse:"object"}};if(typeof n!="object"||n===null)throw new Error(`Expected the configuration to be an object, but got ${JSON.stringify(n)}.`);const r=Object.fromEntries(Object.keys(n).map(a=>{if(a in t){const o=t[a],u=n[a];if(u!==void 0){if(o==="array"){if(!Array.isArray(u))return[a,`expected 'Array', got '${typeof u}'`]}else if(typeof u!==o)return[a,`expected '${o}', got '${typeof u}'`]}}else return[a,"extraneous"];return null}).filter(Boolean));if(Object.keys(r).length)throw new Error(`Found invalid properties in the configuration:
${DC(r)}

You can only specify the following properties:
${DC(t)}

If you want to specify configuration for screens, you need to specify them under a 'screens' property.

See https://reactnavigation.org/docs/configuring-links for more details on how to specify a linking configuration.`);if(e&&"path"in n&&typeof n.path=="string"&&n.path.includes(":"))throw new Error(`Found invalid path '${n.path}'. The 'path' in the top-level configuration cannot contain patterns for params.`);"screens"in n&&n.screens&&Object.entries(n.screens).forEach(([a,o])=>{typeof o!="string"&&yg(o,!1)})}const UI=n=>{const e=typeof n.index=="number"?n.routes[n.index]:n.routes[n.routes.length-1];return e.state?UI(e.state):e},NC=new WeakMap,KB=n=>{if(!n?.screens)return{};const e=NC.get(n?.screens);if(e)return e;const t=HI(n.screens);return NC.set(n.screens,t),t};function ab(n,e){if(n==null)throw Error(`Got '${String(n)}' for the navigation state. You must pass a valid state object.`);e&&yg(e);const t=KB(e);let r="/",a=n;const o={};for(;a;){let u=typeof a.index=="number"?a.index:0,c=a.routes[u],h,f,g=t;const y=UI(n),_=[];let S=!0;for(;c.name in g&&S;){if(h=g[c.name].parts,_.push(c.name),c.params){const T=g[c.name],x=Object.fromEntries(Object.entries(c.params).map(([C,I])=>{if(I===void 0)if(T){if(T.parts?.find(z=>z.param===C)?.optional)return null}else return null;const R=T?.stringify?.[C]??String;return[C,R(I)]}).filter(C=>C!=null));h?.length&&Object.assign(o,x),y===c&&(f={...x},h?.forEach(({param:C})=>{C&&f&&delete f[C]}))}if(!g[c.name].screens||c.state===void 0)S=!1;else{u=typeof c.state.index=="number"?c.state.index:c.state.routes.length-1;const T=c.state.routes[u],x=g[c.name].screens;x&&T.name in x?(c=T,g=x):S=!1}}if(g[c.name]!==void 0?r+=h?.map(({segment:T,param:x,optional:C})=>{if(T==="*")return c.name;if(x){const I=o[x];return I===void 0&&C?"":Array.from(String(I)).map(R=>/[^A-Za-z0-9\-._~!$&'()*+,;=:@]/g.test(R)?encodeURIComponent(R):R).join("")}return encodeURIComponent(T)}).join("/"):r+=encodeURIComponent(c.name),!f&&y.params&&(f=Object.fromEntries(Object.entries(y.params).map(([T,x])=>[T,String(x)]))),c.state)r+="/";else if(f){for(const x in f)f[x]==="undefined"&&delete f[x];const T=FI.stringify(f,{sort:!1});T&&(r+=`?${T}`)}a=c.state}return e?.path&&(r=`${e.path}/${r}`),r=r.replace(/\/+/g,"/"),r=r.length>1?r.replace(/\/$/,""):r,r.startsWith("/")||(r=`/${r}`),r}const $B=(n,e)=>{if(typeof n=="string"){const a=fm(n);return e?{parts:[...e,...a]}:{parts:a}}if(n.exact&&n.path===void 0)throw new Error("A 'path' needs to be specified when specifying 'exact: true'. If you don't want this screen in the URL, specify it as empty string, e.g. `path: ''`.");const t=n.exact!==!0?[...e||[],...n.path?fm(n.path):[]]:n.path?fm(n.path):void 0,r=n.screens?HI(n.screens,t):void 0;return{parts:t,stringify:n.stringify,screens:r}},HI=(n,e)=>Object.fromEntries(Object.entries(n).map(([t,r])=>{const a=$B(r,e);return[t,a]}));var Pv,MC;function YB(){return MC||(MC=1,Pv=n=>{if(typeof n!="string")throw new TypeError("Expected a string");return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}),Pv}var QB=YB();const XB=tr(QB);function q_(n,e){return e.length>n.length?!1:e.every((t,r)=>t===n[r])}function vg(n,e){return n===e?!0:n.length!==e.length?!1:n.every((t,r)=>Object.is(t,e[r]))}function sb(n,e){const{initialRoutes:t,configs:r}=JB(e),a=e?.screens;let o=n.replace(/\/+/g,"/").replace(/^\//,"").replace(/\?.*$/,"");o=o.endsWith("/")?o:`${o}/`;const u=e?.path?.replace(/^\//,"");if(u){const y=u.endsWith("/")?u:`${u}/`;if(!o.startsWith(y))return;o=o.replace(y,"")}if(a===void 0){const y=o.split("/").filter(Boolean).map(_=>({name:decodeURIComponent(_)}));return y.length?Lv(n,y,t):void 0}if(o==="/"){const y=r.find(_=>_.segments.join("/")==="");return y?Lv(n,y.routeNames.map(_=>({name:_})),t,r):void 0}let c,h;const{routes:f,remainingPath:g}=r4(o,r);if(f!==void 0&&(h=Lv(n,f,t,r),o=g,c=h),!(h==null||c==null))return c}const PC=new WeakMap;function JB(n){if(!n)return LC();const e=PC.get(n);if(e)return e;const t=LC(n);return PC.set(n,t),t}function LC(n){n&&yg(n);const e=ZB(n),t=e4(e,n?.screens);t4(t);const r=n4(t);return{initialRoutes:e,configs:t,configWithRegexes:r}}function ZB(n){const e=[];return n?.initialRouteName&&e.push({initialRouteName:n.initialRouteName,parentScreens:[]}),e}function e4(n,e={}){return[].concat(...Object.keys(e).map(t=>WI(t,e,n,[],[],[]))).sort((t,r)=>{if(vg(t.segments,r.segments))return r.routeNames.join(">").localeCompare(t.routeNames.join(">"));if(q_(t.segments,r.segments))return-1;if(q_(r.segments,t.segments))return 1;for(let a=0;a<Math.max(t.segments.length,r.segments.length);a++){if(t.segments[a]==null)return 1;if(r.segments[a]==null)return-1;const o=t.segments[a]==="*",u=r.segments[a]==="*",c=t.segments[a].startsWith(":"),h=r.segments[a].startsWith(":"),f=c&&t.segments[a].includes("("),g=h&&r.segments[a].includes("(");if(!(o&&u||f&&g)){if(o&&!u)return 1;if(u&&!o)return-1;if(c&&!h)return 1;if(h&&!c||f&&!g)return-1;if(g&&!f)return 1}}return t.segments.length-r.segments.length})}function t4(n){n.reduce((e,t)=>{const r=t.segments.join("/");if(e[r]){const a=e[r].routeNames,o=t.routeNames;if(!(a.length>o.length?o.every((c,h)=>a[h]===c):a.every((c,h)=>o[h]===c)))throw new Error(`Found conflicting screens with the same pattern. The pattern '${r}' resolves to both '${a.join(" > ")}' and '${o.join(" > ")}'. Patterns must be unique and cannot resolve to more than one screen.`)}return Object.assign(e,{[r]:t})},{})}function n4(n){return n.map(e=>({...e,regex:e.regex?new RegExp(e.regex.source+"$"):void 0}))}const r4=(n,e)=>{let t,r=n;for(const a of e){if(!a.regex)continue;const o=r.match(a.regex);if(o){t=a.routeNames.map(u=>{const c=e.find(f=>f.screen===u&&q_(a.segments,f.segments)),h=c&&o.groups?Object.fromEntries(Object.entries(o.groups).map(([f,g])=>{const y=Number(f.replace("param_","")),_=c.params.find(S=>S.index===y);return _?.screen===u&&_?.name?[_.name,g]:null}).filter(f=>f!=null).map(([f,g])=>{if(g==null)return[f,void 0];const y=decodeURIComponent(g),_=c.parse?.[f]?c.parse[f](y):y;return[f,_]})):void 0;return h&&Object.keys(h).length?{name:u,params:h}:{name:u}}),r=r.replace(o[0],"");break}}return{routes:t,remainingPath:r}},WI=(n,e,t,r,a,o)=>{const u=[];o.push(n),a.push(n);const c=e[n];if(typeof c=="string")r.push({screen:n,path:c}),u.push($f(n,[...o],[...r]));else if(typeof c=="object"){if(typeof c.path=="string"){if(c.exact&&c.path==null)throw new Error(`Screen '${n}' doesn't specify a 'path'. A 'path' needs to be specified when specifying 'exact: true'. If you don't want this screen in the URL, specify it as empty string, e.g. \`path: ''\`.`);const h=[];if(c.alias)for(const f of c.alias)typeof f=="string"?h.push($f(n,[...o],[...r,{screen:n,path:f}],c.parse)):typeof f=="object"&&h.push($f(n,[...o],f.exact?[{screen:n,path:f.path}]:[...r,{screen:n,path:f.path}],f.parse));c.exact&&(r.length=0),r.push({screen:n,path:c.path}),u.push($f(n,[...o],[...r],c.parse)),u.push(...h)}if(typeof c!="string"&&typeof c.path!="string"&&c.alias?.length)throw new Error(`Screen '${n}' doesn't specify a 'path'. A 'path' needs to be specified in order to use 'alias'.`);c.screens&&(c.initialRouteName&&t.push({initialRouteName:c.initialRouteName,parentScreens:a}),Object.keys(c.screens).forEach(h=>{const f=WI(h,c.screens,t,[...r],[...a],o);u.push(...f)}))}return o.pop(),u},$f=(n,e,t,r)=>{const a=[];for(const{screen:h,path:f}of t)a.push(...fm(f).map(g=>({...g,screen:h})));const o=a.length?new RegExp(`^(${a.map((h,f)=>{if(h.param){const g=h.regex||"[^/]+";return`(((?<param_${f}>${g})\\/)${h.optional?"?":""})`}return`${h.segment==="*"?".*":XB(h.segment)}\\/`}).join("")})$`):void 0,u=a.map(h=>h.segment),c=a.map((h,f)=>h.param?{index:f,screen:h.screen,name:h.param}:null).filter(h=>h!=null);return{screen:n,regex:o,segments:u,params:c,routeNames:e,parse:r}},i4=(n,e)=>{for(const t of e)if(n===t.routeNames[t.routeNames.length-1])return t.parse},VC=(n,e,t)=>{for(const r of t)if(e.length===r.parentScreens.length){let a=!0;for(let o=0;o<e.length;o++)if(e[o].localeCompare(r.parentScreens[o])!==0){a=!1;break}if(a)return n!==r.initialRouteName?r.initialRouteName:void 0}},jC=(n,e,t)=>t?n?{index:1,routes:[{name:n},e]}:{routes:[e]}:n?{index:1,routes:[{name:n},{...e,state:{routes:[]}}]}:{routes:[{...e,state:{routes:[]}}]},Lv=(n,e,t,r)=>{let a=e.shift();const o=[];let u=VC(a.name,o,t);o.push(a.name);const c=jC(u,a,e.length===0);if(e.length>0){let f=c;for(;a=e.shift();){u=VC(a.name,o,t);const g=f.index||f.routes.length-1;f.routes[g].state=jC(u,a,e.length===0),e.length>0&&(f=f.routes[g].state),o.push(a.name)}}a=_l(c),a.path=n.replace(/\/$/,"");const h=a4(n,r?i4(a.name,r):void 0);return h&&(a.params={...a.params,...h}),c},a4=(n,e)=>{const t=n.split("?")[1],r=FI.parse(t);return e&&Object.keys(r).forEach(a=>{Object.hasOwnProperty.call(e,a)&&typeof r[a]=="string"&&(r[a]=e[a](r[a]))}),Object.keys(r).length?r:void 0},Qd=E.createContext(void 0),ob=E.createContext(void 0),Oo=E.createContext(void 0),qI=E.createContext(void 0),BC=E.createContext(void 0),s4=n=>[...n.values()].reduce((r,{routeKey:a,preventRemove:o})=>(r[a]={preventRemove:r[a]?.preventRemove||o},r),{});function o4({children:n}){const[e]=E.useState(()=>Mr()),[t,r]=E.useState(()=>new Map),a=E.useContext(ob),o=E.useContext(Oo),c=E.useContext(BC)?.setPreventRemove,h=Zt((y,_,S)=>{if(S&&(a==null||a?.getState().routes.every(T=>T.key!==_)))throw new Error(`Couldn't find a route with the key ${_}. Is your component inside NavigationContent?`);r(T=>{if(_===T.get(y)?.routeKey&&S===T.get(y)?.preventRemove)return T;const x=new Map(T);return S?x.set(y,{routeKey:_,preventRemove:S}):x.delete(y),x})}),f=[...t.values()].some(({preventRemove:y})=>y);E.useEffect(()=>{if(o?.key!==void 0&&c!==void 0)return c(e,o.key,f),()=>{c(e,o.key,!1)}},[e,f,o?.key,c]);const g=E.useMemo(()=>({setPreventRemove:h,preventedRoutes:s4(t)}),[h,t]);return v.jsx(BC.Provider,{value:g,children:n})}function l4(){const n=E.useContext(Oo);if(n===void 0)throw new Error("Couldn't find a route object. Is your component inside a screen in a navigator?");return n}const u4=E.memo(({component:n})=>{const e=l4();return E.createElement(n,{route:e})});u4.displayName="Memo(Screen)";function Do(){const n=E.useContext(pg);if(n==null)throw new Error("Couldn't find a theme. Is your component inside NavigationContainer or does it have a theme?");return n}function GI(){const n=E.useContext(II),e=E.useContext(Qd);if(e===void 0&&n===void 0)throw new Error("Couldn't find a navigation object. Is your component inside NavigationContainer?");return e??n}var Vv,zC;function c4(){return zC||(zC=1,Vv=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,a,o;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(a=r;a--!==0;)if(!n(e[a],t[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(a=r;a--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[a]))return!1;for(a=r;a--!==0;){var u=o[a];if(!n(e[u],t[u]))return!1}return!0}return e!==e&&t!==t}),Vv}var d4=c4();const KI=tr(d4),$I=typeof document<"u"||typeof navigator<"u"&&navigator.product==="ReactNative"?E.useLayoutEffect:E.useEffect,h4=({render:n,children:e})=>n(e);function f4(n){const e=E.useRef(n);return e.current=n,E.useEffect(()=>{e.current=null}),E.useRef(({children:t})=>{const r=e.current;if(r===null)throw new Error("The returned component must be rendered in the same render phase as the hook.");return v.jsx(h4,{render:r,children:t})}).current}function m4({state:n,navigation:e,descriptors:t}){const r=E.useContext(jB);r&&e.isFocused()&&(r.options=t[n.routes[n.index].key].options)}const G_=E.createContext(void 0),g4=E.memo(function(e){return e.children},(n,e)=>{const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(const a of t)if(a!=="children"&&n[a]!==e[a])return!1;return!0});function p4({screen:n,route:e,navigation:t,routeState:r,getState:a,setState:o,options:u,clearOptions:c}){const h=E.useRef(void 0),f=E.useCallback(()=>h.current,[]),{addOptionsGetter:g}=VI({key:e.key,options:u,navigation:t}),y=E.useCallback(z=>{h.current=z},[]),_=E.useCallback(()=>{const H=a().routes.find(F=>F.key===e.key);return H?H.state:void 0},[a,e.key]),S=E.useCallback(z=>{const H=a(),F=H.routes.map(N=>{if(N.key!==e.key)return N;const D=N.state!==z?{...N,state:z}:N;if(D.params&&("state"in D.params&&typeof D.params.state=="object"&&D.params.state!==null||"screen"in D.params&&typeof D.params.screen=="string")){const{state:V,screen:B,params:L,initial:q,...M}=D.params;if(Object.keys(M).length)return{...D,params:M};{const{params:ue,...me}=D;return me}}return D});vg(H.routes,F)||o({...H,routes:F})},[a,e.key,o]),T=E.useRef(!0);E.useEffect(()=>{T.current=!1}),E.useEffect(()=>c,[]);const x=E.useCallback(()=>T.current,[]),C=E.useContext(G_),I=E.useMemo(()=>{const z={routes:[{key:e.key,name:e.name,params:e.params,path:e.path}]},H=F=>{const N=F?.routes[0];return N?{routes:[{...N,state:H(N.state)}]}:z};return H(C)},[C,e.key,e.name,e.params,e.path]),R=E.useMemo(()=>({state:r,getState:_,setState:S,getKey:f,setKey:y,getIsInitial:x,addOptionsGetter:g}),[r,_,S,f,y,x,g]),O=n.getComponent?n.getComponent():n.component;return v.jsx(Md.Provider,{value:R,children:v.jsx(G_.Provider,{value:I,children:v.jsx(AI,{children:v.jsx(g4,{name:n.name,render:O||n.children,navigation:t,route:e,children:O!==void 0?v.jsx(O,{navigation:t,route:e}):n.children!==void 0?n.children({navigation:t,route:e}):null})})})})}function y4({state:n,getState:e,navigation:t,setOptions:r,router:a,emitter:o}){const{stackRef:u}=E.useContext(ea),c=E.useMemo(()=>{const{emit:f,...g}=t,y={...a.actionCreators,...Nd},_=()=>{throw new Error("Actions cannot be dispatched from a placeholder screen.")},S=Object.keys(y).reduce((T,x)=>(T[x]=_,T),{});return{...g,...S,addListener:()=>()=>{},removeListener:()=>{},dispatch:_,getParent:T=>T!==void 0&&T===g.getId()?c:g.getParent(T),setOptions:()=>{throw new Error("Options cannot be set from a placeholder screen.")},isFocused:()=>!1}},[t,a.actionCreators]),h=E.useMemo(()=>({current:{}}),[c,e,t,r,o]);return h.current=n.routes.reduce((f,g)=>{const y=h.current[g.key];if(y)f[g.key]=y;else{const _=C=>{const I=typeof C=="function"?C(e()):C;I!=null&&t.dispatch({source:g.key,...I})},S=C=>{let I=!1;try{C()}finally{I&&u&&(u.current=void 0)}},T={...a.actionCreators,...Nd},x=Object.keys(T).reduce((C,I)=>(C[I]=(...R)=>S(()=>_(T[I](...R))),C),{});f[g.key]={...c,...x,...o.create(g.key),dispatch:C=>S(()=>_(C)),getParent:C=>C!==void 0&&C===c.getId()?f[g.key]:c.getParent(C),setOptions:C=>{r(I=>({...I,[g.key]:{...I[g.key],...C}}))},isFocused:()=>{const C=c.getState();return C.routes[C.index].key!==g.key?!1:t?t.isFocused():!0}}}return f},{}),{base:c,navigations:h.current}}function v4({state:n,screens:e,navigation:t,screenOptions:r,screenLayout:a,onAction:o,getState:u,setState:c,addListener:h,addKeyedListener:f,onRouteFocus:g,router:y,emitter:_}){const S=E.useContext(pg),[T,x]=E.useState({}),{onDispatchAction:C,onOptionsChange:I,scheduleUpdate:R,flushUpdates:O,stackRef:z}=E.useContext(ea),H=E.useMemo(()=>({navigation:t,onAction:o,addListener:h,addKeyedListener:f,onRouteFocus:g,onDispatchAction:C,onOptionsChange:I,scheduleUpdate:R,flushUpdates:O,stackRef:z}),[t,o,h,f,g,C,I,R,O,z]),{base:F,navigations:N}=y4({state:n,getState:u,navigation:t,setOptions:x,router:y,emitter:_}),D=FB(n.routes),V=(M,ue,me)=>{const Y=e[M.name],se=Y.props;return[r,...Y.options?Y.options.filter(Boolean):[],se.options,me].reduce((ee,ie)=>Object.assign(ee,typeof ie!="function"?ie:ie({route:M,navigation:ue,theme:S})),{})},B=(M,ue,me,Y)=>{const se=e[M.name],ge=se.props,ee=()=>x(X=>{if(M.key in X){const{[M.key]:ye,...be}=X;return be}return X}),ie=ge.layout??se.layout??a;let G=v.jsx(p4,{navigation:ue,route:M,screen:ge,routeState:Y,getState:u,setState:c,options:me,clearOptions:ee});return ie!=null&&(G=ie({route:M,navigation:ue,options:me,theme:S,children:G})),v.jsx(ea.Provider,{value:H,children:v.jsx(Qd.Provider,{value:ue,children:v.jsx(Oo.Provider,{value:M,children:G})})},M.key)},L=D.reduce((M,ue,me)=>{const Y=N[ue.key],se=V(ue,Y,T[ue.key]),ge=B(ue,Y,se,n.routes[me].state);return M[ue.key]={route:ue,navigation:Y,render(){return ge},options:se},M},{});return{describe:(M,ue)=>{if(!ue){if(!(M.key in L))throw new Error(`Couldn't find a route with the key ${M.key}.`);return L[M.key]}const me=F,Y=V(M,me,{}),se=B(M,me,Y,void 0);return{route:M,navigation:me,render(){return se},options:Y}},descriptors:L}}function _4({navigation:n,focusedListeners:e}){const{addListener:t}=E.useContext(ea),r=E.useCallback(a=>{if(n.isFocused()){for(const o of e){const{handled:u,result:c}=o(a);if(u)return{handled:u,result:c}}return{handled:!0,result:a(n)}}else return{handled:!1,result:null}},[e,n]);E.useEffect(()=>t?.("focus",r),[t,r])}function b4({state:n,emitter:e}){const t=E.useContext(Qd),r=E.useRef(void 0),a=n.routes[n.index].key;E.useEffect(()=>t?.addListener("focus",()=>{r.current=a,e.emit({type:"focus",target:a})}),[a,e,t]),E.useEffect(()=>t?.addListener("blur",()=>{r.current=void 0,e.emit({type:"blur",target:a})}),[a,e,t]),E.useEffect(()=>{const o=r.current;r.current=a,o===void 0&&!t&&e.emit({type:"focus",target:a}),!(o===a||!(!t||t.isFocused()))&&o!==void 0&&(e.emit({type:"blur",target:o}),e.emit({type:"focus",target:a}))},[a,e,t])}function S4(n){const e=E.useRef(void 0);return e.current===void 0&&(e.current=n()),e.current}function T4({id:n,onAction:e,onUnhandledAction:t,getState:r,emitter:a,router:o,stateRef:u}){const c=E.useContext(Qd);return E.useMemo(()=>{const h=_=>{const S=typeof _=="function"?_(r()):_;e(S)||t?.(S)},f={...o.actionCreators,...Nd},g=Object.keys(f).reduce((_,S)=>(_[S]=(...T)=>h(f[S](...T)),_),{}),y={...c,...g,dispatch:h,emit:a.emit,isFocused:c?c.isFocused:()=>!0,canGoBack:()=>{const _=r();return o.getStateForAction(_,EI(),{routeNames:_.routeNames,routeParamList:{},routeGetIdList:{}})!==null||c?.canGoBack()||!1},getId:()=>n,getParent:_=>{if(_!==void 0){let S=y;for(;S&&_!==S.getId();)S=S.getParent();return S}return c},getState:()=>u.current!=null?u.current:r()};return y},[o,c,a.emit,r,e,t,n,u])}var jv={exports:{}},Bv={};var FC;function E4(){if(FC)return Bv;FC=1;var n=Gd();function e(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var t=typeof Object.is=="function"?Object.is:e,r=n.useSyncExternalStore,a=n.useRef,o=n.useEffect,u=n.useMemo,c=n.useDebugValue;return Bv.useSyncExternalStoreWithSelector=function(h,f,g,y,_){var S=a(null);if(S.current===null){var T={hasValue:!1,value:null};S.current=T}else T=S.current;S=u(function(){function C(H){if(!I){if(I=!0,R=H,H=y(H),_!==void 0&&T.hasValue){var F=T.value;if(_(F,H))return O=F}return O=H}if(F=O,t(R,H))return F;var N=y(H);return _!==void 0&&_(F,N)?(R=H,F):(R=H,O=N)}var I=!1,R,O,z=g===void 0?null:g;return[function(){return C(f())},z===null?void 0:function(){return C(z())}]},[f,g,y,_]);var x=r(h,S[0],S[1]);return o(function(){T.hasValue=!0,T.value=x},[x]),c(x),x},Bv}var UC;function w4(){return UC||(UC=1,jv.exports=E4()),jv.exports}var x4=w4();function C4({state:n,children:e}){const t=E.useRef([]),r=Zt(()=>n),a=Zt(u=>(t.current.push(u),()=>{t.current=t.current.filter(c=>c!==u)}));E.useEffect(()=>{t.current.forEach(u=>u())},[n]);const o=E.useMemo(()=>({getState:r,subscribe:a}),[r,a]);return v.jsx(R4.Provider,{value:o,children:e})}const R4=E.createContext(void 0),HC=Symbol("VISITED_ROUTE_KEYS"),YI=(n,e,t,r,a)=>{const o=r.map(f=>f.key),u=t.filter(f=>!o.includes(f.key)).reverse(),c=a[HC]??new Set,h={...a,[HC]:c};for(const f of u){if(c.has(f.key))continue;if(e[f.key]?.(h)||(c.add(f.key),n.emit({type:"beforeRemove",target:f.key,data:{action:h},canPreventDefault:!0}).defaultPrevented))return!0}return!1};function A4({getState:n,emitter:e,beforeRemoveListeners:t}){const{addKeyedListener:r}=E.useContext(ea),o=E.useContext(Oo)?.key;E.useEffect(()=>{if(o)return r?.("beforeRemove",o,u=>{const c=n();return YI(e,t,c.routes,[],u)})},[r,t,e,n,o])}function I4({router:n,getState:e,setState:t,key:r,actionListeners:a,beforeRemoveListeners:o,routerConfigOptions:u,emitter:c}){const{onAction:h,onRouteFocus:f,addListener:g,onDispatchAction:y}=E.useContext(ea),_=E.useContext(CI),S=E.useRef(u);E.useEffect(()=>{S.current=u});const T=E.useCallback((x,C=new Set)=>{const I=e();if(C.has(I.key))return!1;if(C.add(I.key),typeof x.target!="string"||x.target===I.key){let R=n.getStateForAction(I,x,S.current);if(R=R===null&&x.target===I.key?I:R,R!==null){if(y(x,I===R),I!==R){if(YI(c,o,I.routes,R.routes,x))return!0;t(R)}return f!==void 0&&n.shouldActionChangeFocus(x)&&r!==void 0&&f(r),!0}}if(h!==void 0&&h(x,C))return!0;if(typeof x.target=="string"||x.type==="NAVIGATE_DEPRECATED"||_)for(let R=a.length-1;R>=0;R--){const O=a[R];if(O(x,C))return!0}return!1},[a,o,c,e,_,r,h,y,f,n,t]);return A4({getState:e,emitter:c,beforeRemoveListeners:o}),E.useEffect(()=>g?.("action",T),[g,T]),T}function k4({getState:n,getStateListeners:e}){const{addKeyedListener:t}=E.useContext(ea),r=E.useContext(Oo),a=r?r.key:"root",o=E.useCallback(()=>{const u=n(),c=u.routes.map(h=>{const f=e[h.key]?.();return h.state===f?h:{...h,state:f}});return vg(u.routes,c)?u:{...u,routes:c}},[n,e]);E.useEffect(()=>t?.("getState",a,o),[t,o,a])}function O4({router:n,getState:e,key:t,setState:r}){const{onRouteFocus:a}=E.useContext(ea);return E.useCallback(o=>{const u=e(),c=n.getStateForRouteFocus(u,o);c!==u&&r(c),a!==void 0&&t!==void 0&&a(t)},[e,a,n,r,t])}function D4(){const[n]=E.useState(()=>Mr()),e=E.useContext(RI);if(e===void 0)throw new Error(`Couldn't register the navigator. Have you wrapped your app with 'NavigationContainer'?

This can also happen if there are multiple copies of '@react-navigation' packages installed.`);return E.useEffect(()=>{const{register:t,unregister:r}=e;return t(n),()=>r(n)},[e,n]),n}function N4(n){const{scheduleUpdate:e,flushUpdates:t}=E.useContext(ea);e(n),$I(t)}const M4=n=>n.type===W_,P4=n=>n.type===E.Fragment||n.type===zm,L4=n=>n===void 0||typeof n=="string"&&n!=="",QI=(n,e,t,r)=>E.Children.toArray(n).reduce((o,u)=>{if(E.isValidElement(u)){if(M4(u)){if(typeof u.props!="object"||u.props===null)throw new Error("Got an invalid element for screen.");if(typeof u.props.name!="string"||u.props.name==="")throw new Error(`Got an invalid name (${JSON.stringify(u.props.name)}) for the screen. It must be a non-empty string.`);if(u.props.navigationKey!==void 0&&(typeof u.props.navigationKey!="string"||u.props.navigationKey===""))throw new Error(`Got an invalid 'navigationKey' prop (${JSON.stringify(u.props.navigationKey)}) for the screen '${u.props.name}'. It must be a non-empty string or 'undefined'.`);return o.push({keys:[e,u.props.navigationKey],options:t,layout:r,props:u.props}),o}if(P4(u)){if(!L4(u.props.navigationKey))throw new Error(`Got an invalid 'navigationKey' prop (${JSON.stringify(u.props.navigationKey)}) for the group. It must be a non-empty string or 'undefined'.`);return o.push(...QI(u.props.children,u.props.navigationKey,u.type!==zm?t:t!=null?[...t,u.props.screenOptions]:[u.props.screenOptions],typeof u.props.screenLayout=="function"?u.props.screenLayout:r)),o}}throw new Error(`A navigator can only contain 'Screen', 'Group' or 'React.Fragment' as its direct children (found ${E.isValidElement(u)?`'${typeof u.type=="string"?u.type:u.type?.name}'${u.props!=null&&typeof u.props=="object"&&"name"in u.props&&u.props?.name?` for the screen '${u.props.name}'`:""}`:typeof u=="object"?JSON.stringify(u):`'${String(u)}'`}). To render this component in the navigator, pass it in the 'component' prop to 'Screen'.`)},[]),WC=n=>{if(n?.state!=null)return n.state;if(typeof n?.screen=="string"&&n?.initial!==!1)return{routes:[{name:n.screen,params:n.params,path:n.path}]}};function V4(n,e){const t=D4(),r=E.useContext(Oo),{children:a,layout:o,screenOptions:u,screenLayout:c,screenListeners:h,UNSTABLE_router:f,...g}=e,y=QI(a),_=S4(()=>{if(g.initialRouteName!=null&&y.every(je=>je.props.name!==g.initialRouteName))throw new Error(`Couldn't find a screen named '${g.initialRouteName}' to use as 'initialRouteName'.`);const ve=n(g);if(f!=null){const je=f(ve);return{...ve,...je}}return ve}),S=y.reduce((ve,je)=>{if(je.props.name in ve)throw new Error(`A navigator cannot contain multiple 'Screen' components with the same name (found duplicate screen named '${je.props.name}')`);return ve[je.props.name]=je,ve},{}),T=y.map(ve=>ve.props.name),x=T.reduce((ve,je)=>(ve[je]=S[je].keys.map(Ze=>Ze??"").join(":"),ve),{}),C=T.reduce((ve,je)=>{const{initialParams:Ze}=S[je].props;return ve[je]=Ze,ve},{}),I=T.reduce((ve,je)=>Object.assign(ve,{[je]:S[je].props.getId}),{});if(!T.length)throw new Error("Couldn't find any screens for the navigator. Have you defined any screens as its children?");const R=E.useCallback(ve=>ve.type===void 0||ve.type===_.type,[_.type]),O=E.useCallback(ve=>ve!==void 0&&ve.stale===!1&&R(ve),[R]),z=E.useCallback(ve=>ve.routes.every(je=>!T.includes(je.name)),[T]),{state:H,getState:F,setState:N,setKey:D,getKey:V,getIsInitial:B}=E.useContext(Md),L=E.useRef(!1),q=Zt(ve=>{L.current||N(ve)}),[M,ue,me]=E.useMemo(()=>{const ve=T.reduce((je,Ze)=>{const{initialParams:Kt}=S[Ze].props,Pt=r?.params?.state==null&&r?.params?.initial!==!1&&r?.params?.screen===Ze?r.params.params:void 0;return je[Ze]=Kt!==void 0||Pt!==void 0?{...Kt,...Pt}:void 0,je},{});if((H===void 0||!R(H))&&r?.params?.state==null&&!(typeof r?.params?.screen=="string"&&r?.params?.initial!==!1))return[void 0,_.getInitialState({routeNames:T,routeParamList:ve,routeGetIdList:I}),!0];{const Ze=WC(r?.params)??H,Kt=_.getRehydratedState(Ze,{routeNames:T,routeParamList:ve,routeGetIdList:I});return e.UNSTABLE_routeNamesChangeBehavior==="lastUnhandled"&&z(Ze)?[Ze,Kt,!0]:[void 0,Kt,!1]}},[H,_,R]),Y=E.useRef(x);E.useEffect(()=>{Y.current=x});const se=Y.current,[ge,ee]=E.useState(M);e.UNSTABLE_routeNamesChangeBehavior==="lastUnhandled"&&M&&ge!==M&&ee(M);let ie=O(H)?H:ue,G=ie,X=!1;ge?.routes.every(ve=>T.includes(ve.name))&&ie?.routes.every(ve=>!T.includes(ve.name))?(X=!0,G=_.getRehydratedState(ge,{routeNames:T,routeParamList:C,routeGetIdList:I})):(!vg(ie.routeNames,T)||!zI(x,se))&&(G=_.getStateForRouteNamesChange(ie,{routeNames:T,routeParamList:C,routeGetIdList:I,routeKeyChanges:Object.keys(x).filter(ve=>ve in se&&x[ve]!==se[ve])}));const ye=E.useRef(r?.params);if(E.useEffect(()=>{ye.current=r?.params},[r?.params]),r?.params){const ve=ye.current;let je;if(typeof r.params.state=="object"&&r.params.state!=null&&r.params!==ve)e.UNSTABLE_routeNamesChangeBehavior==="lastUnhandled"&&z(r.params.state)?r.params.state!==ge&&ee(r.params.state):je=gg(r.params.state);else if(typeof r.params.screen=="string"&&(r.params.initial===!1&&me||r.params!==ve))if(e.UNSTABLE_routeNamesChangeBehavior==="lastUnhandled"&&!T.includes(r.params.screen)){const Kt=WC(r.params);Kt!=null&&!KI(Kt,ge)&&ee(Kt)}else je=wI({name:r.params.screen,params:r.params.params,path:r.params.path,merge:r.params.merge,pop:r.params.pop});const Ze=je?_.getStateForAction(G,je,{routeNames:T,routeParamList:C,routeGetIdList:I}):null;G=Ze!==null?_.getRehydratedState(Ze,{routeNames:T,routeParamList:C,routeGetIdList:I}):G}const be=ie!==G||typeof r?.params?.state=="object"||typeof r?.params?.screen=="string";N4(()=>{be&&(q(G),X&&ee(void 0))}),ie=G,E.useEffect(()=>(L.current=!1,D(t),B()||q(G),()=>{F()!==void 0&&V()===t&&(N(void 0),L.current=!0)}),[]);const Ie=E.useRef(ie);Ie.current=ie,$I(()=>{Ie.current=null});const De=Zt(()=>{const ve=F();return H_(O(ve)?ve:ue)}),ke=MI(ve=>{const je=[];let Ze;if(ve.target?(Ze=ie.routes.find(Tt=>Tt.key===ve.target),Ze?.name&&je.push(Ze.name)):(Ze=ie.routes[ie.index],je.push(...Object.keys(S).filter(Tt=>Ze?.name===Tt))),Ze==null)return;const Kt=mn[Ze.key].navigation;[].concat(...[h,...je.map(Tt=>{const{listeners:gn}=S[Tt].props;return gn})].map(Tt=>{const gn=typeof Tt=="function"?Tt({route:Ze,navigation:Kt}):Tt;return gn?Object.keys(gn).filter(Un=>Un===ve.type).map(Un=>gn?.[Un]):void 0})).filter((Tt,gn,Un)=>Tt&&Un.lastIndexOf(Tt)===gn).forEach(Tt=>Tt?.(ve))});b4({state:ie,emitter:ke}),E.useEffect(()=>{ke.emit({type:"state",data:{state:ie}})},[ke,ie]);const{listeners:Ve,addListener:$e}=NI(),{keyedListeners:We,addKeyedListener:gt}=PI(),xt=I4({router:_,getState:De,setState:q,key:r?.key,actionListeners:Ve.action,beforeRemoveListeners:We.beforeRemove,routerConfigOptions:{routeNames:T,routeParamList:C,routeGetIdList:I},emitter:ke}),le=O4({router:_,key:r?.key,getState:De,setState:q}),Se=E.useContext(DI),Ct=Zt(ve=>{if(e.UNSTABLE_routeNamesChangeBehavior==="lastUnhandled"&&ve.type==="NAVIGATE"&&ve.payload!=null&&"name"in ve.payload&&typeof ve.payload.name=="string"&&!T.includes(ve.payload.name)){const je={routes:[{name:ve.payload.name,params:"params"in ve.payload&&typeof ve.payload.params=="object"&&ve.payload.params!==null?ve.payload.params:void 0,path:"path"in ve.payload&&typeof ve.payload.path=="string"?ve.payload.path:void 0}]};ee(je)}Se?.(ve)}),Rt=T4({id:e.id,onAction:xt,onUnhandledAction:Ct,getState:De,emitter:ke,router:_,stateRef:Ie});_4({navigation:Rt,focusedListeners:Ve.focus}),k4({getState:De,getStateListeners:We.getState});const{describe:sn,descriptors:mn}=v4({state:ie,screens:S,navigation:Rt,screenOptions:u,screenLayout:c,onAction:xt,getState:De,setState:q,onRouteFocus:le,addListener:$e,addKeyedListener:gt,router:_,emitter:ke});m4({state:ie,navigation:Rt,descriptors:mn});const et=f4(ve=>{const je=o!=null?o({state:ie,descriptors:mn,navigation:Rt,children:ve}):ve;return v.jsx(qI.Provider,{value:void 0,children:v.jsx(ob.Provider,{value:Rt,children:v.jsx(C4,{state:ie,children:v.jsx(o4,{children:je})})})})});return{state:ie,navigation:Rt,describe:sn,descriptors:mn,NavigationContent:et}}function j4(){return E.useContext(G_)}const B4="Couldn't find a LinkingContext context.",_g=E.createContext({get options(){throw new Error(B4)}});_g.displayName="LinkingContext";const Fm=E.createContext("ltr");Fm.displayName="LocaleDirContext";const Yf='system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',z4=an.select({web:{regular:{fontFamily:Yf,fontWeight:"400"},medium:{fontFamily:Yf,fontWeight:"500"},bold:{fontFamily:Yf,fontWeight:"600"},heavy:{fontFamily:Yf,fontWeight:"700"}},ios:{regular:{fontFamily:"System",fontWeight:"400"},medium:{fontFamily:"System",fontWeight:"500"},bold:{fontFamily:"System",fontWeight:"600"},heavy:{fontFamily:"System",fontWeight:"700"}},default:{regular:{fontFamily:"sans-serif",fontWeight:"normal"},medium:{fontFamily:"sans-serif-medium",fontWeight:"normal"},bold:{fontFamily:"sans-serif",fontWeight:"600"},heavy:{fontFamily:"sans-serif",fontWeight:"700"}}}),F4={dark:!1,colors:{primary:"rgb(0, 122, 255)",background:"rgb(242, 242, 242)",card:"rgb(255, 255, 255)",text:"rgb(28, 28, 30)",border:"rgb(216, 216, 216)",notification:"rgb(255, 59, 48)"},fonts:z4},qC="Couldn't find an UnhandledLinkingContext context.",XI=E.createContext({get lastUnhandledLink(){throw new Error(qC)},get setLastUnhandledLink(){throw new Error(qC)}});XI.displayName="UnhandledLinkingContext";function U4(n,{enabled:e=!0,formatter:t=(r,a)=>r?.title??a?.name}={}){E.useEffect(()=>{if(!e)return;const r=n.current;if(r){const a=t(r.getCurrentOptions(),r.getCurrentRoute());document.title=a}return r?.addListener("options",a=>{const o=t(a.data.options,r?.getCurrentRoute());document.title=o})})}function H4(){let n=0,e=[];const t=[],r=()=>{t.forEach(o=>{const u=o.cb;o.cb=()=>u(!0)})};return{get index(){const o=window.history.state?.id;if(o){const u=e.findIndex(c=>c.id===o);return u>-1?u:0}return 0},get(o){return e[o]},backIndex({path:o}){for(let u=n-1;u>=0;u--)if(e[u].path===o)return u;return-1},push({path:o,state:u}){r();const c=Mr();e=e.slice(0,n+1),e.push({path:o,state:u,id:c}),n=e.length-1,window.history.pushState({id:c},"",o)},replace({path:o,state:u}){r();const c=window.history.state?.id??Mr();let h=o;const f=h.includes("#")?"":location.hash;!e.length||e.findIndex(g=>g.id===c)<0?(h=h+f,e=[{path:h,state:u,id:c}],n=0):(e[n].path===o&&(h=h+f),e[n]={path:o,state:u,id:c}),window.history.replaceState({id:c},"",h)},go(o){r();const u=n+o,c=e.length-1;if(o<0&&!e[u]?(o=-n,n=0):o>0&&u>c?(o=c-n,n=c):n=u,o!==0)return new Promise((h,f)=>{const g=S=>{if(clearTimeout(y),S){f(new Error("History was changed during navigation."));return}const{title:T}=window.document;window.document.title="",window.document.title=T,h()};t.push({ref:g,cb:g});const y=setTimeout(()=>{const S=t.findIndex(T=>T.ref===g);S>-1&&(t[S].cb(),t.splice(S,1)),n=this.index},100),_=()=>{n=this.index;const S=t.pop();window.removeEventListener("popstate",_),S?.cb()};window.addEventListener("popstate",_),window.history.go(o)})},listen(o){const u=()=>{n=this.index,!t.length&&o()};return window.addEventListener("popstate",u),()=>window.removeEventListener("popstate",u)}}}const W4=E.createContext(void 0),JI=(n,e)=>{if(n===void 0||e===void 0||n.key!==e.key)return[void 0,void 0];const t=n.history?n.history.length:n.routes.length,r=e.history?e.history.length:e.routes.length,a=n.routes[n.index],o=e.routes[e.index],u=a.state,c=o.state;return t!==r||a.key!==o.key||u===void 0||c===void 0||u.key!==c.key?[n,e]:JI(u,c)},q4=n=>{let e=Promise.resolve();return()=>{e=e.then(n)}};function G4(n,{enabled:e=!0,config:t,getStateFromPath:r=sb,getPathFromState:a=ab,getActionFromState:o=ib},u){const c=LI();E.useEffect(()=>{},[e,c]);const[h]=E.useState(H4),f=E.useRef(e),g=E.useRef(t),y=E.useRef(r),_=E.useRef(a),S=E.useRef(o);E.useEffect(()=>{f.current=e,g.current=t,y.current=r,_.current=a,S.current=o});const T=E.useCallback(z=>{const F=n.current?.getRootState();return z?.routes.some(N=>!F?.routeNames.includes(N.name))},[n]),x=E.useContext(W4),C=E.useCallback(()=>{let z;if(f.current){const F=x?.location??(typeof window<"u"?window.location:void 0),N=F?F.pathname+F.search:void 0;N&&(z=y.current(N,g.current)),u(N)}const H={then(F){return Promise.resolve(F?F(z):z)},catch(){return H}};return H},[]),I=E.useRef(void 0),R=E.useRef(void 0),O=E.useRef(void 0);return E.useEffect(()=>(I.current=h.index,h.listen(()=>{const z=n.current;if(!z||!e)return;const{location:H}=window,F=H.pathname+H.search,N=h.index,D=I.current??0;I.current=N,O.current=F;const V=h.get(N);if(V?.path===F&&V?.state){z.resetRoot(V.state);return}const B=y.current(F,g.current);if(B){if(u(F),T(B))return;if(N>D){const L=S.current(B,g.current);if(L!==void 0)try{z.dispatch(L)}catch(q){console.warn(`An error occurred when trying to handle the link '${F}': ${typeof q=="object"&&q!=null&&"message"in q?q.message:q}`)}else z.resetRoot(B)}else z.resetRoot(B)}else z.resetRoot(B)})),[e,h,u,n,T]),E.useEffect(()=>{if(!e)return;const z=(F,N)=>{let D;if(F?.path){const B=y.current(F.path,g.current);if(B){const L=_l(B);L&&L.name===F.name&&KI(L.params,F.params)&&(D=F.path)}}D==null&&(D=_.current(N,g.current));const V=R.current?_l(R.current):void 0;return V&&F&&"key"in V&&"key"in F&&V.key===F.key&&(D=D+location.hash),D};if(n.current){const F=n.current.getRootState();if(F){const N=_l(F),D=z(N,F);R.current===void 0&&(R.current=F),h.replace({path:D,state:F})}}const H=async()=>{const F=n.current;if(!F||!e)return;const N=R.current,D=F.getRootState();if(!D)return;const V=O.current,B=_l(D),L=z(B,D);R.current=D,O.current=void 0;const[q,M]=JI(N,D);if(q&&M&&L!==V){const ue=(M.history?M.history.length:M.routes.length)-(q.history?q.history.length:q.routes.length);if(ue>0)h.push({path:L,state:D});else if(ue<0){const me=h.backIndex({path:L}),Y=h.index;try{me!==-1&&me<Y&&h.get(me)?await h.go(me-Y):await h.go(ue),h.replace({path:L,state:D})}catch{}}else h.replace({path:L,state:D})}else h.replace({path:L,state:D})};return n.current?.addListener("state",q4(H))},[e,h,n]),{getInitialState:C}}function K4(n){const[e]=E.useState(n);let t=[!1,void 0];e.then(u=>{t=[!0,u]});const[r,a]=E.useState(t),[o]=r;return E.useEffect(()=>{let u=!1;return o||(async()=>{let h;try{h=await e}finally{u||a([!0,h])}})(),()=>{u=!0}},[e,o]),r}globalThis.REACT_NAVIGATION_DEVTOOLS=new WeakMap;function $4({direction:n="ltr",theme:e=F4,linking:t,fallback:r=null,documentTitle:a,onReady:o,onStateChange:u,...c},h){const f=t?t.enabled!==!1:!1;t?.config&&yg(t.config);const g=E.useRef(null);U4(g,a);const[y,_]=E.useState(),{getInitialState:S}=G4(g,{enabled:f,...t},_),T=E.useMemo(()=>({options:t}),[t]),x=E.useMemo(()=>({lastUnhandledLink:y,setLastUnhandledLink:_}),[y,_]),C=Zt(()=>{const H=g.current?.getCurrentRoute()?.path;_(F=>{if(F!==H)return F}),o?.()}),I=Zt(H=>{const F=g.current?.getCurrentRoute()?.path;_(N=>{if(N!==F)return N}),u?.(H)});E.useEffect(()=>{g.current&&REACT_NAVIGATION_DEVTOOLS.set(g.current,{get linking(){return{...t,enabled:f,prefixes:t?.prefixes??[],getStateFromPath:t?.getStateFromPath??sb,getPathFromState:t?.getPathFromState??ab,getActionFromState:t?.getActionFromState??ib}}})});const[R,O]=K4(S);return E.useImperativeHandle(h,()=>g.current),c.initialState!=null||!f||R?v.jsx(Fm.Provider,{value:n,children:v.jsx(XI.Provider,{value:x,children:v.jsx(_g.Provider,{value:T,children:v.jsx(LB,{...c,theme:e,onReady:C,onStateChange:I,initialState:c.initialState==null?O:c.initialState,ref:g})})})}):v.jsx(Fm.Provider,{value:n,children:v.jsx(OI,{value:e,children:r})})}const Y4=E.forwardRef($4);function Q4(){const n=E.useContext(ob),e=E.useContext(Oo),{options:t}=E.useContext(_g),r=j4(),a=t?.getPathFromState??ab;return E.useCallback((u,c)=>{if(t?.enabled===!1)return;const h=n&&e?.key&&r?e.key===_l(r)?.key&&n.getState().routes.some(S=>S.key===e.key):!1,f={routes:[{name:u,params:c}]},g=S=>{if(S){const T=S.routes[0];return h&&!T.state?f:{routes:[{...T,state:g(T.state)}]}}return f},y=g(r);return a(y,t?.config)},[t?.enabled,t?.config,e?.key,n,r,a])}const X4=()=>{const{options:n}=E.useContext(_g),e=n?.getStateFromPath??sb,t=n?.getActionFromState??ib;return E.useCallback(a=>{if(!a.startsWith("/"))throw new Error(`The href must start with '/' (${a}).`);const o=e(a,n?.config);if(o)return t(o,n?.config)??gg(o);throw new Error("Failed to parse the href to a navigation state.")},[n?.config,e,t])};function J4(){const n=Q4(),e=X4();return{buildHref:n,buildAction:e}}function ZI(){const n=E.useContext(Fm);if(n===void 0)throw new Error("Couldn't determine the text direction. Is your component inside NavigationContainer?");return{direction:n}}const Z4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAQAAABIkb+zAAAAlklEQVR4Ae3a1REDMRDG4A3VmHbcUFLigf0exn/mkxuQjmELAAAAAD5Eq5atP6+rZeuPhGz9kZCtPxKy9fs6Zuuf60CfPn369OnTp0+fPn369OnTfx36X1vh+nO6/pytL+D1BCexy+iNhFPt6/dIOEiQIEGCBAkSJEiQ8B0k+PwoQYKhP2OXAYOvRo+vD38bvwcAAACABXF8ILs1PQqpAAAAAElFTkSuQmCC",e3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgBAMAAAAQtmoLAAAAFVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAASAQCkAAAABnRSTlMANO8Qy7qrh7/eAAAA4ElEQVR4Xu3WvQ3CQAxHcRALoGxAQ00RJkBiASQGQPDffwSU+t3pFe4in9xFuV8+fLYPvTo69hv38wg4vmbA6XkZAcv3NgHWfAbE8ZrHDEgGxJJMiDXZCAKZEO9kIwgkv6GwBMQGYBtck11ICEBCARIEhCAgBAAjACgBwAgASgAwAoASAIwAoAQAIwAYAcAIAEYAEAKAEASccMBv8Ecqv7R/1vKP89QoJ5+nd/kA+REtFwEvM+VC5qWyXIy93JcbiresclP0tltt7D46VIcTH3+KA5aPcPUh0cfQjo6Ona4/2hPAtwOzeV0AAAAASUVORK5CYII=",ek="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAQAAABIkb+zAAADZ0lEQVR42u3bS0hUURzH8W+mzrKwpDJ6gb18VEJvo3da1CqoFrWICoIsWvROs1oELQpqUYsI2lRYFCFGVPR+U7QJalMU9NAMKzRC1NETSBDevwedOXPOnYnz+e0E/+f+7rlzZ+bC4Hme53melxz6pOKiw1hGHjmdGYziK7WdeUMNX0hqE6nkJUqbDl5QTgFJaTbPUL3MI2aSVPKpQcWYK4wjKUQ4SRQVR6IcJ4OQDeIJyiD3GUiIiviIMswHCgnJMn6jekgHqsf8opQQFKE//DpOsZIZjCCTCCOZwSpOU4/SpIkCHBvER80ZP8t0+gBSGsVUafbkPQNxKKJ56d5gEj2ZzG0UMvfIwJkTKJEW1tFbG2lFiRzFkTzkfb+eYmIxlwYxo5VcnKhGHv4oYjWa72LOBRyYhbx4ionHPNrELWAK1smX73ritUnMuoNlBWLJm5h4IOblYlW52PQiTEwXBbZh1YvAcucwdTkw8SEWDRXvozMxNT8wsZ1srNkobp9pmErnR2DqWqw5FljqNIlwNjD1MIbS0Mmhq1uYk1Ny3BX4RCJ8Dq9AHYlQS1dDbBWQo2stFLC6A8rCg0Oxns2BdQk8V/p9rTcu4GSz9VO+uiswnEQYFt4OLCIRSsSFaq3Aa/FkqC+mMllCV4+wZrD4MDcbUyXiiWl/LHoaWO4Spq4GJj7Gql2oQKZhYo6YV4lVY5HPl008E98GxmDZXVFhC/HaIWZVYd1UsWiUhcRjKe3iG3YhDlwUFX4wnlgV0ijmVONELm1i6Z8sivHsy8NvJh9HjqBEomyN4dpvR4lswZl0zSPyJ8yiJ3N5jkLmKk5l8Q7VbaopIQOQMlnMNc1/fSMbx/JoRGnSSBXrKaWQLAYwgVI2cJEmlDZtrCZChEwcWoCsYJ6DODSetyjD1NMaZoUsbqEMUkM2K8RfD+BQOodpQcWRZjb/naDCrQCjOEcHKoZ0cIV8EAVCqwBF3ET1KlHOU8A/fVHdZj/OjWQrd4miv1k+pILRBO0Ls4KUxRoOcYbrvKKBBl5zh/McZTn90KnQVKgk2fzPFco1Ffb5Cg7t1VSo8BUc2qOpUO4rOLRbU2Gvr+DQLk2FPb6CQzs1FXaneoUyUsiO1D58WaGMFLRdHH6KVigjhW2jzP8szPM8z/M8z0t2fwDen7r/jhTzQwAAAABJRU5ErkJggg==";function t3({style:n,...e}){const{colors:t}=Do();return v.jsx(wn.View,{...e,style:[{flex:1,backgroundColor:t.background},n]})}var zv={exports:{}},Fv,GC;function tk(){return GC||(GC=1,Fv={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),Fv}var Uv={exports:{}},Hv,KC;function n3(){return KC||(KC=1,Hv=function(e){return!e||typeof e=="string"?!1:e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&e.constructor.name!=="String")}),Hv}var $C;function r3(){if($C)return Uv.exports;$C=1;var n=n3(),e=Array.prototype.concat,t=Array.prototype.slice,r=Uv.exports=function(o){for(var u=[],c=0,h=o.length;c<h;c++){var f=o[c];n(f)?u=e.call(u,t.call(f)):u.push(f)}return u};return r.wrap=function(a){return function(){return a(r(arguments))}},Uv.exports}var YC;function i3(){if(YC)return zv.exports;YC=1;var n=tk(),e=r3(),t=Object.hasOwnProperty,r=Object.create(null);for(var a in n)t.call(n,a)&&(r[n[a]]=a);var o=zv.exports={to:{},get:{}};o.get=function(h){var f=h.substring(0,3).toLowerCase(),g,y;switch(f){case"hsl":g=o.get.hsl(h),y="hsl";break;case"hwb":g=o.get.hwb(h),y="hwb";break;default:g=o.get.rgb(h),y="rgb";break}return g?{model:y,value:g}:null},o.get.rgb=function(h){if(!h)return null;var f=/^#([a-f0-9]{3,4})$/i,g=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,y=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,_=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,S=/^(\w+)$/,T=[0,0,0,1],x,C,I;if(x=h.match(g)){for(I=x[2],x=x[1],C=0;C<3;C++){var R=C*2;T[C]=parseInt(x.slice(R,R+2),16)}I&&(T[3]=parseInt(I,16)/255)}else if(x=h.match(f)){for(x=x[1],I=x[3],C=0;C<3;C++)T[C]=parseInt(x[C]+x[C],16);I&&(T[3]=parseInt(I+I,16)/255)}else if(x=h.match(y)){for(C=0;C<3;C++)T[C]=parseInt(x[C+1],0);x[4]&&(x[5]?T[3]=parseFloat(x[4])*.01:T[3]=parseFloat(x[4]))}else if(x=h.match(_)){for(C=0;C<3;C++)T[C]=Math.round(parseFloat(x[C+1])*2.55);x[4]&&(x[5]?T[3]=parseFloat(x[4])*.01:T[3]=parseFloat(x[4]))}else return(x=h.match(S))?x[1]==="transparent"?[0,0,0,0]:t.call(n,x[1])?(T=n[x[1]],T[3]=1,T):null:null;for(C=0;C<3;C++)T[C]=u(T[C],0,255);return T[3]=u(T[3],0,1),T},o.get.hsl=function(h){if(!h)return null;var f=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,g=h.match(f);if(g){var y=parseFloat(g[4]),_=(parseFloat(g[1])%360+360)%360,S=u(parseFloat(g[2]),0,100),T=u(parseFloat(g[3]),0,100),x=u(isNaN(y)?1:y,0,1);return[_,S,T,x]}return null},o.get.hwb=function(h){if(!h)return null;var f=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,g=h.match(f);if(g){var y=parseFloat(g[4]),_=(parseFloat(g[1])%360+360)%360,S=u(parseFloat(g[2]),0,100),T=u(parseFloat(g[3]),0,100),x=u(isNaN(y)?1:y,0,1);return[_,S,T,x]}return null},o.to.hex=function(){var h=e(arguments);return"#"+c(h[0])+c(h[1])+c(h[2])+(h[3]<1?c(Math.round(h[3]*255)):"")},o.to.rgb=function(){var h=e(arguments);return h.length<4||h[3]===1?"rgb("+Math.round(h[0])+", "+Math.round(h[1])+", "+Math.round(h[2])+")":"rgba("+Math.round(h[0])+", "+Math.round(h[1])+", "+Math.round(h[2])+", "+h[3]+")"},o.to.rgb.percent=function(){var h=e(arguments),f=Math.round(h[0]/255*100),g=Math.round(h[1]/255*100),y=Math.round(h[2]/255*100);return h.length<4||h[3]===1?"rgb("+f+"%, "+g+"%, "+y+"%)":"rgba("+f+"%, "+g+"%, "+y+"%, "+h[3]+")"},o.to.hsl=function(){var h=e(arguments);return h.length<4||h[3]===1?"hsl("+h[0]+", "+h[1]+"%, "+h[2]+"%)":"hsla("+h[0]+", "+h[1]+"%, "+h[2]+"%, "+h[3]+")"},o.to.hwb=function(){var h=e(arguments),f="";return h.length>=4&&h[3]!==1&&(f=", "+h[3]),"hwb("+h[0]+", "+h[1]+"%, "+h[2]+"%"+f+")"},o.to.keyword=function(h){return r[h.slice(0,3)]};function u(h,f,g){return Math.min(Math.max(f,h),g)}function c(h){var f=Math.round(h).toString(16).toUpperCase();return f.length<2?"0"+f:f}return zv.exports}var Wv,QC;function nk(){if(QC)return Wv;QC=1;const n=tk(),e={};for(const a of Object.keys(n))e[n[a]]=a;const t={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};Wv=t;for(const a of Object.keys(t)){if(!("channels"in t[a]))throw new Error("missing channels property: "+a);if(!("labels"in t[a]))throw new Error("missing channel labels property: "+a);if(t[a].labels.length!==t[a].channels)throw new Error("channel and label counts mismatch: "+a);const{channels:o,labels:u}=t[a];delete t[a].channels,delete t[a].labels,Object.defineProperty(t[a],"channels",{value:o}),Object.defineProperty(t[a],"labels",{value:u})}t.rgb.hsl=function(a){const o=a[0]/255,u=a[1]/255,c=a[2]/255,h=Math.min(o,u,c),f=Math.max(o,u,c),g=f-h;let y,_;f===h?y=0:o===f?y=(u-c)/g:u===f?y=2+(c-o)/g:c===f&&(y=4+(o-u)/g),y=Math.min(y*60,360),y<0&&(y+=360);const S=(h+f)/2;return f===h?_=0:S<=.5?_=g/(f+h):_=g/(2-f-h),[y,_*100,S*100]},t.rgb.hsv=function(a){let o,u,c,h,f;const g=a[0]/255,y=a[1]/255,_=a[2]/255,S=Math.max(g,y,_),T=S-Math.min(g,y,_),x=function(C){return(S-C)/6/T+1/2};return T===0?(h=0,f=0):(f=T/S,o=x(g),u=x(y),c=x(_),g===S?h=c-u:y===S?h=1/3+o-c:_===S&&(h=2/3+u-o),h<0?h+=1:h>1&&(h-=1)),[h*360,f*100,S*100]},t.rgb.hwb=function(a){const o=a[0],u=a[1];let c=a[2];const h=t.rgb.hsl(a)[0],f=1/255*Math.min(o,Math.min(u,c));return c=1-1/255*Math.max(o,Math.max(u,c)),[h,f*100,c*100]},t.rgb.cmyk=function(a){const o=a[0]/255,u=a[1]/255,c=a[2]/255,h=Math.min(1-o,1-u,1-c),f=(1-o-h)/(1-h)||0,g=(1-u-h)/(1-h)||0,y=(1-c-h)/(1-h)||0;return[f*100,g*100,y*100,h*100]};function r(a,o){return(a[0]-o[0])**2+(a[1]-o[1])**2+(a[2]-o[2])**2}return t.rgb.keyword=function(a){const o=e[a];if(o)return o;let u=1/0,c;for(const h of Object.keys(n)){const f=n[h],g=r(a,f);g<u&&(u=g,c=h)}return c},t.keyword.rgb=function(a){return n[a]},t.rgb.xyz=function(a){let o=a[0]/255,u=a[1]/255,c=a[2]/255;o=o>.04045?((o+.055)/1.055)**2.4:o/12.92,u=u>.04045?((u+.055)/1.055)**2.4:u/12.92,c=c>.04045?((c+.055)/1.055)**2.4:c/12.92;const h=o*.4124+u*.3576+c*.1805,f=o*.2126+u*.7152+c*.0722,g=o*.0193+u*.1192+c*.9505;return[h*100,f*100,g*100]},t.rgb.lab=function(a){const o=t.rgb.xyz(a);let u=o[0],c=o[1],h=o[2];u/=95.047,c/=100,h/=108.883,u=u>.008856?u**(1/3):7.787*u+16/116,c=c>.008856?c**(1/3):7.787*c+16/116,h=h>.008856?h**(1/3):7.787*h+16/116;const f=116*c-16,g=500*(u-c),y=200*(c-h);return[f,g,y]},t.hsl.rgb=function(a){const o=a[0]/360,u=a[1]/100,c=a[2]/100;let h,f,g;if(u===0)return g=c*255,[g,g,g];c<.5?h=c*(1+u):h=c+u-c*u;const y=2*c-h,_=[0,0,0];for(let S=0;S<3;S++)f=o+1/3*-(S-1),f<0&&f++,f>1&&f--,6*f<1?g=y+(h-y)*6*f:2*f<1?g=h:3*f<2?g=y+(h-y)*(2/3-f)*6:g=y,_[S]=g*255;return _},t.hsl.hsv=function(a){const o=a[0];let u=a[1]/100,c=a[2]/100,h=u;const f=Math.max(c,.01);c*=2,u*=c<=1?c:2-c,h*=f<=1?f:2-f;const g=(c+u)/2,y=c===0?2*h/(f+h):2*u/(c+u);return[o,y*100,g*100]},t.hsv.rgb=function(a){const o=a[0]/60,u=a[1]/100;let c=a[2]/100;const h=Math.floor(o)%6,f=o-Math.floor(o),g=255*c*(1-u),y=255*c*(1-u*f),_=255*c*(1-u*(1-f));switch(c*=255,h){case 0:return[c,_,g];case 1:return[y,c,g];case 2:return[g,c,_];case 3:return[g,y,c];case 4:return[_,g,c];case 5:return[c,g,y]}},t.hsv.hsl=function(a){const o=a[0],u=a[1]/100,c=a[2]/100,h=Math.max(c,.01);let f,g;g=(2-u)*c;const y=(2-u)*h;return f=u*h,f/=y<=1?y:2-y,f=f||0,g/=2,[o,f*100,g*100]},t.hwb.rgb=function(a){const o=a[0]/360;let u=a[1]/100,c=a[2]/100;const h=u+c;let f;h>1&&(u/=h,c/=h);const g=Math.floor(6*o),y=1-c;f=6*o-g,(g&1)!==0&&(f=1-f);const _=u+f*(y-u);let S,T,x;switch(g){default:case 6:case 0:S=y,T=_,x=u;break;case 1:S=_,T=y,x=u;break;case 2:S=u,T=y,x=_;break;case 3:S=u,T=_,x=y;break;case 4:S=_,T=u,x=y;break;case 5:S=y,T=u,x=_;break}return[S*255,T*255,x*255]},t.cmyk.rgb=function(a){const o=a[0]/100,u=a[1]/100,c=a[2]/100,h=a[3]/100,f=1-Math.min(1,o*(1-h)+h),g=1-Math.min(1,u*(1-h)+h),y=1-Math.min(1,c*(1-h)+h);return[f*255,g*255,y*255]},t.xyz.rgb=function(a){const o=a[0]/100,u=a[1]/100,c=a[2]/100;let h,f,g;return h=o*3.2406+u*-1.5372+c*-.4986,f=o*-.9689+u*1.8758+c*.0415,g=o*.0557+u*-.204+c*1.057,h=h>.0031308?1.055*h**(1/2.4)-.055:h*12.92,f=f>.0031308?1.055*f**(1/2.4)-.055:f*12.92,g=g>.0031308?1.055*g**(1/2.4)-.055:g*12.92,h=Math.min(Math.max(0,h),1),f=Math.min(Math.max(0,f),1),g=Math.min(Math.max(0,g),1),[h*255,f*255,g*255]},t.xyz.lab=function(a){let o=a[0],u=a[1],c=a[2];o/=95.047,u/=100,c/=108.883,o=o>.008856?o**(1/3):7.787*o+16/116,u=u>.008856?u**(1/3):7.787*u+16/116,c=c>.008856?c**(1/3):7.787*c+16/116;const h=116*u-16,f=500*(o-u),g=200*(u-c);return[h,f,g]},t.lab.xyz=function(a){const o=a[0],u=a[1],c=a[2];let h,f,g;f=(o+16)/116,h=u/500+f,g=f-c/200;const y=f**3,_=h**3,S=g**3;return f=y>.008856?y:(f-16/116)/7.787,h=_>.008856?_:(h-16/116)/7.787,g=S>.008856?S:(g-16/116)/7.787,h*=95.047,f*=100,g*=108.883,[h,f,g]},t.lab.lch=function(a){const o=a[0],u=a[1],c=a[2];let h;h=Math.atan2(c,u)*360/2/Math.PI,h<0&&(h+=360);const g=Math.sqrt(u*u+c*c);return[o,g,h]},t.lch.lab=function(a){const o=a[0],u=a[1],h=a[2]/360*2*Math.PI,f=u*Math.cos(h),g=u*Math.sin(h);return[o,f,g]},t.rgb.ansi16=function(a,o=null){const[u,c,h]=a;let f=o===null?t.rgb.hsv(a)[2]:o;if(f=Math.round(f/50),f===0)return 30;let g=30+(Math.round(h/255)<<2|Math.round(c/255)<<1|Math.round(u/255));return f===2&&(g+=60),g},t.hsv.ansi16=function(a){return t.rgb.ansi16(t.hsv.rgb(a),a[2])},t.rgb.ansi256=function(a){const o=a[0],u=a[1],c=a[2];return o===u&&u===c?o<8?16:o>248?231:Math.round((o-8)/247*24)+232:16+36*Math.round(o/255*5)+6*Math.round(u/255*5)+Math.round(c/255*5)},t.ansi16.rgb=function(a){let o=a%10;if(o===0||o===7)return a>50&&(o+=3.5),o=o/10.5*255,[o,o,o];const u=(~~(a>50)+1)*.5,c=(o&1)*u*255,h=(o>>1&1)*u*255,f=(o>>2&1)*u*255;return[c,h,f]},t.ansi256.rgb=function(a){if(a>=232){const f=(a-232)*10+8;return[f,f,f]}a-=16;let o;const u=Math.floor(a/36)/5*255,c=Math.floor((o=a%36)/6)/5*255,h=o%6/5*255;return[u,c,h]},t.rgb.hex=function(a){const u=(((Math.round(a[0])&255)<<16)+((Math.round(a[1])&255)<<8)+(Math.round(a[2])&255)).toString(16).toUpperCase();return"000000".substring(u.length)+u},t.hex.rgb=function(a){const o=a.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!o)return[0,0,0];let u=o[0];o[0].length===3&&(u=u.split("").map(y=>y+y).join(""));const c=parseInt(u,16),h=c>>16&255,f=c>>8&255,g=c&255;return[h,f,g]},t.rgb.hcg=function(a){const o=a[0]/255,u=a[1]/255,c=a[2]/255,h=Math.max(Math.max(o,u),c),f=Math.min(Math.min(o,u),c),g=h-f;let y,_;return g<1?y=f/(1-g):y=0,g<=0?_=0:h===o?_=(u-c)/g%6:h===u?_=2+(c-o)/g:_=4+(o-u)/g,_/=6,_%=1,[_*360,g*100,y*100]},t.hsl.hcg=function(a){const o=a[1]/100,u=a[2]/100,c=u<.5?2*o*u:2*o*(1-u);let h=0;return c<1&&(h=(u-.5*c)/(1-c)),[a[0],c*100,h*100]},t.hsv.hcg=function(a){const o=a[1]/100,u=a[2]/100,c=o*u;let h=0;return c<1&&(h=(u-c)/(1-c)),[a[0],c*100,h*100]},t.hcg.rgb=function(a){const o=a[0]/360,u=a[1]/100,c=a[2]/100;if(u===0)return[c*255,c*255,c*255];const h=[0,0,0],f=o%1*6,g=f%1,y=1-g;let _=0;switch(Math.floor(f)){case 0:h[0]=1,h[1]=g,h[2]=0;break;case 1:h[0]=y,h[1]=1,h[2]=0;break;case 2:h[0]=0,h[1]=1,h[2]=g;break;case 3:h[0]=0,h[1]=y,h[2]=1;break;case 4:h[0]=g,h[1]=0,h[2]=1;break;default:h[0]=1,h[1]=0,h[2]=y}return _=(1-u)*c,[(u*h[0]+_)*255,(u*h[1]+_)*255,(u*h[2]+_)*255]},t.hcg.hsv=function(a){const o=a[1]/100,u=a[2]/100,c=o+u*(1-o);let h=0;return c>0&&(h=o/c),[a[0],h*100,c*100]},t.hcg.hsl=function(a){const o=a[1]/100,c=a[2]/100*(1-o)+.5*o;let h=0;return c>0&&c<.5?h=o/(2*c):c>=.5&&c<1&&(h=o/(2*(1-c))),[a[0],h*100,c*100]},t.hcg.hwb=function(a){const o=a[1]/100,u=a[2]/100,c=o+u*(1-o);return[a[0],(c-o)*100,(1-c)*100]},t.hwb.hcg=function(a){const o=a[1]/100,c=1-a[2]/100,h=c-o;let f=0;return h<1&&(f=(c-h)/(1-h)),[a[0],h*100,f*100]},t.apple.rgb=function(a){return[a[0]/65535*255,a[1]/65535*255,a[2]/65535*255]},t.rgb.apple=function(a){return[a[0]/255*65535,a[1]/255*65535,a[2]/255*65535]},t.gray.rgb=function(a){return[a[0]/100*255,a[0]/100*255,a[0]/100*255]},t.gray.hsl=function(a){return[0,0,a[0]]},t.gray.hsv=t.gray.hsl,t.gray.hwb=function(a){return[0,100,a[0]]},t.gray.cmyk=function(a){return[0,0,0,a[0]]},t.gray.lab=function(a){return[a[0],0,0]},t.gray.hex=function(a){const o=Math.round(a[0]/100*255)&255,c=((o<<16)+(o<<8)+o).toString(16).toUpperCase();return"000000".substring(c.length)+c},t.rgb.gray=function(a){return[(a[0]+a[1]+a[2])/3/255*100]},Wv}var qv,XC;function a3(){if(XC)return qv;XC=1;const n=nk();function e(){const o={},u=Object.keys(n);for(let c=u.length,h=0;h<c;h++)o[u[h]]={distance:-1,parent:null};return o}function t(o){const u=e(),c=[o];for(u[o].distance=0;c.length;){const h=c.pop(),f=Object.keys(n[h]);for(let g=f.length,y=0;y<g;y++){const _=f[y],S=u[_];S.distance===-1&&(S.distance=u[h].distance+1,S.parent=h,c.unshift(_))}}return u}function r(o,u){return function(c){return u(o(c))}}function a(o,u){const c=[u[o].parent,o];let h=n[u[o].parent][o],f=u[o].parent;for(;u[f].parent;)c.unshift(u[f].parent),h=r(n[u[f].parent][f],h),f=u[f].parent;return h.conversion=c,h}return qv=function(o){const u=t(o),c={},h=Object.keys(u);for(let f=h.length,g=0;g<f;g++){const y=h[g];u[y].parent!==null&&(c[y]=a(y,u))}return c},qv}var Gv,JC;function s3(){if(JC)return Gv;JC=1;const n=nk(),e=a3(),t={},r=Object.keys(n);function a(u){const c=function(...h){const f=h[0];return f==null?f:(f.length>1&&(h=f),u(h))};return"conversion"in u&&(c.conversion=u.conversion),c}function o(u){const c=function(...h){const f=h[0];if(f==null)return f;f.length>1&&(h=f);const g=u(h);if(typeof g=="object")for(let y=g.length,_=0;_<y;_++)g[_]=Math.round(g[_]);return g};return"conversion"in u&&(c.conversion=u.conversion),c}return r.forEach(u=>{t[u]={},Object.defineProperty(t[u],"channels",{value:n[u].channels}),Object.defineProperty(t[u],"labels",{value:n[u].labels});const c=e(u);Object.keys(c).forEach(f=>{const g=c[f];t[u][f]=o(g),t[u][f].raw=a(g)})}),Gv=t,Gv}var Kv,ZC;function o3(){if(ZC)return Kv;ZC=1;const n=i3(),e=s3(),t=["keyword","gray","hex"],r={};for(const _ of Object.keys(e))r[[...e[_].labels].sort().join("")]=_;const a={};function o(_,S){if(!(this instanceof o))return new o(_,S);if(S&&S in t&&(S=null),S&&!(S in e))throw new Error("Unknown model: "+S);let T,x;if(_==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(_ instanceof o)this.model=_.model,this.color=[..._.color],this.valpha=_.valpha;else if(typeof _=="string"){const C=n.get(_);if(C===null)throw new Error("Unable to parse color from string: "+_);this.model=C.model,x=e[this.model].channels,this.color=C.value.slice(0,x),this.valpha=typeof C.value[x]=="number"?C.value[x]:1}else if(_.length>0){this.model=S||"rgb",x=e[this.model].channels;const C=Array.prototype.slice.call(_,0,x);this.color=y(C,x),this.valpha=typeof _[x]=="number"?_[x]:1}else if(typeof _=="number")this.model="rgb",this.color=[_>>16&255,_>>8&255,_&255],this.valpha=1;else{this.valpha=1;const C=Object.keys(_);"alpha"in _&&(C.splice(C.indexOf("alpha"),1),this.valpha=typeof _.alpha=="number"?_.alpha:0);const I=C.sort().join("");if(!(I in r))throw new Error("Unable to parse color from object: "+JSON.stringify(_));this.model=r[I];const{labels:R}=e[this.model],O=[];for(T=0;T<R.length;T++)O.push(_[R[T]]);this.color=y(O)}if(a[this.model])for(x=e[this.model].channels,T=0;T<x;T++){const C=a[this.model][T];C&&(this.color[T]=C(this.color[T]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}o.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(_){let S=this.model in n.to?this:this.rgb();S=S.round(typeof _=="number"?_:1);const T=S.valpha===1?S.color:[...S.color,this.valpha];return n.to[S.model](T)},percentString(_){const S=this.rgb().round(typeof _=="number"?_:1),T=S.valpha===1?S.color:[...S.color,this.valpha];return n.to.rgb.percent(T)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const _={},{channels:S}=e[this.model],{labels:T}=e[this.model];for(let x=0;x<S;x++)_[T[x]]=this.color[x];return this.valpha!==1&&(_.alpha=this.valpha),_},unitArray(){const _=this.rgb().color;return _[0]/=255,_[1]/=255,_[2]/=255,this.valpha!==1&&_.push(this.valpha),_},unitObject(){const _=this.rgb().object();return _.r/=255,_.g/=255,_.b/=255,this.valpha!==1&&(_.alpha=this.valpha),_},round(_){return _=Math.max(_||0,0),new o([...this.color.map(c(_)),this.valpha],this.model)},alpha(_){return _!==void 0?new o([...this.color,Math.max(0,Math.min(1,_))],this.model):this.valpha},red:h("rgb",0,f(255)),green:h("rgb",1,f(255)),blue:h("rgb",2,f(255)),hue:h(["hsl","hsv","hsl","hwb","hcg"],0,_=>(_%360+360)%360),saturationl:h("hsl",1,f(100)),lightness:h("hsl",2,f(100)),saturationv:h("hsv",1,f(100)),value:h("hsv",2,f(100)),chroma:h("hcg",1,f(100)),gray:h("hcg",2,f(100)),white:h("hwb",1,f(100)),wblack:h("hwb",2,f(100)),cyan:h("cmyk",0,f(100)),magenta:h("cmyk",1,f(100)),yellow:h("cmyk",2,f(100)),black:h("cmyk",3,f(100)),x:h("xyz",0,f(95.047)),y:h("xyz",1,f(100)),z:h("xyz",2,f(108.833)),l:h("lab",0,f(100)),a:h("lab",1),b:h("lab",2),keyword(_){return _!==void 0?new o(_):e[this.model].keyword(this.color)},hex(_){return _!==void 0?new o(_):n.to.hex(this.rgb().round().color)},hexa(_){if(_!==void 0)return new o(_);const S=this.rgb().round().color;let T=Math.round(this.valpha*255).toString(16).toUpperCase();return T.length===1&&(T="0"+T),n.to.hex(S)+T},rgbNumber(){const _=this.rgb().color;return(_[0]&255)<<16|(_[1]&255)<<8|_[2]&255},luminosity(){const _=this.rgb().color,S=[];for(const[T,x]of _.entries()){const C=x/255;S[T]=C<=.04045?C/12.92:((C+.055)/1.055)**2.4}return .2126*S[0]+.7152*S[1]+.0722*S[2]},contrast(_){const S=this.luminosity(),T=_.luminosity();return S>T?(S+.05)/(T+.05):(T+.05)/(S+.05)},level(_){const S=this.contrast(_);return S>=7?"AAA":S>=4.5?"AA":""},isDark(){const _=this.rgb().color;return(_[0]*2126+_[1]*7152+_[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const _=this.rgb();for(let S=0;S<3;S++)_.color[S]=255-_.color[S];return _},lighten(_){const S=this.hsl();return S.color[2]+=S.color[2]*_,S},darken(_){const S=this.hsl();return S.color[2]-=S.color[2]*_,S},saturate(_){const S=this.hsl();return S.color[1]+=S.color[1]*_,S},desaturate(_){const S=this.hsl();return S.color[1]-=S.color[1]*_,S},whiten(_){const S=this.hwb();return S.color[1]+=S.color[1]*_,S},blacken(_){const S=this.hwb();return S.color[2]+=S.color[2]*_,S},grayscale(){const _=this.rgb().color,S=_[0]*.3+_[1]*.59+_[2]*.11;return o.rgb(S,S,S)},fade(_){return this.alpha(this.valpha-this.valpha*_)},opaquer(_){return this.alpha(this.valpha+this.valpha*_)},rotate(_){const S=this.hsl();let T=S.color[0];return T=(T+_)%360,T=T<0?360+T:T,S.color[0]=T,S},mix(_,S){if(!_||!_.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof _);const T=_.rgb(),x=this.rgb(),C=S===void 0?.5:S,I=2*C-1,R=T.alpha()-x.alpha(),O=((I*R===-1?I:(I+R)/(1+I*R))+1)/2,z=1-O;return o.rgb(O*T.red()+z*x.red(),O*T.green()+z*x.green(),O*T.blue()+z*x.blue(),T.alpha()*C+x.alpha()*(1-C))}};for(const _ of Object.keys(e)){if(t.includes(_))continue;const{channels:S}=e[_];o.prototype[_]=function(...T){return this.model===_?new o(this):T.length>0?new o(T,_):new o([...g(e[this.model][_].raw(this.color)),this.valpha],_)},o[_]=function(...T){let x=T[0];return typeof x=="number"&&(x=y(T,S)),new o(x,_)}}function u(_,S){return Number(_.toFixed(S))}function c(_){return function(S){return u(S,_)}}function h(_,S,T){_=Array.isArray(_)?_:[_];for(const x of _)(a[x]||(a[x]=[]))[S]=T;return _=_[0],function(x){let C;return x!==void 0?(T&&(x=T(x)),C=this[_](),C.color[S]=x,C):(C=this[_]().color[S],T&&(C=T(C)),C)}}function f(_){return function(S){return Math.max(0,Math.min(_,S))}}function g(_){return Array.isArray(_)?_:[_]}function y(_,S){for(let T=0;T<S;T++)typeof _[T]!="number"&&(_[T]=0);return _}return Kv=o,Kv}var l3=o3();const mm=tr(l3),u3=wn.createAnimatedComponent(_I),c3=an.OS!=="web";function d3({disabled:n,onPress:e,onPressIn:t,onPressOut:r,android_ripple:a,pressColor:o,pressOpacity:u=.3,hoverEffect:c,style:h,children:f,...g},y){const{dark:_}=Do(),[S]=E.useState(()=>new wn.Value(1)),T=(R,O)=>{wn.timing(S,{toValue:R,duration:O,easing:Pu.inOut(Pu.quad),useNativeDriver:c3}).start()},x=R=>{if(g.href!==null){const O="metaKey"in R&&R.metaKey||"altKey"in R&&R.altKey||"ctrlKey"in R&&R.ctrlKey||"shiftKey"in R&&R.shiftKey,z="button"in R?R.button==null||R.button===0:!0,H=R.currentTarget&&"target"in R.currentTarget?[void 0,null,"","self"].includes(R.currentTarget.target):!0;!O&&z&&H&&(R.preventDefault(),e?.(R))}else e?.(R)},C=R=>{T(u,0),t?.(R)},I=R=>{T(1,200),r?.(R)};return v.jsxs(u3,{ref:y,accessible:!0,role:g.href!=null?"link":"button",onPress:n?void 0:x,onPressIn:n?void 0:C,onPressOut:n?void 0:I,android_ripple:void 0,style:[{cursor:n?"auto":"pointer",opacity:n?1:S},h],...g,children:[n?null:v.jsx(m3,{...c}),f]})}const rk=E.forwardRef(d3);rk.displayName="PlatformPressable";const h3=String.raw,pl="__react-navigation_elements_Pressable_hover",f3=h3`
  .${pl} {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border-radius: inherit;
    background-color: var(--overlay-color);
    opacity: 0;
    transition: opacity 0.15s;
    pointer-events: none;
  }

  a:hover > .${pl}, button:hover > .${pl} {
    opacity: var(--overlay-hover-opacity);
  }

  a:active > .${pl}, button:active > .${pl} {
    opacity: var(--overlay-active-opacity);
  }
`,m3=({color:n,hoverOpacity:e=.08,activeOpacity:t=.16})=>n==null?null:v.jsxs(v.Fragment,{children:[v.jsx("style",{href:pl,precedence:"elements",children:f3}),v.jsx("div",{className:pl,style:{"--overlay-color":n,"--overlay-hover-opacity":e,"--overlay-active-opacity":t}})]});function ik(n,e,t){let r;const a=t;return n.width>n.height,r=64,r+a}function e1(n,e){return typeof n.headerTitle=="string"?n.headerTitle:n.title!==void 0?n.title:e}const ak=E.createContext(void 0);function sk(n,e){const t=E.useContext(ak);if(t==null)throw new Error("useFrameSize must be used within a FrameSizeProvider");return x4.useSyncExternalStoreWithSelector(e?t.subscribeThrottled:t.subscribe,t.getCurrent,t.getCurrent,n)}function g3({initialFrame:n,render:e}){const t=E.useRef({width:n.width,height:n.height}),r=E.useRef(new Set),a=Zt(()=>t.current),o=Zt(y=>(r.current.add(y),()=>{r.current.delete(y)})),u=Zt(y=>{let S,T=!1,x=!1;const I=o(()=>{clearTimeout(S),T=!0,x?S=setTimeout(()=>{T&&(T=!1,y())},100):(x=!0,setTimeout(function(){x=!1},100),T=!1,y())});return()=>{I(),clearTimeout(S)}}),c=E.useMemo(()=>({getCurrent:a,subscribe:o,subscribeThrottled:u}),[o,u,a]),h=Zt(y=>{t.current.height===y.height&&t.current.width===y.width||(t.current={width:y.width,height:y.height},r.current.forEach(_=>_()))}),f=E.useRef(null);E.useEffect(()=>{},[h]);const g=y=>{const{width:_,height:S}=y.nativeEvent.layout;h({width:_,height:S})};return v.jsxs(ak.Provider,{value:c,children:[v.jsx(p3,{onChange:h}),e({ref:f,onLayout:g})]})}function p3({onChange:n}){const e=E.useRef(null);return E.useEffect(()=>{if(e.current==null)return;const t=e.current.getBoundingClientRect();n({width:t.width,height:t.height});const r=new ResizeObserver(a=>{const o=a[0];if(o){const{width:u,height:c}=o.contentRect;n({width:u,height:c})}});return r.observe(e.current),()=>{r.disconnect()}},[n]),v.jsx("div",{ref:e,style:{position:"absolute",left:0,right:0,top:0,bottom:0,pointerEvents:"none",visibility:"hidden"}})}function y3({disabled:n,onPress:e,pressColor:t,pressOpacity:r,accessibilityLabel:a,testID:o,style:u,href:c,children:h},f){return v.jsx(rk,{ref:f,disabled:n,href:c,"aria-label":a,testID:o,onPress:e,pressColor:t,pressOpacity:r,android_ripple:v3,style:[t1.container,n&&t1.disabled,u],hitSlop:an.select({ios:void 0,default:{top:16,right:16,bottom:16,left:16}}),children:h})}const bg=E.forwardRef(y3);bg.displayName="HeaderButton";const v3={borderless:!0,foreground:an.OS==="android",radius:20},t1=Ne.create({container:{flexDirection:"row",alignItems:"center",paddingHorizontal:8,borderRadius:10,borderCurve:"continuous"},disabled:{opacity:.5}});function Um({source:n,style:e,...t}){const{colors:r}=Do(),{direction:a}=ZI();return v.jsx(Gu,{source:n,resizeMode:"contain",fadeDuration:0,tintColor:r.text,style:[r1.icon,a==="rtl"&&r1.flip,e],...t})}const n1=24,lb=3,r1=Ne.create({icon:{width:n1,height:n1,margin:lb},flip:{transform:"scaleX(-1)"}});function ok({disabled:n,allowFontScaling:e,backImage:t,label:r,labelStyle:a,displayMode:o="minimal",onLabelLayout:u,onPress:c,pressColor:h,pressOpacity:f,screenLayout:g,tintColor:y,titleLayout:_,truncatedLabel:S="Back",accessibilityLabel:T=r&&r!=="Back"?`${r}, back`:"Go back",testID:x,style:C,href:I}){const{colors:R,fonts:O}=Do();ZI();const[z,H]=E.useState(null),[F,N]=E.useState(null),D=()=>t?t({tintColor:y??R.text}):v.jsx(Um,{source:Z4,tintColor:y,style:[rd.icon,o!=="minimal"&&rd.iconWithLabel]}),V=()=>{if(o==="minimal")return null;const L=_&&g?(g.width-_.width)/2-(lk+lb):null,q=o==="default"?r:S,M=L&&z&&F?L>z?q:L>F?S:null:q,ue=[O.regular,rd.label,a],me=[ue,{position:"absolute",top:0,left:0,opacity:0}];return v.jsxs(W,{style:rd.labelWrapper,children:[r&&o==="default"?v.jsx(wn.Text,{style:me,numberOfLines:1,onLayout:se=>H(se.nativeEvent.layout.width),children:r}):null,S?v.jsx(wn.Text,{style:me,numberOfLines:1,onLayout:se=>N(se.nativeEvent.layout.width),children:S}):null,M?v.jsx(wn.Text,{accessible:!1,onLayout:u,style:[y?{color:y}:null,ue],numberOfLines:1,allowFontScaling:!!e,children:M}):null]})},B=()=>{c&&requestAnimationFrame(()=>c())};return v.jsx(bg,{disabled:n,href:I,accessibilityLabel:T,testID:x,onPress:B,pressColor:h,pressOpacity:f,style:[rd.container,C],children:v.jsxs(E.Fragment,{children:[D(),V()]})})}const lk=24,_3=3,rd=Ne.create({container:{paddingHorizontal:0,minWidth:Ne.hairlineWidth,...an.select({ios:null,default:{marginVertical:3,marginHorizontal:11}})},label:{fontSize:17,letterSpacing:.35},labelWrapper:{flexDirection:"row",alignItems:"flex-start",marginEnd:lb},icon:{width:lk,marginEnd:_3},iconWithLabel:{},iconMaskContainer:{flex:1,flexDirection:"row",justifyContent:"center"},iconMaskFillerRect:{flex:1,backgroundColor:"#000"},iconMask:{height:21,width:13,marginStart:-14.5,marginVertical:12,alignSelf:"center"},flip:{transform:"scaleX(-1)"}});function b3({style:n,...e}){const{colors:t,dark:r}=Do();return v.jsx(wn.View,{style:[S3.container,{backgroundColor:t.card,borderBottomColor:t.border,...an.OS==="ios"},n],...e})}const S3=Ne.create({container:{flex:1,...an.select({android:{elevation:4},ios:{shadowOpacity:.3,shadowRadius:0,shadowOffset:{width:0,height:Ne.hairlineWidth}},default:{borderBottomWidth:Ne.hairlineWidth}})}}),T3={text:"text",number:"numeric",phone:"tel",email:"email"},i1=an.OS!=="web";function E3({visible:n,inputType:e,autoFocus:t=!0,autoCapitalize:r,placeholder:a="Search",cancelButtonText:o="Cancel",enterKeyHint:u="search",onChangeText:c,onClose:h,tintColor:f,style:g,...y},_){const S=GI(),{dark:T,colors:x,fonts:C}=Do(),[I,R]=E.useState(""),[O,z]=E.useState(n),[H]=E.useState(()=>new wn.Value(n?1:0)),[F]=E.useState(()=>new wn.Value(0)),N=E.useRef(n),D=E.useRef(!1),V=E.useRef(null);E.useEffect(()=>{if(n!==N.current)return wn.timing(H,{toValue:n?1:0,duration:100,useNativeDriver:i1}).start(({finished:me})=>{me&&(z(n),N.current=n)}),()=>{H.stopAnimation()}},[n,H]);const B=I!=="";E.useEffect(()=>{D.current!==B&&wn.timing(F,{toValue:B?1:0,duration:100,useNativeDriver:i1}).start(({finished:me})=>{me&&(D.current=B)})},[F,B]);const L=E.useCallback(()=>{V.current?.clear(),V.current?.focus(),R("")},[]),q=E.useCallback(()=>{L(),c?.({nativeEvent:{text:""}})},[L,c]),M=E.useCallback(()=>{q(),h()},[q,h]);if(E.useEffect(()=>S?.addListener("blur",M),[M,S]),E.useImperativeHandle(_,()=>({focus:()=>{V.current?.focus()},blur:()=>{V.current?.blur()},setText:me=>{V.current?.setNativeProps({text:me}),R(me)},clearText:L,cancelSearch:M}),[M,L]),!n&&!O)return null;const ue=f??x.text;return v.jsxs(wn.View,{pointerEvents:n?"auto":"none","aria-live":"polite","aria-hidden":!n,style:[id.container,{opacity:H},g],children:[v.jsxs(W,{style:id.searchbarContainer,children:[v.jsx(Um,{source:ek,tintColor:ue,style:id.inputSearchIcon}),v.jsx(xn,{...y,ref:V,onChange:c,onChangeText:R,autoFocus:t,autoCapitalize:r==="systemDefault"?void 0:r,inputMode:T3[e??"text"],enterKeyHint:u,placeholder:a,placeholderTextColor:mm(ue).alpha(.5).string(),cursorColor:x.primary,selectionHandleColor:x.primary,selectionColor:mm(x.primary).alpha(.3).string(),style:[C.regular,id.searchbar,{backgroundColor:an.select({ios:T?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",default:"transparent"}),color:ue,borderBottomColor:mm(ue).alpha(.2).string()}]}),null]}),v.jsx(bg,{onPress:()=>{I?q():h()},style:id.closeButton,children:v.jsx(Um,{source:e3,tintColor:ue})}),null]})}const id=Ne.create({container:{flex:1,flexDirection:"row",alignItems:"stretch"},inputSearchIcon:{position:"absolute",opacity:.5,left:an.select({ios:16,default:4}),top:an.select({ios:-1,default:17}),...an.select({ios:{height:18,width:18},default:{}})},closeButton:{position:"absolute",opacity:.5,right:an.select({ios:0,default:8}),top:an.select({ios:-2,default:17})},clearButton:{position:"absolute",right:0,top:-7,bottom:0,justifyContent:"center",padding:8},clearIcon:{height:16,width:16,opacity:.5},cancelButton:{alignSelf:"center",top:-4},cancelText:{fontSize:17,marginHorizontal:12},searchbarContainer:{flex:1},searchbar:an.select({ios:{flex:1,fontSize:17,paddingHorizontal:32,marginLeft:16,marginTop:-1,marginBottom:4,borderRadius:8,borderCurve:"continuous"},default:{flex:1,fontSize:18,paddingHorizontal:36,marginRight:8,marginTop:8,marginBottom:8,borderBottomWidth:1}})}),w3=E.forwardRef(E3),Hm="__react_navigation__elements_contexts";globalThis[Hm]=globalThis[Hm]??new Map;function ub(n,e){let t=globalThis[Hm].get(n);return t||(t=E.createContext(e),t.displayName=n,globalThis[Hm].set(n,t),t)}const K_=ub("HeaderShownContext",!1);function x3({tintColor:n,style:e,...t}){const{colors:r,fonts:a}=Do();return v.jsx(wn.Text,{role:"heading","aria-level":"1",numberOfLines:1,...t,style:[{color:n===void 0?r.text:n},an.select({ios:a.bold,default:a.medium}),C3.title,e]})}const C3=Ne.create({title:an.select({ios:{fontSize:17},android:{fontSize:20},default:{fontSize:18}})});function R3(n){const e=TI(),t=sk(Ln=>Ln,!0),{colors:r}=Do(),a=GI(),o=E.useContext(K_),[u,c]=E.useState(!1),[h,f]=E.useState(void 0),g=Ln=>{const{height:nr,width:kn}=Ln.nativeEvent.layout;f(Et=>Et&&nr===Et.height&&kn===Et.width?Et:{height:nr,width:kn})},{layout:y=t,modal:_=!1,back:S,title:T,headerTitle:x,headerTitleAlign:C="left",headerLeft:I=S?Ln=>v.jsx(ok,{...Ln}):void 0,headerSearchBarOptions:R,headerTransparent:O,headerTintColor:z,headerBackground:H,headerRight:F,headerTitleAllowFontScaling:N,headerTitleStyle:D,headerLeftContainerStyle:V,headerRightContainerStyle:B,headerTitleContainerStyle:L,headerBackButtonDisplayMode:q="minimal",headerBackTitleStyle:M,headerBackgroundContainerStyle:ue,headerStyle:me,headerShadowVisible:Y,headerPressColor:se,headerPressOpacity:ge,headerStatusBarHeight:ee=o?0:e.top}=n,ie=ik(y,_,ee),{height:G=ie,maxHeight:X,minHeight:ye,backfaceVisibility:be,backgroundColor:Ie,borderBlockColor:De,borderBlockEndColor:ke,borderBlockStartColor:Ve,borderBottomColor:$e,borderBottomEndRadius:We,borderBottomLeftRadius:gt,borderBottomRightRadius:xt,borderBottomStartRadius:le,borderBottomWidth:Se,borderColor:Ct,borderCurve:Rt,borderEndColor:sn,borderEndEndRadius:mn,borderEndStartRadius:et,borderEndWidth:ve,borderLeftColor:je,borderLeftWidth:Ze,borderRadius:Kt,borderRightColor:Pt,borderRightWidth:Tt,borderStartColor:gn,borderStartEndRadius:Un,borderStartStartRadius:fr,borderStartWidth:Na,borderStyle:Oi,borderTopColor:na,borderTopEndRadius:Di,borderTopLeftRadius:Hn,borderTopRightRadius:$t,borderTopStartRadius:nt,borderTopWidth:kt,borderWidth:ra,boxShadow:jr,elevation:ia,filter:Wn,mixBlendMode:Br,opacity:Re,shadowColor:ft,shadowOffset:zt,shadowOpacity:In,shadowRadius:wr,transform:di,transformOrigin:mr,...aa}=Ne.flatten(me||{}),Ni={backfaceVisibility:be,backgroundColor:Ie,borderBlockColor:De,borderBlockEndColor:ke,borderBlockStartColor:Ve,borderBottomColor:$e,borderBottomEndRadius:We,borderBottomLeftRadius:gt,borderBottomRightRadius:xt,borderBottomStartRadius:le,borderBottomWidth:Se,borderColor:Ct,borderCurve:Rt,borderEndColor:sn,borderEndEndRadius:mn,borderEndStartRadius:et,borderEndWidth:ve,borderLeftColor:je,borderLeftWidth:Ze,borderRadius:Kt,borderRightColor:Pt,borderRightWidth:Tt,borderStartColor:gn,borderStartEndRadius:Un,borderStartStartRadius:fr,borderStartWidth:Na,borderStyle:Oi,borderTopColor:na,borderTopEndRadius:Di,borderTopLeftRadius:Hn,borderTopRightRadius:$t,borderTopStartRadius:nt,borderTopWidth:kt,borderWidth:ra,boxShadow:jr,elevation:ia,filter:Wn,mixBlendMode:Br,opacity:Re,shadowColor:ft,shadowOffset:zt,shadowOpacity:In,shadowRadius:wr,transform:di,transformOrigin:mr};for(const Ln in Ni)Ni[Ln]===void 0&&delete Ni[Ln];const xr={...O&&{backgroundColor:"transparent"},...(O||Y===!1)&&{borderBottomWidth:0,...an.select({android:{elevation:0},web:{boxShadow:"none"},default:{shadowOpacity:0}})},...Ni},zr=z??an.select({ios:r.primary,default:r.text}),Fr=I?I({tintColor:zr,pressColor:se,pressOpacity:ge,displayMode:q,titleLayout:h,screenLayout:y,canGoBack:!!S,onPress:S?a.goBack:void 0,label:S?.title,labelStyle:M,href:S?.href}):null,Cr=F?F({tintColor:zr,pressColor:se,pressOpacity:ge,canGoBack:!!S}):null,Ur=typeof x!="function"?Ln=>v.jsx(x3,{...Ln}):x;return v.jsxs(wn.View,{pointerEvents:"box-none",style:[{height:G,minHeight:ye,maxHeight:X,opacity:Re,transform:di}],children:[v.jsx(wn.View,{pointerEvents:"box-none",style:[Ne.absoluteFill,ue],children:H?H({style:xr}):v.jsx(b3,{pointerEvents:O&&(xr.backgroundColor==="transparent"||mm(xr.backgroundColor).alpha()===0)?"none":"auto",style:xr})}),v.jsx(W,{pointerEvents:"none",style:{height:ee}}),v.jsxs(W,{pointerEvents:"box-none",style:[yu.content,null],children:[v.jsx(wn.View,{pointerEvents:"box-none",style:[yu.start,!u&&C==="center"&&yu.expand,{marginStart:e.left},V],children:Fr}),u?null:v.jsxs(v.Fragment,{children:[v.jsx(wn.View,{pointerEvents:"box-none",style:[yu.title,{maxWidth:C==="center"?y.width-((Fr?q!=="minimal"?80:32:16)+(Cr||R?16:0)+Math.max(e.left,e.right))*2:y.width-((Fr?52:16)+(Cr||R?52:16)+e.left-e.right)},C==="left"&&Fr?{marginStart:4}:{marginHorizontal:16},L],children:Ur({children:T,allowFontScaling:N,tintColor:z,onLayout:g,style:D})}),v.jsxs(wn.View,{pointerEvents:"box-none",style:[yu.end,yu.expand,{marginEnd:e.right},B],children:[Cr,R?v.jsx(bg,{tintColor:zr,pressColor:se,pressOpacity:ge,onPress:()=>{c(!0),R?.onOpen?.()},children:v.jsx(Um,{source:ek,tintColor:zr})}):null]})]}),u?v.jsx(w3,{...R,visible:u,onClose:()=>{c(!1),R?.onClose?.()},tintColor:z,style:[!Fr&&{marginStart:8}]}):null]})]})}const yu=Ne.create({content:{flex:1,flexDirection:"row",alignItems:"stretch"},large:{marginHorizontal:5},title:{justifyContent:"center"},start:{flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},end:{flexDirection:"row",alignItems:"center",justifyContent:"flex-end"},expand:{flexGrow:1,flexBasis:0}}),a1=ub("HeaderBackContext",void 0),$_=ub("HeaderHeightContext",void 0);function A3(){const n=E.useContext($_);if(n===void 0)throw new Error("Couldn't find the header height. Are you inside a screen in a navigator with a header?");return n}const{width:I3=0,height:k3=0}=wl.get("window"),Y_={frame:{x:0,y:0,width:I3,height:k3},insets:{top:0,left:0,right:0,bottom:0}};function uk({children:n,style:e}){const t=E.useContext(Yd);return v.jsx(g3,{initialFrame:Y_.frame,render:({ref:r,onLayout:a})=>t?v.jsx(W,{ref:r,onLayout:a,style:[O3.container,e],children:n}):v.jsx(SI,{initialMetrics:Y_,style:e,onLayout:a,children:n})})}uk.initialMetrics=Y_;const O3=Ne.create({container:{flex:1}});function D3(n){const e=TI(),t=E.useContext(K_),r=E.useContext($_),{focused:a,modal:o=!1,header:u,headerShown:c=!0,headerTransparent:h,headerStatusBarHeight:f=t?0:e.top,navigation:g,route:y,children:_,style:S}=n,T=sk(R=>ik(R,o,f)),x=E.useRef(null),[C,I]=E.useState(T);return E.useLayoutEffect(()=>{x.current?.measure((R,O,z,H)=>{I(H)})},[y.name]),v.jsxs(t3,{"aria-hidden":!a,style:[Qf.container,S],collapsable:!1,children:[c?v.jsx(Qd.Provider,{value:g,children:v.jsx(Oo.Provider,{value:y,children:v.jsx(W,{ref:x,pointerEvents:"box-none",onLayout:R=>{const{height:O}=R.nativeEvent.layout;I(O)},style:[Qf.header,h?Qf.absolute:null],children:u})})}):null,v.jsx(W,{style:Qf.content,children:v.jsx(K_.Provider,{value:t||c!==!1,children:v.jsx($_.Provider,{value:c?C:r??0,children:_})})})]})}const Qf=Ne.create({container:{flex:1},content:{flex:1},header:{zIndex:1},absolute:{position:"absolute",top:0,start:0,end:0}}),N3=E.createContext(void 0),s1=["transparentModal","containedTransparentModal"];function M3({state:n,descriptors:e,describe:t}){const r=E.useContext(a1),{buildHref:a}=J4(),o=n.preloadedRoutes.reduce((u,c)=>(u[c.key]=u[c.key]||t(c,!0),u),{});return v.jsx(uk,{children:n.routes.concat(n.preloadedRoutes).map((u,c)=>{const h=n.index===c,f=n.routes[c-1]?.key,g=n.routes[c+1]?.key,y=f?e[f]:void 0,_=g?e[g]:void 0,{options:S,navigation:T,render:x}=e[u.key]??o[u.key],C=y?{title:e1(y.options,y.route.name),href:a(y.route.name,y.route.params)}:r,I=C!=null,{header:R,headerShown:O,headerBackIcon:z,headerBackImageSource:H,headerLeft:F,headerTransparent:N,headerBackTitle:D,presentation:V,contentStyle:B,...L}=S,q=_?.options.presentation,M=o[u.key]!==void 0&&e[u.key]===void 0;return v.jsx(D3,{focused:h,route:u,navigation:T,headerShown:O,headerTransparent:N,header:R!==void 0?R({back:C,options:S,route:u,navigation:T}):v.jsx(R3,{...L,back:C,title:e1(S,u.name),headerLeft:typeof F=="function"?({label:ue,...me})=>F({...me,label:D??ue}):F===void 0&&I?({tintColor:ue,label:me,...Y})=>v.jsx(ok,{...Y,label:D??me,tintColor:ue,backImage:z!==void 0||H!==void 0?()=>v.jsx(Gu,{source:z?.source??H,resizeMode:"contain",tintColor:ue,style:o1.backImage}):void 0,onPress:T.goBack}):F,headerTransparent:N}),style:[Ne.absoluteFill,{display:(h||q!=null&&s1.includes(q))&&!M?"flex":"none"},V!=null&&s1.includes(V)?{backgroundColor:"transparent"}:null],children:v.jsx(a1.Provider,{value:C,children:v.jsx(P3,{children:v.jsx(W,{style:[o1.contentContainer,B],children:x()})})})},u.key)})})}const P3=({children:n})=>{const e=A3(),[t]=E.useState(()=>new wn.Value(e));return E.useEffect(()=>{t.setValue(e)},[t,e]),v.jsx(N3.Provider,{value:t,children:n})},o1=Ne.create({contentContainer:{flex:1},backImage:{height:24,width:24,margin:3}});function L3({id:n,initialRouteName:e,UNSTABLE_routeNamesChangeBehavior:t,children:r,layout:a,screenListeners:o,screenOptions:u,screenLayout:c,UNSTABLE_router:h,...f}){const{state:g,describe:y,descriptors:_,navigation:S,NavigationContent:T}=V4(kB,{id:n,initialRouteName:e,UNSTABLE_routeNamesChangeBehavior:t,children:r,layout:a,screenListeners:o,screenOptions:u,screenLayout:c,UNSTABLE_router:h}),x=E.useContext(qI);return E.useEffect(()=>{if(!(x&&"type"in x&&x.type==="native-tabs"))return S?.addListener?.("tabPress",C=>{const I=S.isFocused();requestAnimationFrame(()=>{g.index>0&&I&&!C.defaultPrevented&&S.dispatch({...xI.popToTop(),target:g.key})})})},[x,S,g.index,g.key]),v.jsx(T,{children:v.jsx(M3,{...f,state:g,navigation:S,descriptors:_,describe:y})})}function V3(n){return VB(L3)(n)}var $v,l1;function j3(){return l1||(l1=1,$v=n=>{if(Object.prototype.toString.call(n)!=="[object Object]")return!1;const e=Object.getPrototypeOf(n);return e===null||e===Object.prototype}),$v}var Xf,u1;function B3(){if(u1)return Xf;u1=1;const n=j3(),{hasOwnProperty:e}=Object.prototype,{propertyIsEnumerable:t}=Object,r=(S,T,x)=>Object.defineProperty(S,T,{value:x,writable:!0,enumerable:!0,configurable:!0}),a=Xf,o={concatArrays:!1,ignoreUndefined:!1},u=S=>{const T=[];for(const x in S)e.call(S,x)&&T.push(x);if(Object.getOwnPropertySymbols){const x=Object.getOwnPropertySymbols(S);for(const C of x)t.call(S,C)&&T.push(C)}return T};function c(S){return Array.isArray(S)?h(S):n(S)?f(S):S}function h(S){const T=S.slice(0,0);return u(S).forEach(x=>{r(T,x,c(S[x]))}),T}function f(S){const T=Object.getPrototypeOf(S)===null?Object.create(null):{};return u(S).forEach(x=>{r(T,x,c(S[x]))}),T}const g=(S,T,x,C)=>(x.forEach(I=>{typeof T[I]>"u"&&C.ignoreUndefined||(I in S&&S[I]!==Object.getPrototypeOf(S)?r(S,I,_(S[I],T[I],C)):r(S,I,c(T[I])))}),S),y=(S,T,x)=>{let C=S.slice(0,0),I=0;return[S,T].forEach(R=>{const O=[];for(let z=0;z<R.length;z++)e.call(R,z)&&(O.push(String(z)),R===S?r(C,I++,R[z]):r(C,I++,c(R[z])));C=g(C,R,u(R).filter(z=>!O.includes(z)),x)}),C};function _(S,T,x){return x.concatArrays&&Array.isArray(S)&&Array.isArray(T)?y(S,T,x):!n(T)||!n(S)?c(T):g(S,T,u(T),x)}return Xf=function(...S){const T=_(c(o),this!==a&&this||{},o);let x={_:{}};for(const C of S)if(C!==void 0){if(!n(C))throw new TypeError("`"+C+"` is not an Option Object");x=_(x,{_:C},T)}return x._},Xf}var z3=B3();const F3=tr(z3),U3=F3.bind({concatArrays:!0,ignoreUndefined:!0});function H3(n,e){const t=window.localStorage.getItem(n);if(t){const r=JSON.parse(t),a=JSON.parse(e),o=JSON.stringify(U3(r,a));window.localStorage.setItem(n,o)}else window.localStorage.setItem(n,e)}function vu(n,e){return new Promise((t,r)=>{try{const a=n();e?.(null,a),t(a)}catch(a){e?.(a),r(a)}})}function Jf(n,e,t){return Promise.all(n).then(r=>{const a=t?.(r)??null;return e?.(null,a),Promise.resolve(a)},r=>(e?.(r),Promise.reject(r)))}const Ye={getItem:(n,e)=>vu(()=>window.localStorage.getItem(n),e),setItem:(n,e,t)=>vu(()=>window.localStorage.setItem(n,e),t),removeItem:(n,e)=>vu(()=>window.localStorage.removeItem(n),e),mergeItem:(n,e,t)=>vu(()=>H3(n,e),t),clear:n=>vu(()=>window.localStorage.clear(),n),getAllKeys:n=>vu(()=>{const e=window.localStorage.length,t=[];for(let r=0;r<e;r+=1){const a=window.localStorage.key(r)||"";t.push(a)}return t},n),flushGetRequests:()=>{},multiGet:(n,e)=>{const t=n.map(a=>Ye.getItem(a));return Jf(t,e,a=>a.map((o,u)=>[n[u],o]))},multiSet:(n,e)=>{const t=n.map(r=>Ye.setItem(r[0],r[1]));return Jf(t,e)},multiRemove:(n,e)=>{const t=n.map(r=>Ye.removeItem(r));return Jf(t,e)},multiMerge:(n,e)=>{const t=n.map(r=>Ye.mergeItem(r[0],r[1]));return Jf(t,e)}},W3=()=>{};var c1={};const ck=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},q3=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],u=n[t++],c=n[t++],h=((a&7)<<18|(o&63)<<12|(u&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},dk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],u=a+1<n.length,c=u?n[a+1]:0,h=a+2<n.length,f=h?n[a+2]:0,g=o>>2,y=(o&3)<<4|c>>4;let _=(c&15)<<2|f>>6,S=f&63;h||(S=64,u||(_=64)),r.push(t[g],t[y],t[_],t[S])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ck(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):q3(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],c=a<n.length?t[n.charAt(a)]:0;++a;const f=a<n.length?t[n.charAt(a)]:64;++a;const y=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||c==null||f==null||y==null)throw new G3;const _=o<<2|c>>4;if(r.push(_),f!==64){const S=c<<4&240|f>>2;if(r.push(S),y!==64){const T=f<<6&192|y;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class G3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const K3=function(n){const e=ck(n);return dk.encodeByteArray(e,!0)},Wm=function(n){return K3(n).replace(/\./g,"")},hk=function(n){try{return dk.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function $3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Y3=()=>$3().__FIREBASE_DEFAULTS__,Q3=()=>{if(typeof process>"u"||typeof c1>"u")return;const n=c1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},X3=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&hk(n[1]);return e&&JSON.parse(e)},Sg=()=>{try{return W3()||Y3()||Q3()||X3()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},fk=n=>Sg()?.emulatorHosts?.[n],J3=n=>{const e=fk(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},mk=()=>Sg()?.config,gk=n=>Sg()?.[`_${n}`];class Z3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function $u(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pk(n){return(await fetch(n,{credentials:"include"})).ok}function ez(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Wm(JSON.stringify(t)),Wm(JSON.stringify(u)),""].join(".")}const bd={};function tz(){const n={prod:[],emulator:[]};for(const e of Object.keys(bd))bd[e]?n.emulator.push(e):n.prod.push(e);return n}function nz(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let d1=!1;function yk(n,e){if(typeof window>"u"||typeof document>"u"||!$u(window.location.host)||bd[n]===e||bd[n]||d1)return;bd[n]=e;function t(_){return`__firebase__banner__${_}`}const r="__firebase__banner",o=tz().prod.length>0;function u(){const _=document.getElementById(r);_&&_.remove()}function c(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function h(_,S){_.setAttribute("width","24"),_.setAttribute("id",S),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function f(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{d1=!0,u()},_}function g(_,S){_.setAttribute("id",S),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function y(){const _=nz(r),S=t("text"),T=document.getElementById(S)||document.createElement("span"),x=t("learnmore"),C=document.getElementById(x)||document.createElement("a"),I=t("preprendIcon"),R=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const O=_.element;c(O),g(C,x);const z=f();h(R,I),O.append(R,T,C,z),document.body.appendChild(O)}o?(T.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}function hr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rz(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hr())}function iz(){const n=Sg()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function az(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sz(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function oz(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lz(){const n=hr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function uz(){return!iz()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cz(){try{return typeof indexedDB=="object"}catch{return!1}}function dz(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const hz="FirebaseError";class _s extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=hz,Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xd.prototype.create)}}class Xd{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?fz(o,r):"Error",c=`${this.serviceName}: ${u} (${a}).`;return new _s(a,c,r)}}function fz(n,e){return n.replace(mz,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const mz=/\{\$([^}]+)}/g;function gz(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function xl(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const o=n[a],u=e[a];if(h1(o)&&h1(u)){if(!xl(o,u))return!1}else if(o!==u)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function h1(n){return n!==null&&typeof n=="object"}function Jd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pz(n,e){const t=new yz(n,e);return t.subscribe.bind(t)}class yz{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");vz(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=Yv),a.error===void 0&&(a.error=Yv),a.complete===void 0&&(a.complete=Yv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vz(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Yv(){}function Fn(n){return n&&n._delegate?n._delegate:n}class Cl{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ml="[DEFAULT]";class _z{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Z3;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Sz(e))try{this.getOrInitializeService({instanceIdentifier:ml})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=ml){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ml){return this.instances.has(e)}getOptions(e=ml){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&u.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bz(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ml){return this.component?this.component.multipleInstances?e:ml:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bz(n){return n===ml?void 0:n}function Sz(n){return n.instantiationMode==="EAGER"}class Tz{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _z(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var ot;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ot||(ot={}));const Ez={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},wz=ot.INFO,xz={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},Cz=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=xz[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cb{constructor(e){this.name=e,this._logLevel=wz,this._logHandler=Cz,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ez[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const Rz=(n,e)=>e.some(t=>n instanceof t);let f1,m1;function Az(){return f1||(f1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Iz(){return m1||(m1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vk=new WeakMap,Q_=new WeakMap,_k=new WeakMap,Qv=new WeakMap,db=new WeakMap;function kz(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(po(n.result)),a()},u=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&vk.set(t,n)}).catch(()=>{}),db.set(e,n),e}function Oz(n){if(Q_.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),a()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});Q_.set(n,e)}let X_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Q_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||_k.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return po(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Dz(n){X_=n(X_)}function Nz(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Xv(this),e,...t);return _k.set(r,e.sort?e.sort():[e]),po(r)}:Iz().includes(n)?function(...e){return n.apply(Xv(this),e),po(vk.get(this))}:function(...e){return po(n.apply(Xv(this),e))}}function Mz(n){return typeof n=="function"?Nz(n):(n instanceof IDBTransaction&&Oz(n),Rz(n,Az())?new Proxy(n,X_):n)}function po(n){if(n instanceof IDBRequest)return kz(n);if(Qv.has(n))return Qv.get(n);const e=Mz(n);return e!==n&&(Qv.set(n,e),db.set(e,n)),e}const Xv=n=>db.get(n);function Pz(n,e,{blocked:t,upgrade:r,blocking:a,terminated:o}={}){const u=indexedDB.open(n,e),c=po(u);return r&&u.addEventListener("upgradeneeded",h=>{r(po(u.result),h.oldVersion,h.newVersion,po(u.transaction),h)}),t&&u.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),a&&h.addEventListener("versionchange",f=>a(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const Lz=["get","getKey","getAll","getAllKeys","count"],Vz=["put","add","delete","clear"],Jv=new Map;function g1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Jv.get(e))return Jv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=Vz.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||Lz.includes(t)))return;const o=async function(u,...c){const h=this.transaction(u,a?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[t](...c),a&&h.done]))[0]};return Jv.set(e,o),o}Dz(n=>({...n,get:(e,t,r)=>g1(e,t)||n.get(e,t,r),has:(e,t)=>!!g1(e,t)||n.has(e,t)}));class jz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Bz(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Bz(n){return n.getComponent()?.type==="VERSION"}const J_="@firebase/app",p1="0.14.8";const fs=new cb("@firebase/app"),zz="@firebase/app-compat",Fz="@firebase/analytics-compat",Uz="@firebase/analytics",Hz="@firebase/app-check-compat",Wz="@firebase/app-check",qz="@firebase/auth",Gz="@firebase/auth-compat",Kz="@firebase/database",$z="@firebase/data-connect",Yz="@firebase/database-compat",Qz="@firebase/functions",Xz="@firebase/functions-compat",Jz="@firebase/installations",Zz="@firebase/installations-compat",eF="@firebase/messaging",tF="@firebase/messaging-compat",nF="@firebase/performance",rF="@firebase/performance-compat",iF="@firebase/remote-config",aF="@firebase/remote-config-compat",sF="@firebase/storage",oF="@firebase/storage-compat",lF="@firebase/firestore",uF="@firebase/ai",cF="@firebase/firestore-compat",dF="firebase",hF="12.9.0";const Z_="[DEFAULT]",fF={[J_]:"fire-core",[zz]:"fire-core-compat",[Uz]:"fire-analytics",[Fz]:"fire-analytics-compat",[Wz]:"fire-app-check",[Hz]:"fire-app-check-compat",[qz]:"fire-auth",[Gz]:"fire-auth-compat",[Kz]:"fire-rtdb",[$z]:"fire-data-connect",[Yz]:"fire-rtdb-compat",[Qz]:"fire-fn",[Xz]:"fire-fn-compat",[Jz]:"fire-iid",[Zz]:"fire-iid-compat",[eF]:"fire-fcm",[tF]:"fire-fcm-compat",[nF]:"fire-perf",[rF]:"fire-perf-compat",[iF]:"fire-rc",[aF]:"fire-rc-compat",[sF]:"fire-gcs",[oF]:"fire-gcs-compat",[lF]:"fire-fst",[cF]:"fire-fst-compat",[uF]:"fire-vertex","fire-js":"fire-js",[dF]:"fire-js-all"};const Pd=new Map,mF=new Map,e0=new Map;function y1(n,e){try{n.container.addComponent(e)}catch(t){fs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Vu(n){const e=n.name;if(e0.has(e))return fs.debug(`There were multiple attempts to register component ${e}.`),!1;e0.set(e,n);for(const t of Pd.values())y1(t,n);for(const t of mF.values())y1(t,n);return!0}function hb(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Xi(n){return n==null?!1:n.settings!==void 0}const gF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yo=new Xd("app","Firebase",gF);class pF{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Cl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yo.create("app-deleted",{appName:this._name})}}const Yu=hF;function bk(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Z_,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw yo.create("bad-app-name",{appName:String(a)});if(t||(t=mk()),!t)throw yo.create("no-options");const o=Pd.get(a);if(o){if(xl(t,o.options)&&xl(r,o.config))return o;throw yo.create("duplicate-app",{appName:a})}const u=new Tz(a);for(const h of e0.values())u.addComponent(h);const c=new pF(t,r,u);return Pd.set(a,c),c}function Sk(n=Z_){const e=Pd.get(n);if(!e&&n===Z_&&mk())return bk();if(!e)throw yo.create("no-app",{appName:n});return e}function v1(){return Array.from(Pd.values())}function vo(n,e,t){let r=fF[n]??n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const u=[`Unable to register library "${r}" with version "${e}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fs.warn(u.join(" "));return}Vu(new Cl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const yF="firebase-heartbeat-database",vF=1,Ld="firebase-heartbeat-store";let Zv=null;function Tk(){return Zv||(Zv=Pz(yF,vF,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ld)}catch(t){console.warn(t)}}}}).catch(n=>{throw yo.create("idb-open",{originalErrorMessage:n.message})})),Zv}async function _F(n){try{const t=(await Tk()).transaction(Ld),r=await t.objectStore(Ld).get(Ek(n));return await t.done,r}catch(e){if(e instanceof _s)fs.warn(e.message);else{const t=yo.create("idb-get",{originalErrorMessage:e?.message});fs.warn(t.message)}}}async function _1(n,e){try{const r=(await Tk()).transaction(Ld,"readwrite");await r.objectStore(Ld).put(e,Ek(n)),await r.done}catch(t){if(t instanceof _s)fs.warn(t.message);else{const r=yo.create("idb-set",{originalErrorMessage:t?.message});fs.warn(r.message)}}}function Ek(n){return`${n.name}!${n.options.appId}`}const bF=1024,SF=30;class TF{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new wF(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=b1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>SF){const a=xF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){fs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=b1(),{heartbeatsToSend:t,unsentEntries:r}=EF(this._heartbeatsCache.heartbeats),a=Wm(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return fs.warn(e),""}}}function b1(){return new Date().toISOString().substring(0,10)}function EF(n,e=bF){const t=[];let r=n.slice();for(const a of n){const o=t.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),S1(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),S1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class wF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cz()?dz().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await _F(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return _1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return _1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function S1(n){return Wm(JSON.stringify({version:2,heartbeats:n})).length}function xF(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function CF(n){Vu(new Cl("platform-logger",e=>new jz(e),"PRIVATE")),Vu(new Cl("heartbeat",e=>new TF(e),"PRIVATE")),vo(J_,p1,n),vo(J_,p1,"esm2020"),vo("fire-js","")}CF("");var T1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _o,wk;(function(){var n;function e(N,D){function V(){}V.prototype=D.prototype,N.F=D.prototype,N.prototype=new V,N.prototype.constructor=N,N.D=function(B,L,q){for(var M=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)M[ue-2]=arguments[ue];return D.prototype[L].apply(B,M)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,D,V){V||(V=0);const B=Array(16);if(typeof D=="string")for(var L=0;L<16;++L)B[L]=D.charCodeAt(V++)|D.charCodeAt(V++)<<8|D.charCodeAt(V++)<<16|D.charCodeAt(V++)<<24;else for(L=0;L<16;++L)B[L]=D[V++]|D[V++]<<8|D[V++]<<16|D[V++]<<24;D=N.g[0],V=N.g[1],L=N.g[2];let q=N.g[3],M;M=D+(q^V&(L^q))+B[0]+3614090360&4294967295,D=V+(M<<7&4294967295|M>>>25),M=q+(L^D&(V^L))+B[1]+3905402710&4294967295,q=D+(M<<12&4294967295|M>>>20),M=L+(V^q&(D^V))+B[2]+606105819&4294967295,L=q+(M<<17&4294967295|M>>>15),M=V+(D^L&(q^D))+B[3]+3250441966&4294967295,V=L+(M<<22&4294967295|M>>>10),M=D+(q^V&(L^q))+B[4]+4118548399&4294967295,D=V+(M<<7&4294967295|M>>>25),M=q+(L^D&(V^L))+B[5]+1200080426&4294967295,q=D+(M<<12&4294967295|M>>>20),M=L+(V^q&(D^V))+B[6]+2821735955&4294967295,L=q+(M<<17&4294967295|M>>>15),M=V+(D^L&(q^D))+B[7]+4249261313&4294967295,V=L+(M<<22&4294967295|M>>>10),M=D+(q^V&(L^q))+B[8]+1770035416&4294967295,D=V+(M<<7&4294967295|M>>>25),M=q+(L^D&(V^L))+B[9]+2336552879&4294967295,q=D+(M<<12&4294967295|M>>>20),M=L+(V^q&(D^V))+B[10]+4294925233&4294967295,L=q+(M<<17&4294967295|M>>>15),M=V+(D^L&(q^D))+B[11]+2304563134&4294967295,V=L+(M<<22&4294967295|M>>>10),M=D+(q^V&(L^q))+B[12]+1804603682&4294967295,D=V+(M<<7&4294967295|M>>>25),M=q+(L^D&(V^L))+B[13]+4254626195&4294967295,q=D+(M<<12&4294967295|M>>>20),M=L+(V^q&(D^V))+B[14]+2792965006&4294967295,L=q+(M<<17&4294967295|M>>>15),M=V+(D^L&(q^D))+B[15]+1236535329&4294967295,V=L+(M<<22&4294967295|M>>>10),M=D+(L^q&(V^L))+B[1]+4129170786&4294967295,D=V+(M<<5&4294967295|M>>>27),M=q+(V^L&(D^V))+B[6]+3225465664&4294967295,q=D+(M<<9&4294967295|M>>>23),M=L+(D^V&(q^D))+B[11]+643717713&4294967295,L=q+(M<<14&4294967295|M>>>18),M=V+(q^D&(L^q))+B[0]+3921069994&4294967295,V=L+(M<<20&4294967295|M>>>12),M=D+(L^q&(V^L))+B[5]+3593408605&4294967295,D=V+(M<<5&4294967295|M>>>27),M=q+(V^L&(D^V))+B[10]+38016083&4294967295,q=D+(M<<9&4294967295|M>>>23),M=L+(D^V&(q^D))+B[15]+3634488961&4294967295,L=q+(M<<14&4294967295|M>>>18),M=V+(q^D&(L^q))+B[4]+3889429448&4294967295,V=L+(M<<20&4294967295|M>>>12),M=D+(L^q&(V^L))+B[9]+568446438&4294967295,D=V+(M<<5&4294967295|M>>>27),M=q+(V^L&(D^V))+B[14]+3275163606&4294967295,q=D+(M<<9&4294967295|M>>>23),M=L+(D^V&(q^D))+B[3]+4107603335&4294967295,L=q+(M<<14&4294967295|M>>>18),M=V+(q^D&(L^q))+B[8]+1163531501&4294967295,V=L+(M<<20&4294967295|M>>>12),M=D+(L^q&(V^L))+B[13]+2850285829&4294967295,D=V+(M<<5&4294967295|M>>>27),M=q+(V^L&(D^V))+B[2]+4243563512&4294967295,q=D+(M<<9&4294967295|M>>>23),M=L+(D^V&(q^D))+B[7]+1735328473&4294967295,L=q+(M<<14&4294967295|M>>>18),M=V+(q^D&(L^q))+B[12]+2368359562&4294967295,V=L+(M<<20&4294967295|M>>>12),M=D+(V^L^q)+B[5]+4294588738&4294967295,D=V+(M<<4&4294967295|M>>>28),M=q+(D^V^L)+B[8]+2272392833&4294967295,q=D+(M<<11&4294967295|M>>>21),M=L+(q^D^V)+B[11]+1839030562&4294967295,L=q+(M<<16&4294967295|M>>>16),M=V+(L^q^D)+B[14]+4259657740&4294967295,V=L+(M<<23&4294967295|M>>>9),M=D+(V^L^q)+B[1]+2763975236&4294967295,D=V+(M<<4&4294967295|M>>>28),M=q+(D^V^L)+B[4]+1272893353&4294967295,q=D+(M<<11&4294967295|M>>>21),M=L+(q^D^V)+B[7]+4139469664&4294967295,L=q+(M<<16&4294967295|M>>>16),M=V+(L^q^D)+B[10]+3200236656&4294967295,V=L+(M<<23&4294967295|M>>>9),M=D+(V^L^q)+B[13]+681279174&4294967295,D=V+(M<<4&4294967295|M>>>28),M=q+(D^V^L)+B[0]+3936430074&4294967295,q=D+(M<<11&4294967295|M>>>21),M=L+(q^D^V)+B[3]+3572445317&4294967295,L=q+(M<<16&4294967295|M>>>16),M=V+(L^q^D)+B[6]+76029189&4294967295,V=L+(M<<23&4294967295|M>>>9),M=D+(V^L^q)+B[9]+3654602809&4294967295,D=V+(M<<4&4294967295|M>>>28),M=q+(D^V^L)+B[12]+3873151461&4294967295,q=D+(M<<11&4294967295|M>>>21),M=L+(q^D^V)+B[15]+530742520&4294967295,L=q+(M<<16&4294967295|M>>>16),M=V+(L^q^D)+B[2]+3299628645&4294967295,V=L+(M<<23&4294967295|M>>>9),M=D+(L^(V|~q))+B[0]+4096336452&4294967295,D=V+(M<<6&4294967295|M>>>26),M=q+(V^(D|~L))+B[7]+1126891415&4294967295,q=D+(M<<10&4294967295|M>>>22),M=L+(D^(q|~V))+B[14]+2878612391&4294967295,L=q+(M<<15&4294967295|M>>>17),M=V+(q^(L|~D))+B[5]+4237533241&4294967295,V=L+(M<<21&4294967295|M>>>11),M=D+(L^(V|~q))+B[12]+1700485571&4294967295,D=V+(M<<6&4294967295|M>>>26),M=q+(V^(D|~L))+B[3]+2399980690&4294967295,q=D+(M<<10&4294967295|M>>>22),M=L+(D^(q|~V))+B[10]+4293915773&4294967295,L=q+(M<<15&4294967295|M>>>17),M=V+(q^(L|~D))+B[1]+2240044497&4294967295,V=L+(M<<21&4294967295|M>>>11),M=D+(L^(V|~q))+B[8]+1873313359&4294967295,D=V+(M<<6&4294967295|M>>>26),M=q+(V^(D|~L))+B[15]+4264355552&4294967295,q=D+(M<<10&4294967295|M>>>22),M=L+(D^(q|~V))+B[6]+2734768916&4294967295,L=q+(M<<15&4294967295|M>>>17),M=V+(q^(L|~D))+B[13]+1309151649&4294967295,V=L+(M<<21&4294967295|M>>>11),M=D+(L^(V|~q))+B[4]+4149444226&4294967295,D=V+(M<<6&4294967295|M>>>26),M=q+(V^(D|~L))+B[11]+3174756917&4294967295,q=D+(M<<10&4294967295|M>>>22),M=L+(D^(q|~V))+B[2]+718787259&4294967295,L=q+(M<<15&4294967295|M>>>17),M=V+(q^(L|~D))+B[9]+3951481745&4294967295,N.g[0]=N.g[0]+D&4294967295,N.g[1]=N.g[1]+(L+(M<<21&4294967295|M>>>11))&4294967295,N.g[2]=N.g[2]+L&4294967295,N.g[3]=N.g[3]+q&4294967295}r.prototype.v=function(N,D){D===void 0&&(D=N.length);const V=D-this.blockSize,B=this.C;let L=this.h,q=0;for(;q<D;){if(L==0)for(;q<=V;)a(this,N,q),q+=this.blockSize;if(typeof N=="string"){for(;q<D;)if(B[L++]=N.charCodeAt(q++),L==this.blockSize){a(this,B),L=0;break}}else for(;q<D;)if(B[L++]=N[q++],L==this.blockSize){a(this,B),L=0;break}}this.h=L,this.o+=D},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var D=1;D<N.length-8;++D)N[D]=0;D=this.o*8;for(var V=N.length-8;V<N.length;++V)N[V]=D&255,D/=256;for(this.v(N),N=Array(16),D=0,V=0;V<4;++V)for(let B=0;B<32;B+=8)N[D++]=this.g[V]>>>B&255;return N};function o(N,D){var V=c;return Object.prototype.hasOwnProperty.call(V,N)?V[N]:V[N]=D(N)}function u(N,D){this.h=D;const V=[];let B=!0;for(let L=N.length-1;L>=0;L--){const q=N[L]|0;B&&q==D||(V[L]=q,B=!1)}this.g=V}var c={};function h(N){return-128<=N&&N<128?o(N,function(D){return new u([D|0],D<0?-1:0)}):new u([N|0],N<0?-1:0)}function f(N){if(isNaN(N)||!isFinite(N))return y;if(N<0)return C(f(-N));const D=[];let V=1;for(let B=0;N>=V;B++)D[B]=N/V|0,V*=4294967296;return new u(D,0)}function g(N,D){if(N.length==0)throw Error("number format error: empty string");if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(N.charAt(0)=="-")return C(g(N.substring(1),D));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const V=f(Math.pow(D,8));let B=y;for(let q=0;q<N.length;q+=8){var L=Math.min(8,N.length-q);const M=parseInt(N.substring(q,q+L),D);L<8?(L=f(Math.pow(D,L)),B=B.j(L).add(f(M))):(B=B.j(V),B=B.add(f(M)))}return B}var y=h(0),_=h(1),S=h(16777216);n=u.prototype,n.m=function(){if(x(this))return-C(this).m();let N=0,D=1;for(let V=0;V<this.g.length;V++){const B=this.i(V);N+=(B>=0?B:4294967296+B)*D,D*=4294967296}return N},n.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(T(this))return"0";if(x(this))return"-"+C(this).toString(N);const D=f(Math.pow(N,6));var V=this;let B="";for(;;){const L=z(V,D).g;V=I(V,L.j(D));let q=((V.g.length>0?V.g[0]:V.h)>>>0).toString(N);if(V=L,T(V))return q+B;for(;q.length<6;)q="0"+q;B=q+B}},n.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function T(N){if(N.h!=0)return!1;for(let D=0;D<N.g.length;D++)if(N.g[D]!=0)return!1;return!0}function x(N){return N.h==-1}n.l=function(N){return N=I(this,N),x(N)?-1:T(N)?0:1};function C(N){const D=N.g.length,V=[];for(let B=0;B<D;B++)V[B]=~N.g[B];return new u(V,~N.h).add(_)}n.abs=function(){return x(this)?C(this):this},n.add=function(N){const D=Math.max(this.g.length,N.g.length),V=[];let B=0;for(let L=0;L<=D;L++){let q=B+(this.i(L)&65535)+(N.i(L)&65535),M=(q>>>16)+(this.i(L)>>>16)+(N.i(L)>>>16);B=M>>>16,q&=65535,M&=65535,V[L]=M<<16|q}return new u(V,V[V.length-1]&-2147483648?-1:0)};function I(N,D){return N.add(C(D))}n.j=function(N){if(T(this)||T(N))return y;if(x(this))return x(N)?C(this).j(C(N)):C(C(this).j(N));if(x(N))return C(this.j(C(N)));if(this.l(S)<0&&N.l(S)<0)return f(this.m()*N.m());const D=this.g.length+N.g.length,V=[];for(var B=0;B<2*D;B++)V[B]=0;for(B=0;B<this.g.length;B++)for(let L=0;L<N.g.length;L++){const q=this.i(B)>>>16,M=this.i(B)&65535,ue=N.i(L)>>>16,me=N.i(L)&65535;V[2*B+2*L]+=M*me,R(V,2*B+2*L),V[2*B+2*L+1]+=q*me,R(V,2*B+2*L+1),V[2*B+2*L+1]+=M*ue,R(V,2*B+2*L+1),V[2*B+2*L+2]+=q*ue,R(V,2*B+2*L+2)}for(N=0;N<D;N++)V[N]=V[2*N+1]<<16|V[2*N];for(N=D;N<2*D;N++)V[N]=0;return new u(V,0)};function R(N,D){for(;(N[D]&65535)!=N[D];)N[D+1]+=N[D]>>>16,N[D]&=65535,D++}function O(N,D){this.g=N,this.h=D}function z(N,D){if(T(D))throw Error("division by zero");if(T(N))return new O(y,y);if(x(N))return D=z(C(N),D),new O(C(D.g),C(D.h));if(x(D))return D=z(N,C(D)),new O(C(D.g),D.h);if(N.g.length>30){if(x(N)||x(D))throw Error("slowDivide_ only works with positive integers.");for(var V=_,B=D;B.l(N)<=0;)V=H(V),B=H(B);var L=F(V,1),q=F(B,1);for(B=F(B,2),V=F(V,2);!T(B);){var M=q.add(B);M.l(N)<=0&&(L=L.add(V),q=M),B=F(B,1),V=F(V,1)}return D=I(N,L.j(D)),new O(L,D)}for(L=y;N.l(D)>=0;){for(V=Math.max(1,Math.floor(N.m()/D.m())),B=Math.ceil(Math.log(V)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),q=f(V),M=q.j(D);x(M)||M.l(N)>0;)V-=B,q=f(V),M=q.j(D);T(q)&&(q=_),L=L.add(q),N=I(N,M)}return new O(L,N)}n.B=function(N){return z(this,N).h},n.and=function(N){const D=Math.max(this.g.length,N.g.length),V=[];for(let B=0;B<D;B++)V[B]=this.i(B)&N.i(B);return new u(V,this.h&N.h)},n.or=function(N){const D=Math.max(this.g.length,N.g.length),V=[];for(let B=0;B<D;B++)V[B]=this.i(B)|N.i(B);return new u(V,this.h|N.h)},n.xor=function(N){const D=Math.max(this.g.length,N.g.length),V=[];for(let B=0;B<D;B++)V[B]=this.i(B)^N.i(B);return new u(V,this.h^N.h)};function H(N){const D=N.g.length+1,V=[];for(let B=0;B<D;B++)V[B]=N.i(B)<<1|N.i(B-1)>>>31;return new u(V,N.h)}function F(N,D){const V=D>>5;D%=32;const B=N.g.length-V,L=[];for(let q=0;q<B;q++)L[q]=D>0?N.i(q+V)>>>D|N.i(q+V+1)<<32-D:N.i(q+V);return new u(L,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,wk=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=f,u.fromString=g,_o=u}).apply(typeof T1<"u"?T1:typeof self<"u"?self:typeof window<"u"?window:{});var Zf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var xk,dd,Ck,gm,t0,Rk,Ak,Ik;(function(){var n,e=Object.defineProperty;function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zf=="object"&&Zf];for(var w=0;w<m.length;++w){var k=m[w];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=t(this);function a(m,w){if(w)e:{var k=r;m=m.split(".");for(var U=0;U<m.length-1;U++){var Z=m[U];if(!(Z in k))break e;k=k[Z]}m=m[m.length-1],U=k[m],w=w(U),w!=U&&w!=null&&e(k,m,{configurable:!0,writable:!0,value:w})}}a("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(m){return m||function(w){var k=[],U;for(U in w)Object.prototype.hasOwnProperty.call(w,U)&&k.push([U,w[U]]);return k}});var o=o||{},u=this||self;function c(m){var w=typeof m;return w=="object"&&m!=null||w=="function"}function h(m,w,k){return m.call.apply(m.bind,arguments)}function f(m,w,k){return f=h,f.apply(null,arguments)}function g(m,w){var k=Array.prototype.slice.call(arguments,1);return function(){var U=k.slice();return U.push.apply(U,arguments),m.apply(this,U)}}function y(m,w){function k(){}k.prototype=w.prototype,m.Z=w.prototype,m.prototype=new k,m.prototype.constructor=m,m.Ob=function(U,Z,ae){for(var xe=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)xe[Qe-2]=arguments[Qe];return w.prototype[Z].apply(U,xe)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function S(m){const w=m.length;if(w>0){const k=Array(w);for(let U=0;U<w;U++)k[U]=m[U];return k}return[]}function T(m,w){for(let U=1;U<arguments.length;U++){const Z=arguments[U];var k=typeof Z;if(k=k!="object"?k:Z?Array.isArray(Z)?"array":k:"null",k=="array"||k=="object"&&typeof Z.length=="number"){k=m.length||0;const ae=Z.length||0;m.length=k+ae;for(let xe=0;xe<ae;xe++)m[k+xe]=Z[xe]}else m.push(Z)}}class x{constructor(w,k){this.i=w,this.j=k,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function C(m){u.setTimeout(()=>{throw m},0)}function I(){var m=N;let w=null;return m.g&&(w=m.g,m.g=m.g.next,m.g||(m.h=null),w.next=null),w}class R{constructor(){this.h=this.g=null}add(w,k){const U=O.get();U.set(w,k),this.h?this.h.next=U:this.g=U,this.h=U}}var O=new x(()=>new z,m=>m.reset());class z{constructor(){this.next=this.g=this.h=null}set(w,k){this.h=w,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let H,F=!1,N=new R,D=()=>{const m=Promise.resolve(void 0);H=()=>{m.then(V)}};function V(){for(var m;m=I();){try{m.h.call(m.g)}catch(k){C(k)}var w=O;w.j(m),w.h<100&&(w.h++,m.next=w.g,w.g=m)}F=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(m,w){this.type=m,this.g=this.target=w,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,w=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const k=()=>{};u.addEventListener("test",k,w),u.removeEventListener("test",k,w)}catch{}return m})();function M(m){return/^[\s\xa0]*$/.test(m)}function ue(m,w){L.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,w)}y(ue,L),ue.prototype.init=function(m,w){const k=this.type=m.type,U=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=w,w=m.relatedTarget,w||(k=="mouseover"?w=m.fromElement:k=="mouseout"&&(w=m.toElement)),this.relatedTarget=w,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&ue.Z.h.call(this)},ue.prototype.h=function(){ue.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),Y=0;function se(m,w,k,U,Z){this.listener=m,this.proxy=null,this.src=w,this.type=k,this.capture=!!U,this.ha=Z,this.key=++Y,this.da=this.fa=!1}function ge(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ee(m,w,k){for(const U in m)w.call(k,m[U],U,m)}function ie(m,w){for(const k in m)w.call(void 0,m[k],k,m)}function G(m){const w={};for(const k in m)w[k]=m[k];return w}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(m,w){let k,U;for(let Z=1;Z<arguments.length;Z++){U=arguments[Z];for(k in U)m[k]=U[k];for(let ae=0;ae<X.length;ae++)k=X[ae],Object.prototype.hasOwnProperty.call(U,k)&&(m[k]=U[k])}}function be(m){this.src=m,this.g={},this.h=0}be.prototype.add=function(m,w,k,U,Z){const ae=m.toString();m=this.g[ae],m||(m=this.g[ae]=[],this.h++);const xe=De(m,w,U,Z);return xe>-1?(w=m[xe],k||(w.fa=!1)):(w=new se(w,this.src,ae,!!U,Z),w.fa=k,m.push(w)),w};function Ie(m,w){const k=w.type;if(k in m.g){var U=m.g[k],Z=Array.prototype.indexOf.call(U,w,void 0),ae;(ae=Z>=0)&&Array.prototype.splice.call(U,Z,1),ae&&(ge(w),m.g[k].length==0&&(delete m.g[k],m.h--))}}function De(m,w,k,U){for(let Z=0;Z<m.length;++Z){const ae=m[Z];if(!ae.da&&ae.listener==w&&ae.capture==!!k&&ae.ha==U)return Z}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),Ve={};function $e(m,w,k,U,Z){if(Array.isArray(w)){for(let ae=0;ae<w.length;ae++)$e(m,w[ae],k,U,Z);return null}return k=mn(k),m&&m[me]?m.J(w,k,c(U)?!!U.capture:!1,Z):We(m,w,k,!1,U,Z)}function We(m,w,k,U,Z,ae){if(!w)throw Error("Invalid event type");const xe=c(Z)?!!Z.capture:!!Z;let Qe=Rt(m);if(Qe||(m[ke]=Qe=new be(m)),k=Qe.add(w,k,U,xe,ae),k.proxy)return k;if(U=gt(),k.proxy=U,U.src=m,U.listener=k,m.addEventListener)q||(Z=xe),Z===void 0&&(Z=!1),m.addEventListener(w.toString(),U,Z);else if(m.attachEvent)m.attachEvent(Se(w.toString()),U);else if(m.addListener&&m.removeListener)m.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return k}function gt(){function m(k){return w.call(m.src,m.listener,k)}const w=Ct;return m}function xt(m,w,k,U,Z){if(Array.isArray(w))for(var ae=0;ae<w.length;ae++)xt(m,w[ae],k,U,Z);else U=c(U)?!!U.capture:!!U,k=mn(k),m&&m[me]?(m=m.i,ae=String(w).toString(),ae in m.g&&(w=m.g[ae],k=De(w,k,U,Z),k>-1&&(ge(w[k]),Array.prototype.splice.call(w,k,1),w.length==0&&(delete m.g[ae],m.h--)))):m&&(m=Rt(m))&&(w=m.g[w.toString()],m=-1,w&&(m=De(w,k,U,Z)),(k=m>-1?w[m]:null)&&le(k))}function le(m){if(typeof m!="number"&&m&&!m.da){var w=m.src;if(w&&w[me])Ie(w.i,m);else{var k=m.type,U=m.proxy;w.removeEventListener?w.removeEventListener(k,U,m.capture):w.detachEvent?w.detachEvent(Se(k),U):w.addListener&&w.removeListener&&w.removeListener(U),(k=Rt(w))?(Ie(k,m),k.h==0&&(k.src=null,w[ke]=null)):ge(m)}}}function Se(m){return m in Ve?Ve[m]:Ve[m]="on"+m}function Ct(m,w){if(m.da)m=!0;else{w=new ue(w,this);const k=m.listener,U=m.ha||m.src;m.fa&&le(m),m=k.call(U,w)}return m}function Rt(m){return m=m[ke],m instanceof be?m:null}var sn="__closure_events_fn_"+(Math.random()*1e9>>>0);function mn(m){return typeof m=="function"?m:(m[sn]||(m[sn]=function(w){return m.handleEvent(w)}),m[sn])}function et(){B.call(this),this.i=new be(this),this.M=this,this.G=null}y(et,B),et.prototype[me]=!0,et.prototype.removeEventListener=function(m,w,k,U){xt(this,m,w,k,U)};function ve(m,w){var k,U=m.G;if(U)for(k=[];U;U=U.G)k.push(U);if(m=m.M,U=w.type||w,typeof w=="string")w=new L(w,m);else if(w instanceof L)w.target=w.target||m;else{var Z=w;w=new L(U,m),ye(w,Z)}Z=!0;let ae,xe;if(k)for(xe=k.length-1;xe>=0;xe--)ae=w.g=k[xe],Z=je(ae,U,!0,w)&&Z;if(ae=w.g=m,Z=je(ae,U,!0,w)&&Z,Z=je(ae,U,!1,w)&&Z,k)for(xe=0;xe<k.length;xe++)ae=w.g=k[xe],Z=je(ae,U,!1,w)&&Z}et.prototype.N=function(){if(et.Z.N.call(this),this.i){var m=this.i;for(const w in m.g){const k=m.g[w];for(let U=0;U<k.length;U++)ge(k[U]);delete m.g[w],m.h--}}this.G=null},et.prototype.J=function(m,w,k,U){return this.i.add(String(m),w,!1,k,U)},et.prototype.K=function(m,w,k,U){return this.i.add(String(m),w,!0,k,U)};function je(m,w,k,U){if(w=m.i.g[String(w)],!w)return!0;w=w.concat();let Z=!0;for(let ae=0;ae<w.length;++ae){const xe=w[ae];if(xe&&!xe.da&&xe.capture==k){const Qe=xe.listener,un=xe.ha||xe.src;xe.fa&&Ie(m.i,xe),Z=Qe.call(un,U)!==!1&&Z}}return Z&&!U.defaultPrevented}function Ze(m,w){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=f(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:u.setTimeout(m,w||0)}function Kt(m){m.g=Ze(()=>{m.g=null,m.i&&(m.i=!1,Kt(m))},m.l);const w=m.h;m.h=null,m.m.apply(null,w)}class Pt extends B{constructor(w,k){super(),this.m=w,this.l=k,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Kt(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tt(m){B.call(this),this.h=m,this.g={}}y(Tt,B);var gn=[];function Un(m){ee(m.g,function(w,k){this.g.hasOwnProperty(k)&&le(w)},m),m.g={}}Tt.prototype.N=function(){Tt.Z.N.call(this),Un(this)},Tt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fr=u.JSON.stringify,Na=u.JSON.parse,Oi=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function na(){}function Di(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $t(){L.call(this,"d")}y($t,L);function nt(){L.call(this,"c")}y(nt,L);var kt={},ra=null;function jr(){return ra=ra||new et}kt.Ia="serverreachability";function ia(m){L.call(this,kt.Ia,m)}y(ia,L);function Wn(m){const w=jr();ve(w,new ia(w))}kt.STAT_EVENT="statevent";function Br(m,w){L.call(this,kt.STAT_EVENT,m),this.stat=w}y(Br,L);function Re(m){const w=jr();ve(w,new Br(w,m))}kt.Ja="timingevent";function ft(m,w){L.call(this,kt.Ja,m),this.size=w}y(ft,L);function zt(m,w){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},w)}function In(){this.g=!0}In.prototype.ua=function(){this.g=!1};function wr(m,w,k,U,Z,ae){m.info(function(){if(m.g)if(ae){var xe="",Qe=ae.split("&");for(let bt=0;bt<Qe.length;bt++){var un=Qe[bt].split("=");if(un.length>1){const Yt=un[0];un=un[1];const mi=Yt.split("_");xe=mi.length>=2&&mi[1]=="type"?xe+(Yt+"="+un+"&"):xe+(Yt+"=redacted&")}}}else xe=null;else xe=ae;return"XMLHTTP REQ ("+U+") [attempt "+Z+"]: "+w+`
`+k+`
`+xe})}function di(m,w,k,U,Z,ae,xe){m.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+Z+"]: "+w+`
`+k+`
`+ae+" "+xe})}function mr(m,w,k,U){m.info(function(){return"XMLHTTP TEXT ("+w+"): "+Ni(m,k)+(U?" "+U:"")})}function aa(m,w){m.info(function(){return"TIMEOUT: "+w})}In.prototype.info=function(){};function Ni(m,w){if(!m.g)return w;if(!w)return null;try{const ae=JSON.parse(w);if(ae){for(m=0;m<ae.length;m++)if(Array.isArray(ae[m])){var k=ae[m];if(!(k.length<2)){var U=k[1];if(Array.isArray(U)&&!(U.length<1)){var Z=U[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(let xe=1;xe<U.length;xe++)U[xe]=""}}}}return fr(ae)}catch{return w}}var xr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Fr;function Cr(){}y(Cr,na),Cr.prototype.g=function(){return new XMLHttpRequest},Fr=new Cr;function Ur(m){return encodeURIComponent(String(m))}function Ln(m){var w=1;m=m.split(":");const k=[];for(;w>0&&m.length;)k.push(m.shift()),w--;return m.length&&k.push(m.join(":")),k}function nr(m,w,k,U){this.j=m,this.i=w,this.l=k,this.S=U||1,this.V=new Tt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new kn}function kn(){this.i=null,this.g="",this.h=!1}var Et={},on={};function hi(m,w,k){m.M=1,m.A=oa(Jt(w)),m.u=k,m.R=!0,Ma(m,null)}function Ma(m,w){m.F=Date.now(),Ae(m),m.B=Jt(m.A);var k=m.B,U=m.S;Array.isArray(U)||(U=[String(U)]),Va(k.i,"t",U),m.C=0,k=m.j.L,m.h=new kn,m.g=ph(m.j,k?w:null,!m.u),m.P>0&&(m.O=new Pt(f(m.Y,m,m.g),m.P)),w=m.V,k=m.g,U=m.ba;var Z="readystatechange";Array.isArray(Z)||(Z&&(gn[0]=Z.toString()),Z=gn);for(let ae=0;ae<Z.length;ae++){const xe=$e(k,Z[ae],U||w.handleEvent,!1,w.h||w);if(!xe)break;w.g[xe.key]=xe}w=m.J?G(m.J):{},m.u?(m.v||(m.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,w)):(m.v="GET",m.g.ea(m.B,m.v,null,w)),Wn(),wr(m.i,m.v,m.B,m.l,m.S,m.u)}nr.prototype.ba=function(m){m=m.target;const w=this.O;w&&Bi(m)==3?w.j():this.Y(m)},nr.prototype.Y=function(m){try{if(m==this.g)e:{const Qe=Bi(this.g),un=this.g.ya(),bt=this.g.ca();if(!(Qe<3)&&(Qe!=3||this.g&&(this.h.h||this.g.la()||Gn(this.g)))){this.K||Qe!=4||un==7||(un==8||bt<=0?Wn(3):Wn(2)),pn(this);var w=this.g.ca();this.X=w;var k=nc(this);if(this.o=w==200,di(this.i,this.v,this.B,this.l,this.S,Qe,w),this.o){if(this.U&&!this.L){t:{if(this.g){var U,Z=this.g;if((U=Z.g?Z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(U)){var ae=U;break t}}ae=null}if(m=ae)mr(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Hr(this,m);else{this.o=!1,this.m=3,Re(12),rr(this),gr(this);break e}}if(this.R){m=!0;let Yt;for(;!this.K&&this.C<k.length;)if(Yt=jo(this,k),Yt==on){Qe==4&&(this.m=4,Re(14),m=!1),mr(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==Et){this.m=4,Re(15),mr(this.i,this.l,k,"[Invalid Chunk]"),m=!1;break}else mr(this.i,this.l,Yt,null),Hr(this,Yt);if(sa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qe!=4||k.length!=0||this.h.h||(this.m=1,Re(16),m=!1),this.o=this.o&&m,!m)mr(this.i,this.l,k,"[Invalid Chunked Response]"),rr(this),gr(this);else if(k.length>0&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.aa&&!xe.P&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),sc(xe),xe.P=!0,Re(11))}}else mr(this.i,this.l,k,null),Hr(this,k);Qe==4&&rr(this),this.o&&!this.K&&(Qe==4?hh(this.j,this):(this.o=!1,Ae(this)))}else Fa(this.g),w==400&&k.indexOf("Unknown SID")>0?(this.m=3,Re(12)):(this.m=0,Re(13)),rr(this),gr(this)}}}catch{}};function nc(m){if(!sa(m))return m.g.la();const w=Gn(m.g);if(w==="")return"";let k="";const U=w.length,Z=Bi(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return rr(m),gr(m),"";m.h.i=new u.TextDecoder}for(let ae=0;ae<U;ae++)m.h.h=!0,k+=m.h.i.decode(w[ae],{stream:!(Z&&ae==U-1)});return w.length=0,m.h.g+=k,m.C=0,m.h.g}function sa(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function jo(m,w){var k=m.C,U=w.indexOf(`
`,k);return U==-1?on:(k=Number(w.substring(k,U)),isNaN(k)?Et:(U+=1,U+k>w.length?on:(w=w.slice(U,U+k),m.C=U+k,w)))}nr.prototype.cancel=function(){this.K=!0,rr(this)};function Ae(m){m.T=Date.now()+m.H,bs(m,m.H)}function bs(m,w){if(m.D!=null)throw Error("WatchDog timer not null");m.D=zt(f(m.aa,m),w)}function pn(m){m.D&&(u.clearTimeout(m.D),m.D=null)}nr.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(aa(this.i,this.B),this.M!=2&&(Wn(),Re(17)),rr(this),this.m=2,gr(this)):bs(this,this.T-m)};function gr(m){m.j.I==0||m.K||hh(m.j,m)}function rr(m){pn(m);var w=m.O;w&&typeof w.dispose=="function"&&w.dispose(),m.O=null,Un(m.V),m.g&&(w=m.g,m.g=null,w.abort(),w.dispose())}function Hr(m,w){try{var k=m.j;if(k.I!=0&&(k.g==m||qr(k.h,m))){if(!m.L&&qr(k.h,m)&&k.I==3){try{var U=k.Ba.g.parse(w)}catch{U=null}if(Array.isArray(U)&&U.length==3){var Z=U;if(Z[0]==0){e:if(!k.v){if(k.g)if(k.g.F+3e3<m.F)jl(k),Ns(k);else break e;Ko(k),Re(18)}}else k.xa=Z[1],0<k.xa-k.K&&Z[2]<37500&&k.F&&k.A==0&&!k.C&&(k.C=zt(f(k.Va,k),6e3));Wr(k.h)<=1&&k.ta&&(k.ta=void 0)}else fa(k,11)}else if((m.L||k.g==m)&&jl(k),!M(w))for(Z=k.Ba.g.parse(w),w=0;w<Z.length;w++){let bt=Z[w];const Yt=bt[0];if(!(Yt<=k.K))if(k.K=Yt,bt=bt[1],k.I==2)if(bt[0]=="c"){k.M=bt[1],k.ba=bt[2];const mi=bt[3];mi!=null&&(k.ka=mi,k.j.info("VER="+k.ka));const ma=bt[4];ma!=null&&(k.za=ma,k.j.info("SVER="+k.za));const zi=bt[5];zi!=null&&typeof zi=="number"&&zi>0&&(U=1.5*zi,k.O=U,k.j.info("backChannelRequestTimeoutMs_="+U)),U=k;const Fi=m.g;if(Fi){const $o=Fi.g?Fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($o){var ae=U.h;ae.g||$o.indexOf("spdy")==-1&&$o.indexOf("quic")==-1&&$o.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(Es(ae,ae.h),ae.h=null))}if(U.G){const Bl=Fi.g?Fi.g.getResponseHeader("X-HTTP-Session-Id"):null;Bl&&(U.wa=Bl,pt(U.J,U.G,Bl))}}k.I=3,k.l&&k.l.ra(),k.aa&&(k.T=Date.now()-m.F,k.j.info("Handshake RTT: "+k.T+"ms")),U=k;var xe=m;if(U.na=gh(U,U.L?U.ba:null,U.W),xe.L){ws(U.h,xe);var Qe=xe,un=U.O;un&&(Qe.H=un),Qe.D&&(pn(Qe),Ae(Qe)),U.g=xe}else ch(U);k.i.length>0&&ha(k)}else bt[0]!="stop"&&bt[0]!="close"||fa(k,7);else k.I==3&&(bt[0]=="stop"||bt[0]=="close"?bt[0]=="stop"?fa(k,7):ic(k):bt[0]!="noop"&&k.l&&k.l.qa(bt),k.A=0)}}Wn(4)}catch{}}var Xt=class{constructor(m,w){this.g=m,this.map=w}};function Ss(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ts(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Wr(m){return m.h?1:m.g?m.g.size:0}function qr(m,w){return m.h?m.h==w:m.g?m.g.has(w):!1}function Es(m,w){m.g?m.g.add(w):m.h=w}function ws(m,w){m.h&&m.h==w?m.h=null:m.g&&m.g.has(w)&&m.g.delete(w)}Ss.prototype.cancel=function(){if(this.i=xs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function xs(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let w=m.i;for(const k of m.g.values())w=w.concat(k.G);return w}return S(m.i)}var Bo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pa(m,w){if(m){m=m.split("&");for(let k=0;k<m.length;k++){const U=m[k].indexOf("=");let Z,ae=null;U>=0?(Z=m[k].substring(0,U),ae=m[k].substring(U+1)):Z=m[k],w(Z,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function ir(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;m instanceof ir?(this.l=m.l,ln(this,m.j),this.o=m.o,this.g=m.g,Mi(this,m.u),this.h=m.h,Cs(this,Ho(m.i)),this.m=m.m):m&&(w=String(m).match(Bo))?(this.l=!1,ln(this,w[1]||"",!0),this.o=Gr(w[2]||""),this.g=Gr(w[3]||"",!0),Mi(this,w[4]),this.h=Gr(w[5]||"",!0),Cs(this,w[6]||"",!0),this.m=Gr(w[7]||"")):(this.l=!1,this.i=new Li(null,this.l))}ir.prototype.toString=function(){const m=[];var w=this.j;w&&m.push(la(w,La,!0),":");var k=this.g;return(k||w=="file")&&(m.push("//"),(w=this.o)&&m.push(la(w,La,!0),"@"),m.push(Ur(k).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.u,k!=null&&m.push(":",String(k))),(k=this.h)&&(this.g&&k.charAt(0)!="/"&&m.push("/"),m.push(la(k,k.charAt(0)=="/"?Rs:zo,!0))),(k=this.i.toString())&&m.push("?",k),(k=this.m)&&m.push("#",la(k,Fo)),m.join("")},ir.prototype.resolve=function(m){const w=Jt(this);let k=!!m.j;k?ln(w,m.j):k=!!m.o,k?w.o=m.o:k=!!m.g,k?w.g=m.g:k=m.u!=null;var U=m.h;if(k)Mi(w,m.u);else if(k=!!m.h){if(U.charAt(0)!="/")if(this.g&&!this.h)U="/"+U;else{var Z=w.h.lastIndexOf("/");Z!=-1&&(U=w.h.slice(0,Z+1)+U)}if(Z=U,Z==".."||Z==".")U="";else if(Z.indexOf("./")!=-1||Z.indexOf("/.")!=-1){U=Z.lastIndexOf("/",0)==0,Z=Z.split("/");const ae=[];for(let xe=0;xe<Z.length;){const Qe=Z[xe++];Qe=="."?U&&xe==Z.length&&ae.push(""):Qe==".."?((ae.length>1||ae.length==1&&ae[0]!="")&&ae.pop(),U&&xe==Z.length&&ae.push("")):(ae.push(Qe),U=!0)}U=ae.join("/")}else U=Z}return k?w.h=U:k=m.i.toString()!=="",k?Cs(w,Ho(m.i)):k=!!m.m,k&&(w.m=m.m),w};function Jt(m){return new ir(m)}function ln(m,w,k){m.j=k?Gr(w,!0):w,m.j&&(m.j=m.j.replace(/:$/,""))}function Mi(m,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);m.u=w}else m.u=null}function Cs(m,w,k){w instanceof Li?(m.i=w,ja(m.i,m.l)):(k||(w=la(w,Pi)),m.i=new Li(w,m.l))}function pt(m,w,k){m.i.set(w,k)}function oa(m){return pt(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Gr(m,w){return m?w?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function la(m,w,k){return typeof m=="string"?(m=encodeURI(m).replace(w,Vn),k&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Vn(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var La=/[#\/\?@]/g,zo=/[#\?:]/g,Rs=/[#\?]/g,Pi=/[#\?@]/g,Fo=/#/g;function Li(m,w){this.h=this.g=null,this.i=m||null,this.j=!!w}function qn(m){m.g||(m.g=new Map,m.h=0,m.i&&Pa(m.i,function(w,k){m.add(decodeURIComponent(w.replace(/\+/g," ")),k)}))}n=Li.prototype,n.add=function(m,w){qn(this),this.i=null,m=Vi(this,m);let k=this.g.get(m);return k||this.g.set(m,k=[]),k.push(w),this.h+=1,this};function Uo(m,w){qn(m),w=Vi(m,w),m.g.has(w)&&(m.i=null,m.h-=m.g.get(w).length,m.g.delete(w))}function As(m,w){return qn(m),w=Vi(m,w),m.g.has(w)}n.forEach=function(m,w){qn(this),this.g.forEach(function(k,U){k.forEach(function(Z){m.call(w,Z,U,this)},this)},this)};function Is(m,w){qn(m);let k=[];if(typeof w=="string")As(m,w)&&(k=k.concat(m.g.get(Vi(m,w))));else for(m=Array.from(m.g.values()),w=0;w<m.length;w++)k=k.concat(m[w]);return k}n.set=function(m,w){return qn(this),this.i=null,m=Vi(this,m),As(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[w]),this.h+=1,this},n.get=function(m,w){return m?(m=Is(this,m),m.length>0?String(m[0]):w):w};function Va(m,w,k){Uo(m,w),k.length>0&&(m.i=null,m.g.set(Vi(m,w),S(k)),m.h+=k.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],w=Array.from(this.g.keys());for(let U=0;U<w.length;U++){var k=w[U];const Z=Ur(k);k=Is(this,k);for(let ae=0;ae<k.length;ae++){let xe=Z;k[ae]!==""&&(xe+="="+Ur(k[ae])),m.push(xe)}}return this.i=m.join("&")};function Ho(m){const w=new Li;return w.i=m.i,m.g&&(w.g=new Map(m.g),w.h=m.h),w}function Vi(m,w){return w=String(w),m.j&&(w=w.toLowerCase()),w}function ja(m,w){w&&!m.j&&(qn(m),m.i=null,m.g.forEach(function(k,U){const Z=U.toLowerCase();U!=Z&&(Uo(this,U),Va(this,Z,k))},m)),m.j=w}function Rr(m,w){const k=new In;if(u.Image){const U=new Image;U.onload=g(pr,k,"TestLoadImage: loaded",!0,w,U),U.onerror=g(pr,k,"TestLoadImage: error",!1,w,U),U.onabort=g(pr,k,"TestLoadImage: abort",!1,w,U),U.ontimeout=g(pr,k,"TestLoadImage: timeout",!1,w,U),u.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=m}else w(!1)}function ks(m,w){const k=new In,U=new AbortController,Z=setTimeout(()=>{U.abort(),pr(k,"TestPingServer: timeout",!1,w)},1e4);fetch(m,{signal:U.signal}).then(ae=>{clearTimeout(Z),ae.ok?pr(k,"TestPingServer: ok",!0,w):pr(k,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(Z),pr(k,"TestPingServer: error",!1,w)})}function pr(m,w,k,U,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),U(k)}catch{}}function ji(){this.g=new Oi}function Kr(m){this.i=m.Sb||null,this.h=m.ab||!1}y(Kr,na),Kr.prototype.g=function(){return new ua(this.i,this.h)};function ua(m,w){et.call(this),this.H=m,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(ua,et),n=ua.prototype,n.open=function(m,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=w,this.readyState=1,$r(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(w.body=m),(this.H||u).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fi(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,$r(this)),this.g&&(this.readyState=3,$r(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ba(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ba(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var w=m.value?m.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!m.done}))&&(this.response=this.responseText+=w)}m.done?fi(this):$r(this),this.readyState==3&&Ba(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,fi(this))},n.Na=function(m){this.g&&(this.response=m,fi(this))},n.ga=function(){this.g&&fi(this)};function fi(m){m.readyState=4,m.l=null,m.j=null,m.B=null,$r(m)}n.setRequestHeader=function(m,w){this.A.append(m,w)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],w=this.h.entries();for(var k=w.next();!k.done;)k=k.value,m.push(k[0]+": "+k[1]),k=w.next();return m.join(`\r
`)};function $r(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(ua.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function yr(m){let w="";return ee(m,function(k,U){w+=U,w+=":",w+=k,w+=`\r
`}),w}function ca(m,w,k){e:{for(U in k){var U=!1;break e}U=!0}U||(k=yr(k),typeof m=="string"?k!=null&&Ur(k):pt(m,w,k))}function _t(m){et.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(_t,et);var Yr=/^https?$/i,Os=["POST","PUT"];n=_t.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,w,k,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);w=w?w.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Fr.g(),this.g.onreadystatechange=_(f(this.Ca,this));try{this.B=!0,this.g.open(w,String(m),!0),this.B=!1}catch(ae){Wo(this,ae);return}if(m=k||"",k=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var Z in U)k.set(Z,U[Z]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const ae of U.keys())k.set(ae,U.get(ae));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(k.keys()).find(ae=>ae.toLowerCase()=="content-type"),Z=u.FormData&&m instanceof u.FormData,!(Array.prototype.indexOf.call(Os,w,void 0)>=0)||U||Z||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,xe]of k)this.g.setRequestHeader(ae,xe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(ae){Wo(this,ae)}};function Wo(m,w){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=w,m.o=5,rc(m),za(m)}function rc(m){m.A||(m.A=!0,ve(m,"complete"),ve(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,ve(this,"complete"),ve(this,"abort"),za(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),za(this,!0)),_t.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?qo(this):this.Xa())},n.Xa=function(){qo(this)};function qo(m){if(m.h&&typeof o<"u"){if(m.v&&Bi(m)==4)setTimeout(m.Ca.bind(m),0);else if(ve(m,"readystatechange"),Bi(m)==4){m.h=!1;try{const ae=m.ca();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var k;if(!(k=w)){var U;if(U=ae===0){let xe=String(m.D).match(Bo)[1]||null;!xe&&u.self&&u.self.location&&(xe=u.self.location.protocol.slice(0,-1)),U=!Yr.test(xe?xe.toLowerCase():"")}k=U}if(k)ve(m,"complete"),ve(m,"success");else{m.o=6;try{var Z=Bi(m)>2?m.g.statusText:""}catch{Z=""}m.l=Z+" ["+m.ca()+"]",rc(m)}}finally{za(m)}}}}function za(m,w){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const k=m.g;m.g=null,w||ve(m,"ready");try{k.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Bi(m){return m.g?m.g.readyState:0}n.ca=function(){try{return Bi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var w=this.g.responseText;return m&&w.indexOf(m)==0&&(w=w.substring(m.length)),Na(w)}};function Gn(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Fa(m){const w={};m=(m.g&&Bi(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<m.length;U++){if(M(m[U]))continue;var k=Ln(m[U]);const Z=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const ae=w[Z]||[];w[Z]=ae,ae.push(k)}ie(w,function(U){return U.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function da(m,w,k){return k&&k.internalChannelParams&&k.internalChannelParams[m]||w}function Ds(m){this.za=0,this.i=[],this.j=new In,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=da("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=da("baseRetryDelayMs",5e3,m),this.Za=da("retryDelaySeedMs",1e4,m),this.Ta=da("forwardChannelMaxRetries",2,m),this.va=da("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new Ss(m&&m.concurrentRequestLimit),this.Ba=new ji,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ds.prototype,n.ka=8,n.I=1,n.connect=function(m,w,k,U){Re(0),this.W=m,this.H=w||{},k&&U!==void 0&&(this.H.OSID=k,this.H.OAID=U),this.F=this.X,this.J=gh(this,null,this.W),ha(this)};function ic(m){if(Ll(m),m.I==3){var w=m.V++,k=Jt(m.J);if(pt(k,"SID",m.M),pt(k,"RID",w),pt(k,"TYPE","terminate"),Go(m,k),w=new nr(m,m.j,w),w.M=2,w.A=oa(Jt(k)),k=!1,u.navigator&&u.navigator.sendBeacon)try{k=u.navigator.sendBeacon(w.A.toString(),"")}catch{}!k&&u.Image&&(new Image().src=w.A,k=!0),k||(w.g=ph(w.j,null),w.g.ea(w.A)),w.F=Date.now(),Ae(w)}mh(m)}function Ns(m){m.g&&(sc(m),m.g.cancel(),m.g=null)}function Ll(m){Ns(m),m.v&&(u.clearTimeout(m.v),m.v=null),jl(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&u.clearTimeout(m.m),m.m=null)}function ha(m){if(!Ts(m.h)&&!m.m){m.m=!0;var w=m.Ea;H||D(),F||(H(),F=!0),N.add(w,m),m.D=0}}function Vl(m,w){return Wr(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=w.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=zt(f(m.Ea,m,w),fh(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const Z=new nr(this,this.j,m);let ae=this.o;if(this.U&&(ae?(ae=G(ae),ye(ae,this.U)):ae=this.U),this.u!==null||this.R||(Z.J=ae,ae=null),this.S)e:{for(var w=0,k=0;k<this.i.length;k++){t:{var U=this.i[k];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(w+=U,w>4096){w=k;break e}if(w===4096||k===this.i.length-1){w=k+1;break e}}w=1e3}else w=1e3;w=uh(this,Z,w),k=Jt(this.J),pt(k,"RID",m),pt(k,"CVER",22),this.G&&pt(k,"X-HTTP-Session-Id",this.G),Go(this,k),ae&&(this.R?w="headers="+Ur(yr(ae))+"&"+w:this.u&&ca(k,this.u,ae)),Es(this.h,Z),this.Ra&&pt(k,"TYPE","init"),this.S?(pt(k,"$req",w),pt(k,"SID","null"),Z.U=!0,hi(Z,k,null)):hi(Z,k,w),this.I=2}}else this.I==3&&(m?ac(this,m):this.i.length==0||Ts(this.h)||ac(this))};function ac(m,w){var k;w?k=w.l:k=m.V++;const U=Jt(m.J);pt(U,"SID",m.M),pt(U,"RID",k),pt(U,"AID",m.K),Go(m,U),m.u&&m.o&&ca(U,m.u,m.o),k=new nr(m,m.j,k,m.D+1),m.u===null&&(k.J=m.o),w&&(m.i=w.G.concat(m.i)),w=uh(m,k,1e3),k.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Es(m.h,k),hi(k,U,w)}function Go(m,w){m.H&&ee(m.H,function(k,U){pt(w,U,k)}),m.l&&ee({},function(k,U){pt(w,U,k)})}function uh(m,w,k){k=Math.min(m.i.length,k);const U=m.l?f(m.l.Ka,m.l,m):null;e:{var Z=m.i;let Qe=-1;for(;;){const un=["count="+k];Qe==-1?k>0?(Qe=Z[0].g,un.push("ofs="+Qe)):Qe=0:un.push("ofs="+Qe);let bt=!0;for(let Yt=0;Yt<k;Yt++){var ae=Z[Yt].g;const mi=Z[Yt].map;if(ae-=Qe,ae<0)Qe=Math.max(0,Z[Yt].g-100),bt=!1;else try{ae="req"+ae+"_"||"";try{var xe=mi instanceof Map?mi:Object.entries(mi);for(const[ma,zi]of xe){let Fi=zi;c(zi)&&(Fi=fr(zi)),un.push(ae+ma+"="+encodeURIComponent(Fi))}}catch(ma){throw un.push(ae+"type="+encodeURIComponent("_badmap")),ma}}catch{U&&U(mi)}}if(bt){xe=un.join("&");break e}}xe=void 0}return m=m.i.splice(0,k),w.G=m,xe}function ch(m){if(!m.g&&!m.v){m.Y=1;var w=m.Da;H||D(),F||(H(),F=!0),N.add(w,m),m.A=0}}function Ko(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=zt(f(m.Da,m),fh(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,dh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=zt(f(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Re(10),Ns(this),dh(this))};function sc(m){m.B!=null&&(u.clearTimeout(m.B),m.B=null)}function dh(m){m.g=new nr(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var w=Jt(m.na);pt(w,"RID","rpc"),pt(w,"SID",m.M),pt(w,"AID",m.K),pt(w,"CI",m.F?"0":"1"),!m.F&&m.ia&&pt(w,"TO",m.ia),pt(w,"TYPE","xmlhttp"),Go(m,w),m.u&&m.o&&ca(w,m.u,m.o),m.O&&(m.g.H=m.O);var k=m.g;m=m.ba,k.M=1,k.A=oa(Jt(w)),k.u=null,k.R=!0,Ma(k,m)}n.Va=function(){this.C!=null&&(this.C=null,Ns(this),Ko(this),Re(19))};function jl(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function hh(m,w){var k=null;if(m.g==w){jl(m),sc(m),m.g=null;var U=2}else if(qr(m.h,w))k=w.G,ws(m.h,w),U=1;else return;if(m.I!=0){if(w.o)if(U==1){k=w.u?w.u.length:0,w=Date.now()-w.F;var Z=m.D;U=jr(),ve(U,new ft(U,k)),ha(m)}else ch(m);else if(Z=w.m,Z==3||Z==0&&w.X>0||!(U==1&&Vl(m,w)||U==2&&Ko(m)))switch(k&&k.length>0&&(w=m.h,w.i=w.i.concat(k)),Z){case 1:fa(m,5);break;case 4:fa(m,10);break;case 3:fa(m,6);break;default:fa(m,2)}}}function fh(m,w){let k=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(k*=2),k*w}function fa(m,w){if(m.j.info("Error code "+w),w==2){var k=f(m.bb,m),U=m.Ua;const Z=!U;U=new ir(U||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ln(U,"https"),oa(U),Z?Rr(U.toString(),k):ks(U.toString(),k)}else Re(2);m.I=0,m.l&&m.l.pa(w),mh(m),Ll(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Re(2)):(this.j.info("Failed to ping google.com"),Re(1))};function mh(m){if(m.I=0,m.ja=[],m.l){const w=xs(m.h);(w.length!=0||m.i.length!=0)&&(T(m.ja,w),T(m.ja,m.i),m.h.i.length=0,S(m.i),m.i.length=0),m.l.oa()}}function gh(m,w,k){var U=k instanceof ir?Jt(k):new ir(k);if(U.g!="")w&&(U.g=w+"."+U.g),Mi(U,U.u);else{var Z=u.location;U=Z.protocol,w=w?w+"."+Z.hostname:Z.hostname,Z=+Z.port;const ae=new ir(null);U&&ln(ae,U),w&&(ae.g=w),Z&&Mi(ae,Z),k&&(ae.h=k),U=ae}return k=m.G,w=m.wa,k&&w&&pt(U,k,w),pt(U,"VER",m.ka),Go(m,U),U}function ph(m,w,k){if(w&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=m.Aa&&!m.ma?new _t(new Kr({ab:k})):new _t(m.ma),w.Fa(m.L),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function yh(){}n=yh.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ms(){}Ms.prototype.g=function(m,w){return new vr(m,w)};function vr(m,w){et.call(this),this.g=new Ds(w),this.l=m,this.h=w&&w.messageUrlParams||null,m=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(m?m["X-WebChannel-Content-Type"]=w.messageContentType:m={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(m?m["X-WebChannel-Client-Profile"]=w.sa:m={"X-WebChannel-Client-Profile":w.sa}),this.g.U=m,(m=w&&w.Qb)&&!M(m)&&(this.g.u=m),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!M(w)&&(this.g.G=w,m=this.h,m!==null&&w in m&&(m=this.h,w in m&&delete m[w])),this.j=new Ua(this)}y(vr,et),vr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vr.prototype.close=function(){ic(this.g)},vr.prototype.o=function(m){var w=this.g;if(typeof m=="string"){var k={};k.__data__=m,m=k}else this.v&&(k={},k.__data__=fr(m),m=k);w.i.push(new Xt(w.Ya++,m)),w.I==3&&ha(w)},vr.prototype.N=function(){this.g.l=null,delete this.j,ic(this.g),delete this.g,vr.Z.N.call(this)};function vh(m){$t.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var w=m.__sm__;if(w){e:{for(const k in w){m=k;break e}m=void 0}(this.i=m)&&(m=this.i,w=w!==null&&m in w?w[m]:void 0),this.data=w}else this.data=m}y(vh,$t);function _h(){nt.call(this),this.status=1}y(_h,nt);function Ua(m){this.g=m}y(Ua,yh),Ua.prototype.ra=function(){ve(this.g,"a")},Ua.prototype.qa=function(m){ve(this.g,new vh(m))},Ua.prototype.pa=function(m){ve(this.g,new _h)},Ua.prototype.oa=function(){ve(this.g,"b")},Ms.prototype.createWebChannel=Ms.prototype.g,vr.prototype.send=vr.prototype.o,vr.prototype.open=vr.prototype.m,vr.prototype.close=vr.prototype.close,Ik=function(){return new Ms},Ak=function(){return jr()},Rk=kt,t0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xr.NO_ERROR=0,xr.TIMEOUT=8,xr.HTTP_ERROR=6,gm=xr,zr.COMPLETE="complete",Ck=zr,Di.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",et.prototype.listen=et.prototype.J,dd=Di,_t.prototype.listenOnce=_t.prototype.K,_t.prototype.getLastError=_t.prototype.Ha,_t.prototype.getLastErrorCode=_t.prototype.ya,_t.prototype.getStatus=_t.prototype.ca,_t.prototype.getResponseJson=_t.prototype.La,_t.prototype.getResponseText=_t.prototype.la,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Fa,xk=_t}).apply(typeof Zf<"u"?Zf:typeof self<"u"?self:typeof window<"u"?window:{});class cr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cr.UNAUTHENTICATED=new cr(null),cr.GOOGLE_CREDENTIALS=new cr("google-credentials-uid"),cr.FIRST_PARTY=new cr("first-party-uid"),cr.MOCK_USER=new cr("mock-user");let Qu="12.9.0";function RF(n){Qu=n}const Rl=new cb("@firebase/firestore");function Tu(){return Rl.logLevel}function Oe(n,...e){if(Rl.logLevel<=ot.DEBUG){const t=e.map(fb);Rl.debug(`Firestore (${Qu}): ${n}`,...t)}}function ms(n,...e){if(Rl.logLevel<=ot.ERROR){const t=e.map(fb);Rl.error(`Firestore (${Qu}): ${n}`,...t)}}function Al(n,...e){if(Rl.logLevel<=ot.WARN){const t=e.map(fb);Rl.warn(`Firestore (${Qu}): ${n}`,...t)}}function fb(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Ue(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,kk(n,r,t)}function kk(n,e,t){let r=`FIRESTORE (${Qu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ms(r),new Error(r)}function wt(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||kk(e,a,r)}function Ke(n,e){return n}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends _s{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ds{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Ok{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(cr.UNAUTHENTICATED)))}shutdown(){}}class IF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class kF{constructor(e){this.t=e,this.currentUser=cr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){wt(this.o===void 0,42304);let r=this.i;const a=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let o=new ds;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ds,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await a(this.currentUser)}))},c=h=>{Oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((h=>c(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(Oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ds)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(Oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(wt(typeof r.accessToken=="string",31837,{l:r}),new Ok(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string",2055,{h:e}),new cr(e)}}class OF{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=cr.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class DF{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new OF(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(cr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class E1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NF{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){wt(this.o===void 0,3512);const r=o=>{o.error!=null&&Oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,Oe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const a=o=>{Oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):Oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new E1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(wt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new E1(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function MF(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class mb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=MF(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<t&&(r+=e.charAt(a[o]%62))}return r}}function lt(n,e){return n<e?-1:n>e?1:0}function n0(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const a=n.charAt(r),o=e.charAt(r);if(a!==o)return e_(a)===e_(o)?lt(a,o):e_(a)?1:-1}return lt(n.length,e.length)}const PF=55296,LF=57343;function e_(n){const e=n.charCodeAt(0);return e>=PF&&e<=LF}function ju(n,e,t){return n.length===e.length&&n.every(((r,a)=>t(r,e[a])))}const w1="__name__";class Ta{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ue(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ue(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ta.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ta?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const o=Ta.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return lt(e.length,t.length)}static compareSegments(e,t){const r=Ta.isNumericId(e),a=Ta.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?Ta.extractNumericId(e).compare(Ta.extractNumericId(t)):n0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _o.fromString(e.substring(4,e.length-2))}}class Bt extends Ta{construct(e,t,r){return new Bt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ce(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new Bt(t)}static emptyPath(){return new Bt([])}}const VF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jn extends Ta{construct(e,t,r){return new Jn(e,t,r)}static isValidIdentifier(e){return VF.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===w1}static keyField(){return new Jn([w1])}static fromServerFormat(e){const t=[];let r="",a=0;const o=()=>{if(r.length===0)throw new Ce(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;a<e.length;){const c=e[a];if(c==="\\"){if(a+1===e.length)throw new Ce(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ce(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,a+=2}else c==="`"?(u=!u,a++):c!=="."||u?(r+=c,a++):(o(),a++)}if(o(),u)throw new Ce(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jn(t)}static emptyPath(){return new Jn([])}}class ze{constructor(e){this.path=e}static fromPath(e){return new ze(Bt.fromString(e))}static fromName(e){return new ze(Bt.fromString(e).popFirst(5))}static empty(){return new ze(Bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Bt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new Bt(e.slice()))}}function Dk(n,e,t){if(!t)throw new Ce(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function jF(n,e,t,r){if(e===!0&&r===!0)throw new Ce(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function x1(n){if(!ze.isDocumentKey(n))throw new Ce(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function C1(n){if(ze.isDocumentKey(n))throw new Ce(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Nk(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Tg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ue(12329,{type:typeof n})}function Ai(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ce(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Tg(n);throw new Ce(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Rn(n,e){const t={typeString:n};return e&&(t.value=e),t}function Zd(n,e){if(!Nk(n))throw new Ce(he.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(a&&typeof u!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&u!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new Ce(he.INVALID_ARGUMENT,t);return!0}const R1=-62135596800,A1=1e6;class Ht{static now(){return Ht.fromMillis(Date.now())}static fromDate(e){return Ht.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*A1);return new Ht(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ce(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ce(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<R1)throw new Ce(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/A1}_compareTo(e){return this.seconds===e.seconds?lt(this.nanoseconds,e.nanoseconds):lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Zd(e,Ht._jsonSchema))return new Ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-R1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ht._jsonSchemaVersion="firestore/timestamp/1.0",Ht._jsonSchema={type:Rn("string",Ht._jsonSchemaVersion),seconds:Rn("number"),nanoseconds:Rn("number")};class qe{static fromTimestamp(e){return new qe(e)}static min(){return new qe(new Ht(0,0))}static max(){return new qe(new Ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Vd=-1;function BF(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=qe.fromTimestamp(r===1e9?new Ht(t+1,0):new Ht(t,r));return new To(a,ze.empty(),e)}function zF(n){return new To(n.readTime,n.key,Vd)}class To{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new To(qe.min(),ze.empty(),Vd)}static max(){return new To(qe.max(),ze.empty(),Vd)}}function FF(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ze.comparator(n.documentKey,e.documentKey),t!==0?t:lt(n.largestBatchId,e.largestBatchId))}const UF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Xu(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==UF)throw n;Oe("LocalStore","Unexpectedly lost primary lease")}class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pe(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof pe?t:pe.resolve(t)}catch(t){return pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):pe.reject(t)}static resolve(e){return new pe(((t,r)=>{t(e)}))}static reject(e){return new pe(((t,r)=>{r(e)}))}static waitFor(e){return new pe(((t,r)=>{let a=0,o=0,u=!1;e.forEach((c=>{++a,c.next((()=>{++o,u&&o===a&&t()}),(h=>r(h)))})),u=!0,o===a&&t()}))}static or(e){let t=pe.resolve(!1);for(const r of e)t=t.next((a=>a?pe.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,o)=>{r.push(t.call(this,a,o))})),this.waitFor(r)}static mapArray(e,t){return new pe(((r,a)=>{const o=e.length,u=new Array(o);let c=0;for(let h=0;h<o;h++){const f=h;t(e[f]).next((g=>{u[f]=g,++c,c===o&&r(u)}),(g=>a(g)))}}))}static doWhile(e,t){return new pe(((r,a)=>{const o=()=>{e()===!0?t().next((()=>{o()}),a):r()};o()}))}}function WF(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ju(n){return n.name==="IndexedDbTransactionError"}class Eg{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Eg.ce=-1;const gb=-1;function wg(n){return n==null}function qm(n){return n===0&&1/n==-1/0}function qF(n){return typeof n=="number"&&Number.isInteger(n)&&!qm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Mk="";function GF(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=I1(e)),e=KF(n.get(t),e);return I1(e)}function KF(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case Mk:t+="";break;default:t+=o}}return t}function I1(n){return n+Mk+""}function k1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function No(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Pk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class en{constructor(e,t){this.comparator=e,this.root=t||Xn.EMPTY}insert(e,t){return new en(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xn.BLACK,null,null))}remove(e){return new en(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new em(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new em(this.root,e,this.comparator,!1)}getReverseIterator(){return new em(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new em(this.root,e,this.comparator,!0)}}class em{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xn{constructor(e,t,r,a,o){this.key=e,this.value=t,this.color=r??Xn.RED,this.left=a??Xn.EMPTY,this.right=o??Xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,o){return new Xn(e??this.key,t??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,r),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Xn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}Xn.EMPTY=null,Xn.RED=!0,Xn.BLACK=!1;Xn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,t,r,a,o){return this}insert(e,t,r){return new Xn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mn{constructor(e){this.comparator=e,this.data=new en(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new O1(this.data.getIterator())}getIteratorFrom(e){return new O1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Mn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Mn(this.comparator);return t.data=e,t}}class O1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class li{constructor(e){this.fields=e,e.sort(Jn.comparator)}static empty(){return new li([])}unionWith(e){let t=new Mn(Jn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new li(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ju(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class Lk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class er{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Lk("Invalid base64 string: "+o):o}})(e);return new er(t)}static fromUint8Array(e){const t=(function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o})(e);return new er(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}er.EMPTY_BYTE_STRING=new er("");const $F=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Eo(n){if(wt(!!n,39018),typeof n=="string"){let e=0;const t=$F.exec(n);if(wt(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:hn(n.seconds),nanos:hn(n.nanos)}}function hn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function wo(n){return typeof n=="string"?er.fromBase64String(n):er.fromUint8Array(n)}const Vk="server_timestamp",jk="__type__",Bk="__previous_value__",zk="__local_write_time__";function pb(n){return(n?.mapValue?.fields||{})[jk]?.stringValue===Vk}function xg(n){const e=n.mapValue.fields[Bk];return pb(e)?xg(e):e}function jd(n){const e=Eo(n.mapValue.fields[zk].timestampValue);return new Ht(e.seconds,e.nanos)}class YF{constructor(e,t,r,a,o,u,c,h,f,g,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=g,this.apiKey=y}}const Gm="(default)";class Bd{constructor(e,t){this.projectId=e,this.database=t||Gm}static empty(){return new Bd("","")}get isDefaultDatabase(){return this.database===Gm}isEqual(e){return e instanceof Bd&&e.projectId===this.projectId&&e.database===this.database}}function QF(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new Ce(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bd(n.options.projectId,e)}const Fk="__type__",XF="__max__",tm={mapValue:{}},Uk="__vector__",Km="value";function xo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?pb(n)?4:ZF(n)?9007199254740991:JF(n)?10:11:Ue(28295,{value:n})}function Da(n,e){if(n===e)return!0;const t=xo(n);if(t!==xo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return jd(n).isEqual(jd(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Eo(a.timestampValue),c=Eo(o.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,o){return wo(a.bytesValue).isEqual(wo(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,o){return hn(a.geoPointValue.latitude)===hn(o.geoPointValue.latitude)&&hn(a.geoPointValue.longitude)===hn(o.geoPointValue.longitude)})(n,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return hn(a.integerValue)===hn(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=hn(a.doubleValue),c=hn(o.doubleValue);return u===c?qm(u)===qm(c):isNaN(u)&&isNaN(c)}return!1})(n,e);case 9:return ju(n.arrayValue.values||[],e.arrayValue.values||[],Da);case 10:case 11:return(function(a,o){const u=a.mapValue.fields||{},c=o.mapValue.fields||{};if(k1(u)!==k1(c))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(c[h]===void 0||!Da(u[h],c[h])))return!1;return!0})(n,e);default:return Ue(52216,{left:n})}}function zd(n,e){return(n.values||[]).find((t=>Da(t,e)))!==void 0}function Bu(n,e){if(n===e)return 0;const t=xo(n),r=xo(e);if(t!==r)return lt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return lt(n.booleanValue,e.booleanValue);case 2:return(function(o,u){const c=hn(o.integerValue||o.doubleValue),h=hn(u.integerValue||u.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1})(n,e);case 3:return D1(n.timestampValue,e.timestampValue);case 4:return D1(jd(n),jd(e));case 5:return n0(n.stringValue,e.stringValue);case 6:return(function(o,u){const c=wo(o),h=wo(u);return c.compareTo(h)})(n.bytesValue,e.bytesValue);case 7:return(function(o,u){const c=o.split("/"),h=u.split("/");for(let f=0;f<c.length&&f<h.length;f++){const g=lt(c[f],h[f]);if(g!==0)return g}return lt(c.length,h.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,u){const c=lt(hn(o.latitude),hn(u.latitude));return c!==0?c:lt(hn(o.longitude),hn(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return N1(n.arrayValue,e.arrayValue);case 10:return(function(o,u){const c=o.fields||{},h=u.fields||{},f=c[Km]?.arrayValue,g=h[Km]?.arrayValue,y=lt(f?.values?.length||0,g?.values?.length||0);return y!==0?y:N1(f,g)})(n.mapValue,e.mapValue);case 11:return(function(o,u){if(o===tm.mapValue&&u===tm.mapValue)return 0;if(o===tm.mapValue)return 1;if(u===tm.mapValue)return-1;const c=o.fields||{},h=Object.keys(c),f=u.fields||{},g=Object.keys(f);h.sort(),g.sort();for(let y=0;y<h.length&&y<g.length;++y){const _=n0(h[y],g[y]);if(_!==0)return _;const S=Bu(c[h[y]],f[g[y]]);if(S!==0)return S}return lt(h.length,g.length)})(n.mapValue,e.mapValue);default:throw Ue(23264,{he:t})}}function D1(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return lt(n,e);const t=Eo(n),r=Eo(e),a=lt(t.seconds,r.seconds);return a!==0?a:lt(t.nanos,r.nanos)}function N1(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const o=Bu(t[a],r[a]);if(o)return o}return lt(t.length,r.length)}function zu(n){return r0(n)}function r0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Eo(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return wo(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ze.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",a=!0;for(const o of t.values||[])a?a=!1:r+=",",r+=r0(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const u of r)o?o=!1:a+=",",a+=`${u}:${r0(t.fields[u])}`;return a+"}"})(n.mapValue):Ue(61005,{value:n})}function pm(n){switch(xo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xg(n);return e?16+pm(e):16;case 5:return 2*n.stringValue.length;case 6:return wo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+pm(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return No(r.fields,((o,u)=>{a+=o.length+pm(u)})),a})(n.mapValue);default:throw Ue(13486,{value:n})}}function M1(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function i0(n){return!!n&&"integerValue"in n}function yb(n){return!!n&&"arrayValue"in n}function P1(n){return!!n&&"nullValue"in n}function L1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ym(n){return!!n&&"mapValue"in n}function JF(n){return(n?.mapValue?.fields||{})[Fk]?.stringValue===Uk}function Sd(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return No(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Sd(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Sd(n.arrayValue.values[t]);return e}return{...n}}function ZF(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===XF}class Vr{constructor(e){this.value=e}static empty(){return new Vr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ym(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sd(t)}setAll(e){let t=Jn.emptyPath(),r={},a=[];e.forEach(((u,c)=>{if(!t.isImmediateParentOf(c)){const h=this.getFieldsMap(t);this.applyChanges(h,r,a),r={},a=[],t=c.popLast()}u?r[c.lastSegment()]=Sd(u):a.push(c.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,a)}delete(e){const t=this.field(e.popLast());ym(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Da(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];ym(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){No(t,((a,o)=>e[a]=o));for(const a of r)delete e[a]}clone(){return new Vr(Sd(this.value))}}function Hk(n){const e=[];return No(n.fields,((t,r)=>{const a=new Jn([t]);if(ym(r)){const o=Hk(r.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)})),new li(e)}class dr{constructor(e,t,r,a,o,u,c){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=o,this.data=u,this.documentState=c}static newInvalidDocument(e){return new dr(e,0,qe.min(),qe.min(),qe.min(),Vr.empty(),0)}static newFoundDocument(e,t,r,a){return new dr(e,1,t,qe.min(),r,a,0)}static newNoDocument(e,t){return new dr(e,2,t,qe.min(),qe.min(),Vr.empty(),0)}static newUnknownDocument(e,t){return new dr(e,3,t,qe.min(),qe.min(),Vr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $m{constructor(e,t){this.position=e,this.inclusive=t}}function V1(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const o=e[a],u=n.position[a];if(o.field.isKeyField()?r=ze.comparator(ze.fromName(u.referenceValue),t.key):r=Bu(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function j1(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Da(n.position[t],e.position[t]))return!1;return!0}class Fd{constructor(e,t="asc"){this.field=e,this.dir=t}}function eU(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Wk{}class Cn extends Wk{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new nU(e,t,r):t==="array-contains"?new aU(e,r):t==="in"?new sU(e,r):t==="not-in"?new oU(e,r):t==="array-contains-any"?new lU(e,r):new Cn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new rU(e,r):new iU(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Bu(t,this.value)):t!==null&&xo(this.value)===xo(t)&&this.matchesComparison(Bu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ta extends Wk{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ta(e,t)}matches(e){return qk(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qk(n){return n.op==="and"}function Gk(n){return tU(n)&&qk(n)}function tU(n){for(const e of n.filters)if(e instanceof ta)return!1;return!0}function a0(n){if(n instanceof Cn)return n.field.canonicalString()+n.op.toString()+zu(n.value);if(Gk(n))return n.filters.map((e=>a0(e))).join(",");{const e=n.filters.map((t=>a0(t))).join(",");return`${n.op}(${e})`}}function Kk(n,e){return n instanceof Cn?(function(r,a){return a instanceof Cn&&r.op===a.op&&r.field.isEqual(a.field)&&Da(r.value,a.value)})(n,e):n instanceof ta?(function(r,a){return a instanceof ta&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,u,c)=>o&&Kk(u,a.filters[c])),!0):!1})(n,e):void Ue(19439)}function $k(n){return n instanceof Cn?(function(t){return`${t.field.canonicalString()} ${t.op} ${zu(t.value)}`})(n):n instanceof ta?(function(t){return t.op.toString()+" {"+t.getFilters().map($k).join(" ,")+"}"})(n):"Filter"}class nU extends Cn{constructor(e,t,r){super(e,t,r),this.key=ze.fromName(r.referenceValue)}matches(e){const t=ze.comparator(e.key,this.key);return this.matchesComparison(t)}}class rU extends Cn{constructor(e,t){super(e,"in",t),this.keys=Yk("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class iU extends Cn{constructor(e,t){super(e,"not-in",t),this.keys=Yk("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Yk(n,e){return(e.arrayValue?.values||[]).map((t=>ze.fromName(t.referenceValue)))}class aU extends Cn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return yb(t)&&zd(t.arrayValue,this.value)}}class sU extends Cn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&zd(this.value.arrayValue,t)}}class oU extends Cn{constructor(e,t){super(e,"not-in",t)}matches(e){if(zd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!zd(this.value.arrayValue,t)}}class lU extends Cn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!yb(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>zd(this.value.arrayValue,r)))}}class uU{constructor(e,t=null,r=[],a=[],o=null,u=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=u,this.endAt=c,this.Te=null}}function B1(n,e=null,t=[],r=[],a=null,o=null,u=null){return new uU(n,e,t,r,a,o,u)}function vb(n){const e=Ke(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>a0(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),wg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>zu(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>zu(r))).join(",")),e.Te=t}return e.Te}function _b(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!eU(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Kk(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!j1(n.startAt,e.startAt)&&j1(n.endAt,e.endAt)}function s0(n){return ze.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Zu{constructor(e,t=null,r=[],a=[],o=null,u="F",c=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=u,this.startAt=c,this.endAt=h,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function cU(n,e,t,r,a,o,u,c){return new Zu(n,e,t,r,a,o,u,c)}function Cg(n){return new Zu(n)}function z1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function dU(n){return ze.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Qk(n){return n.collectionGroup!==null}function Td(n){const e=Ke(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let c=new Mn(Jn.comparator);return u.filters.forEach((h=>{h.getFlattenedFilters().forEach((f=>{f.isInequality()&&(c=c.add(f.field))}))})),c})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Fd(o,r))})),t.has(Jn.keyField().canonicalString())||e.Ie.push(new Fd(Jn.keyField(),r))}return e.Ie}function Ra(n){const e=Ke(n);return e.Ee||(e.Ee=hU(e,Td(n))),e.Ee}function hU(n,e){if(n.limitType==="F")return B1(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Fd(a.field,o)}));const t=n.endAt?new $m(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new $m(n.startAt.position,n.startAt.inclusive):null;return B1(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function o0(n,e){const t=n.filters.concat([e]);return new Zu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function fU(n,e){const t=n.explicitOrderBy.concat([e]);return new Zu(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function l0(n,e,t){return new Zu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Rg(n,e){return _b(Ra(n),Ra(e))&&n.limitType===e.limitType}function Xk(n){return`${vb(Ra(n))}|lt:${n.limitType}`}function Eu(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>$k(a))).join(", ")}]`),wg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>zu(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>zu(a))).join(",")),`Target(${r})`})(Ra(n))}; limitType=${n.limitType})`}function Ag(n,e){return e.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ze.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,a){for(const o of Td(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(n,e)&&(function(r,a){return!(r.startAt&&!(function(u,c,h){const f=V1(u,c,h);return u.inclusive?f<=0:f<0})(r.startAt,Td(r),a)||r.endAt&&!(function(u,c,h){const f=V1(u,c,h);return u.inclusive?f>=0:f>0})(r.endAt,Td(r),a))})(n,e)}function mU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Jk(n){return(e,t)=>{let r=!1;for(const a of Td(n)){const o=gU(a,e,t);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function gU(n,e,t){const r=n.field.isKeyField()?ze.comparator(e.key,t.key):(function(o,u,c){const h=u.data.field(o),f=c.data.field(o);return h!==null&&f!==null?Bu(h,f):Ue(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ue(19790,{direction:n.dir})}}class Ml{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){No(this.inner,((t,r)=>{for(const[a,o]of r)e(a,o)}))}isEmpty(){return Pk(this.inner)}size(){return this.innerSize}}const pU=new en(ze.comparator);function gs(){return pU}const Zk=new en(ze.comparator);function hd(...n){let e=Zk;for(const t of n)e=e.insert(t.key,t);return e}function e2(n){let e=Zk;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function bl(){return Ed()}function t2(){return Ed()}function Ed(){return new Ml((n=>n.toString()),((n,e)=>n.isEqual(e)))}const yU=new en(ze.comparator),vU=new Mn(ze.comparator);function ct(...n){let e=vU;for(const t of n)e=e.add(t);return e}const _U=new Mn(lt);function bU(){return _U}function bb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qm(e)?"-0":e}}function n2(n){return{integerValue:""+n}}function SU(n,e){return qF(e)?n2(e):bb(n,e)}class Ig{constructor(){this._=void 0}}function TU(n,e,t){return n instanceof Ym?(function(a,o){const u={fields:{[jk]:{stringValue:Vk},[zk]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&pb(o)&&(o=xg(o)),o&&(u.fields[Bk]=o),{mapValue:u}})(t,e):n instanceof Ud?i2(n,e):n instanceof Hd?a2(n,e):(function(a,o){const u=r2(a,o),c=F1(u)+F1(a.Ae);return i0(u)&&i0(a.Ae)?n2(c):bb(a.serializer,c)})(n,e)}function EU(n,e,t){return n instanceof Ud?i2(n,e):n instanceof Hd?a2(n,e):t}function r2(n,e){return n instanceof Qm?(function(r){return i0(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Ym extends Ig{}class Ud extends Ig{constructor(e){super(),this.elements=e}}function i2(n,e){const t=s2(e);for(const r of n.elements)t.some((a=>Da(a,r)))||t.push(r);return{arrayValue:{values:t}}}class Hd extends Ig{constructor(e){super(),this.elements=e}}function a2(n,e){let t=s2(e);for(const r of n.elements)t=t.filter((a=>!Da(a,r)));return{arrayValue:{values:t}}}class Qm extends Ig{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function F1(n){return hn(n.integerValue||n.doubleValue)}function s2(n){return yb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function wU(n,e){return n.field.isEqual(e.field)&&(function(r,a){return r instanceof Ud&&a instanceof Ud||r instanceof Hd&&a instanceof Hd?ju(r.elements,a.elements,Da):r instanceof Qm&&a instanceof Qm?Da(r.Ae,a.Ae):r instanceof Ym&&a instanceof Ym})(n.transform,e.transform)}class xU{constructor(e,t){this.version=e,this.transformResults=t}}class ui{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ui}static exists(e){return new ui(void 0,e)}static updateTime(e){return new ui(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class kg{}function o2(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Og(n.key,ui.none()):new eh(n.key,n.data,ui.none());{const t=n.data,r=Vr.empty();let a=new Mn(Jn.comparator);for(let o of e.fields)if(!a.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),a=a.add(o)}return new Mo(n.key,r,new li(a.toArray()),ui.none())}}function CU(n,e,t){n instanceof eh?(function(a,o,u){const c=a.value.clone(),h=H1(a.fieldTransforms,o,u.transformResults);c.setAll(h),o.convertToFoundDocument(u.version,c).setHasCommittedMutations()})(n,e,t):n instanceof Mo?(function(a,o,u){if(!vm(a.precondition,o))return void o.convertToUnknownDocument(u.version);const c=H1(a.fieldTransforms,o,u.transformResults),h=o.data;h.setAll(l2(a)),h.setAll(c),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,t):(function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function wd(n,e,t,r){return n instanceof eh?(function(o,u,c,h){if(!vm(o.precondition,u))return c;const f=o.value.clone(),g=W1(o.fieldTransforms,h,u);return f.setAll(g),u.convertToFoundDocument(u.version,f).setHasLocalMutations(),null})(n,e,t,r):n instanceof Mo?(function(o,u,c,h){if(!vm(o.precondition,u))return c;const f=W1(o.fieldTransforms,h,u),g=u.data;return g.setAll(l2(o)),g.setAll(f),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((y=>y.field)))})(n,e,t,r):(function(o,u,c){return vm(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c})(n,e,t)}function RU(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),o=r2(r.transform,a||null);o!=null&&(t===null&&(t=Vr.empty()),t.set(r.field,o))}return t||null}function U1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&ju(r,a,((o,u)=>wU(o,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class eh extends kg{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Mo extends kg{constructor(e,t,r,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function l2(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function H1(n,e,t){const r=new Map;wt(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let a=0;a<t.length;a++){const o=n[a],u=o.transform,c=e.data.field(o.field);r.set(o.field,EU(u,c,t[a]))}return r}function W1(n,e,t){const r=new Map;for(const a of n){const o=a.transform,u=t.data.field(a.field);r.set(a.field,TU(o,u,e))}return r}class Og extends kg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AU extends kg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class IU{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&CU(o,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=wd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=wd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=t2();return this.mutations.forEach((a=>{const o=e.get(a.key),u=o.overlayedDocument;let c=this.applyToLocalView(u,o.mutatedFields);c=t.has(a.key)?null:c;const h=o2(u,c);h!==null&&r.set(a.key,h),u.isValidDocument()||u.convertToNoDocument(qe.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ct())}isEqual(e){return this.batchId===e.batchId&&ju(this.mutations,e.mutations,((t,r)=>U1(t,r)))&&ju(this.baseMutations,e.baseMutations,((t,r)=>U1(t,r)))}}class Sb{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){wt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return yU})();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,r[u].version);return new Sb(e,t,r,a)}}class kU{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class OU{constructor(e,t){this.count=e,this.unchangedNames=t}}var Tn,mt;function DU(n){switch(n){case he.OK:return Ue(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return Ue(15467,{code:n})}}function u2(n){if(n===void 0)return ms("GRPC error has no .code"),he.UNKNOWN;switch(n){case Tn.OK:return he.OK;case Tn.CANCELLED:return he.CANCELLED;case Tn.UNKNOWN:return he.UNKNOWN;case Tn.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Tn.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Tn.INTERNAL:return he.INTERNAL;case Tn.UNAVAILABLE:return he.UNAVAILABLE;case Tn.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Tn.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Tn.NOT_FOUND:return he.NOT_FOUND;case Tn.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Tn.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Tn.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Tn.ABORTED:return he.ABORTED;case Tn.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Tn.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Tn.DATA_LOSS:return he.DATA_LOSS;default:return Ue(39323,{code:n})}}(mt=Tn||(Tn={}))[mt.OK=0]="OK",mt[mt.CANCELLED=1]="CANCELLED",mt[mt.UNKNOWN=2]="UNKNOWN",mt[mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mt[mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mt[mt.NOT_FOUND=5]="NOT_FOUND",mt[mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",mt[mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",mt[mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",mt[mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mt[mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mt[mt.ABORTED=10]="ABORTED",mt[mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",mt[mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",mt[mt.INTERNAL=13]="INTERNAL",mt[mt.UNAVAILABLE=14]="UNAVAILABLE",mt[mt.DATA_LOSS=15]="DATA_LOSS";function NU(){return new TextEncoder}const MU=new _o([4294967295,4294967295],0);function q1(n){const e=NU().encode(n),t=new wk;return t.update(e),new Uint8Array(t.digest())}function G1(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new _o([t,r],0),new _o([a,o],0)]}class Tb{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new fd(`Invalid padding: ${t}`);if(r<0)throw new fd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fd(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new fd(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=_o.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(_o.fromNumber(r)));return a.compare(MU)===1&&(a=new _o([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=q1(e),[r,a]=G1(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,a,o);if(!this.we(u))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Tb(o,a,t);return r.forEach((c=>u.insert(c))),u}insert(e){if(this.ge===0)return;const t=q1(e),[r,a]=G1(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,a,o);this.be(u)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class fd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dg{constructor(e,t,r,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,th.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Dg(qe.min(),a,new en(lt),gs(),ct())}}class th{constructor(e,t,r,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new th(r,t,ct(),ct(),ct())}}class _m{constructor(e,t,r,a){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=a}}class c2{constructor(e,t){this.targetId=e,this.Ce=t}}class d2{constructor(e,t,r=er.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class K1{constructor(){this.ve=0,this.Fe=$1(),this.Me=er.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ct(),t=ct(),r=ct();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Ue(38017,{changeType:o})}})),new th(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=$1()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,wt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class PU{constructor(e){this.Ge=e,this.ze=new Map,this.je=gs(),this.He=nm(),this.Je=nm(),this.Ze=new en(lt)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ue(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const o=a.target;if(s0(o))if(r===0){const u=new ze(o.path);this.et(t,u,dr.newNoDocument(u,qe.min()))}else wt(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const c=this.ut(e),h=c?this.ct(c,e,u):1;if(h!==0){this.it(t);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,f)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=t;let u,c;try{u=wo(r).toUint8Array()}catch(h){if(h instanceof Lk)return Al("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new Tb(u,a,o)}catch(h){return Al(h instanceof fd?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.ge===0?null:c}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((o=>{const u=this.Ge.ht(),c=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(t,o,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((o,u)=>{const c=this.ot(u);if(c){if(o.current&&s0(c.target)){const h=new ze(c.target.path);this.It(h).has(u)||this.Et(u,h)||this.et(u,h,dr.newNoDocument(h,e))}o.Be&&(t.set(u,o.ke()),o.Ke())}}));let r=ct();this.Je.forEach(((o,u)=>{let c=!0;u.forEachWhile((h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const a=new Dg(e,t,this.Ze,this.je,r);return this.je=gs(),this.He=nm(),this.Je=nm(),this.Ze=new en(lt),a}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.qe(t,1):a.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new K1,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Mn(lt),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Mn(lt),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Oe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new K1),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function nm(){return new en(ze.comparator)}function $1(){return new en(ze.comparator)}const LU={asc:"ASCENDING",desc:"DESCENDING"},VU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jU={and:"AND",or:"OR"};class BU{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function u0(n,e){return n.useProto3Json||wg(e)?e:{value:e}}function Xm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function h2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function zU(n,e){return Xm(n,e.toTimestamp())}function Aa(n){return wt(!!n,49232),qe.fromTimestamp((function(t){const r=Eo(t);return new Ht(r.seconds,r.nanos)})(n))}function Eb(n,e){return c0(n,e).canonicalString()}function c0(n,e){const t=(function(a){return new Bt(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function f2(n){const e=Bt.fromString(n);return wt(v2(e),10190,{key:e.toString()}),e}function d0(n,e){return Eb(n.databaseId,e.path)}function t_(n,e){const t=f2(e);if(t.get(1)!==n.databaseId.projectId)throw new Ce(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ce(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ze(g2(t))}function m2(n,e){return Eb(n.databaseId,e)}function FU(n){const e=f2(n);return e.length===4?Bt.emptyPath():g2(e)}function h0(n){return new Bt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function g2(n){return wt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Y1(n,e,t){return{name:d0(n,e),fields:t.value.mapValue.fields}}function UU(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ue(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(f,g){return f.useProto3Json?(wt(g===void 0||typeof g=="string",58123),er.fromBase64String(g||"")):(wt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),er.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,c=u&&(function(f){const g=f.code===void 0?he.UNKNOWN:u2(f.code);return new Ce(g,f.message||"")})(u);t=new d2(r,a,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=t_(n,r.document.name),o=Aa(r.document.updateTime),u=r.document.createTime?Aa(r.document.createTime):qe.min(),c=new Vr({mapValue:{fields:r.document.fields}}),h=dr.newFoundDocument(a,o,u,c),f=r.targetIds||[],g=r.removedTargetIds||[];t=new _m(f,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=t_(n,r.document),o=r.readTime?Aa(r.readTime):qe.min(),u=dr.newNoDocument(a,o),c=r.removedTargetIds||[];t=new _m([],c,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=t_(n,r.document),o=r.removedTargetIds||[];t=new _m([],o,a,null)}else{if(!("filter"in e))return Ue(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,u=new OU(a,o),c=r.targetId;t=new c2(c,u)}}return t}function HU(n,e){let t;if(e instanceof eh)t={update:Y1(n,e.key,e.value)};else if(e instanceof Og)t={delete:d0(n,e.key)};else if(e instanceof Mo)t={update:Y1(n,e.key,e.data),updateMask:JU(e.fieldMask)};else{if(!(e instanceof AU))return Ue(16599,{dt:e.type});t={verify:d0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,u){const c=u.transform;if(c instanceof Ym)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ud)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Hd)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Qm)return{fieldPath:u.field.canonicalString(),increment:c.Ae};throw Ue(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:zU(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ue(27497)})(n,e.precondition)),t}function WU(n,e){return n&&n.length>0?(wt(e!==void 0,14353),n.map((t=>(function(a,o){let u=a.updateTime?Aa(a.updateTime):Aa(o);return u.isEqual(qe.min())&&(u=Aa(o)),new xU(u,a.transformResults||[])})(t,e)))):[]}function qU(n,e){return{documents:[m2(n,e.path)]}}function GU(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=m2(n,a);const o=(function(f){if(f.length!==0)return y2(ta.create(f,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const u=(function(f){if(f.length!==0)return f.map((g=>(function(_){return{field:wu(_.field),direction:YU(_.dir)}})(g)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=u0(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:t,parent:a}}function KU(n){let e=FU(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){wt(r===1,65062);const g=t.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=(function(y){const _=p2(y);return _ instanceof ta&&Gk(_)?_.getFilters():[_]})(t.where));let u=[];t.orderBy&&(u=(function(y){return y.map((_=>(function(T){return new Fd(xu(T.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(_)))})(t.orderBy));let c=null;t.limit&&(c=(function(y){let _;return _=typeof y=="object"?y.value:y,wg(_)?null:_})(t.limit));let h=null;t.startAt&&(h=(function(y){const _=!!y.before,S=y.values||[];return new $m(S,_)})(t.startAt));let f=null;return t.endAt&&(f=(function(y){const _=!y.before,S=y.values||[];return new $m(S,_)})(t.endAt)),cU(e,a,u,o,c,"F",h,f)}function $U(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function p2(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=xu(t.unaryFilter.field);return Cn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=xu(t.unaryFilter.field);return Cn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=xu(t.unaryFilter.field);return Cn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=xu(t.unaryFilter.field);return Cn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Cn.create(xu(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ta.create(t.compositeFilter.filters.map((r=>p2(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}})(t.compositeFilter.op))})(n):Ue(30097,{filter:n})}function YU(n){return LU[n]}function QU(n){return VU[n]}function XU(n){return jU[n]}function wu(n){return{fieldPath:n.canonicalString()}}function xu(n){return Jn.fromServerFormat(n.fieldPath)}function y2(n){return n instanceof Cn?(function(t){if(t.op==="=="){if(L1(t.value))return{unaryFilter:{field:wu(t.field),op:"IS_NAN"}};if(P1(t.value))return{unaryFilter:{field:wu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(L1(t.value))return{unaryFilter:{field:wu(t.field),op:"IS_NOT_NAN"}};if(P1(t.value))return{unaryFilter:{field:wu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wu(t.field),op:QU(t.op),value:t.value}}})(n):n instanceof ta?(function(t){const r=t.getFilters().map((a=>y2(a)));return r.length===1?r[0]:{compositeFilter:{op:XU(t.op),filters:r}}})(n):Ue(54877,{filter:n})}function JU(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function v2(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function _2(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class mo{constructor(e,t,r,a,o=qe.min(),u=qe.min(),c=er.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new mo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ZU{constructor(e){this.yt=e}}function e9(n){const e=KU({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?l0(e,e.limit,"L"):e}class t9{constructor(){this.Sn=new n9}addToCollectionParentIndex(e,t){return this.Sn.add(t),pe.resolve()}getCollectionParents(e,t){return pe.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return pe.resolve()}deleteFieldIndex(e,t){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,t){return pe.resolve()}getDocumentsMatchingTarget(e,t){return pe.resolve(null)}getIndexType(e,t){return pe.resolve(0)}getFieldIndexes(e,t){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,t){return pe.resolve(To.min())}getMinOffsetFromCollectionGroup(e,t){return pe.resolve(To.min())}updateCollectionGroup(e,t,r){return pe.resolve()}updateIndexEntries(e,t){return pe.resolve()}}class n9{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Mn(Bt.comparator),o=!a.has(r);return this.index[t]=a.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Mn(Bt.comparator)).toArray()}}const Q1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},b2=41943040;class Pr{static withCacheSize(e){return new Pr(e,Pr.DEFAULT_COLLECTION_PERCENTILE,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}Pr.DEFAULT_COLLECTION_PERCENTILE=10,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pr.DEFAULT=new Pr(b2,Pr.DEFAULT_COLLECTION_PERCENTILE,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pr.DISABLED=new Pr(-1,0,0);class Fu{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Fu(0)}static ar(){return new Fu(-1)}}const X1="LruGarbageCollector",r9=1048576;function J1([n,e],[t,r]){const a=lt(n,t);return a===0?lt(e,r):a}class i9{constructor(e){this.Pr=e,this.buffer=new Mn(J1),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();J1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class a9{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Oe(X1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ju(t)?Oe(X1,"Ignoring IndexedDB error during garbage collection: ",t):await Xu(t)}await this.Ar(3e5)}))}}class s9{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return pe.resolve(Eg.ce);const r=new i9(t);return this.Vr.forEachTarget(e,(a=>r.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>r.Er(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Oe("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(Q1)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q1):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,a,o,u,c,h,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(Oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),a=this.params.maximumSequenceNumbersToCollect):a=y,u=Date.now(),this.nthSequenceNumber(e,a)))).next((y=>(r=y,c=Date.now(),this.removeTargets(e,r,t)))).next((y=>(o=y,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(f=Date.now(),Tu()<=ot.DEBUG&&Oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${a} in `+(c-u)+`ms
	Removed ${o} targets in `+(h-c)+`ms
	Removed ${y} documents in `+(f-h)+`ms
Total Duration: ${f-g}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:y}))))}}function o9(n,e){return new s9(n,e)}class l9{constructor(){this.changes=new Ml((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?pe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class u9{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class c9{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&wd(r.mutation,a,li.empty(),Ht.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,ct()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=ct()){const a=bl();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((o=>{let u=hd();return o.forEach(((c,h)=>{u=u.insert(c,h.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=bl();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,ct())))}populateOverlays(e,t,r){const a=[];return r.forEach((o=>{t.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((u,c)=>{t.set(u,c)}))}))}computeViews(e,t,r,a){let o=gs();const u=Ed(),c=(function(){return Ed()})();return t.forEach(((h,f)=>{const g=r.get(f.key);a.has(f.key)&&(g===void 0||g.mutation instanceof Mo)?o=o.insert(f.key,f):g!==void 0?(u.set(f.key,g.mutation.getFieldMask()),wd(g.mutation,f,g.mutation.getFieldMask(),Ht.now())):u.set(f.key,li.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((f,g)=>u.set(f,g))),t.forEach(((f,g)=>c.set(f,new u9(g,u.get(f)??null)))),c)))}recalculateAndSaveOverlays(e,t){const r=Ed();let a=new en(((u,c)=>u-c)),o=ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const c of u)c.keys().forEach((h=>{const f=t.get(h);if(f===null)return;let g=r.get(h)||li.empty();g=c.applyToLocalView(f,g),r.set(h,g);const y=(a.get(c.batchId)||ct()).add(h);a=a.insert(c.batchId,y)}))})).next((()=>{const u=[],c=a.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),f=h.key,g=h.value,y=t2();g.forEach((_=>{if(!o.has(_)){const S=o2(t.get(_),r.get(_));S!==null&&y.set(_,S),o=o.add(_)}})),u.push(this.documentOverlayCache.saveOverlays(e,f,y))}return pe.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return dU(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Qk(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-o.size):pe.resolve(bl());let c=Vd,h=o;return u.next((f=>pe.forEach(f,((g,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),o.get(g)?pe.resolve():this.remoteDocumentCache.getEntry(e,g).next((_=>{h=h.insert(g,_)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,h,f,ct()))).next((g=>({batchId:c,changes:e2(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ze(t)).next((r=>{let a=hd();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const o=t.collectionGroup;let u=hd();return this.indexManager.getCollectionParents(e,o).next((c=>pe.forEach(c,(h=>{const f=(function(y,_){return new Zu(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,a).next((g=>{g.forEach(((y,_)=>{u=u.insert(y,_)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,a)))).next((u=>{o.forEach(((h,f)=>{const g=f.getKey();u.get(g)===null&&(u=u.insert(g,dr.newInvalidDocument(g)))}));let c=hd();return u.forEach(((h,f)=>{const g=o.get(h);g!==void 0&&wd(g.mutation,f,li.empty(),Ht.now()),Ag(t,f)&&(c=c.insert(h,f))})),c}))}}class d9{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return pe.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Aa(a.createTime)}})(t)),pe.resolve()}getNamedQuery(e,t){return pe.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(a){return{name:a.name,query:e9(a.bundledQuery),readTime:Aa(a.readTime)}})(t)),pe.resolve()}}class h9{constructor(){this.overlays=new en(ze.comparator),this.Lr=new Map}getOverlay(e,t){return pe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=bl();return pe.forEach(t,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,o)=>{this.bt(e,t,o)})),pe.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Lr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),pe.resolve()}getOverlaysForCollection(e,t,r){const a=bl(),o=t.length+1,u=new ze(t.child("")),c=this.overlays.getIteratorFrom(u);for(;c.hasNext();){const h=c.getNext().value,f=h.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>r&&a.set(h.getKey(),h)}return pe.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let o=new en(((f,g)=>f-g));const u=this.overlays.getIterator();for(;u.hasNext();){const f=u.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let g=o.get(f.largestBatchId);g===null&&(g=bl(),o=o.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const c=bl(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((f,g)=>c.set(f,g))),!(c.size()>=a)););return pe.resolve(c)}bt(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(r.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new kU(t,r));let o=this.Lr.get(t);o===void 0&&(o=ct(),this.Lr.set(t,o)),this.Lr.set(t,o.add(r.key))}}class f9{constructor(){this.sessionToken=er.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,pe.resolve()}}class wb{constructor(){this.kr=new Mn(zn.Kr),this.qr=new Mn(zn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new zn(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new zn(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new ze(new Bt([])),r=new zn(t,e),a=new zn(t,e+1),o=[];return this.qr.forEachInRange([r,a],(u=>{this.Wr(u),o.push(u.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new ze(new Bt([])),r=new zn(t,e),a=new zn(t,e+1);let o=ct();return this.qr.forEachInRange([r,a],(u=>{o=o.add(u.key)})),o}containsKey(e){const t=new zn(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class zn{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return ze.comparator(e.key,t.key)||lt(e.Hr,t.Hr)}static Ur(e,t){return lt(e.Hr,t.Hr)||ze.comparator(e.key,t.key)}}class m9{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Mn(zn.Kr)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new IU(o,t,r,a);this.mutationQueue.push(u);for(const c of a)this.Jr=this.Jr.add(new zn(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return pe.resolve(u)}lookupMutationBatch(e,t){return pe.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Xr(r),o=a<0?0:a;return pe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?gb:this.Yn-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new zn(t,0),a=new zn(t,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,a],(u=>{const c=this.Zr(u.Hr);o.push(c)})),pe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Mn(lt);return t.forEach((a=>{const o=new zn(a,0),u=new zn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,u],(c=>{r=r.add(c.Hr)}))})),pe.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let o=r;ze.isDocumentKey(o)||(o=o.child(""));const u=new zn(new ze(o),0);let c=new Mn(lt);return this.Jr.forEachWhile((h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===a&&(c=c.add(h.Hr)),!0)}),u),pe.resolve(this.Yr(c))}Yr(e){const t=[];return e.forEach((r=>{const a=this.Zr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){wt(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return pe.forEach(t.mutations,(a=>{const o=new zn(a.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new zn(t,0),a=this.Jr.firstAfterOrEqual(r);return pe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class g9{constructor(e){this.ti=e,this.docs=(function(){return new en(ze.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),o=a?a.size:0,u=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return pe.resolve(r?r.document.mutableCopy():dr.newInvalidDocument(t))}getEntries(e,t){let r=gs();return t.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():dr.newInvalidDocument(a))})),pe.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let o=gs();const u=t.path,c=new ze(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:f,value:{document:g}}=h.getNext();if(!u.isPrefixOf(f.path))break;f.path.length>u.length+1||FF(zF(g),r)<=0||(a.has(g.key)||Ag(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return pe.resolve(o)}getAllFromCollectionGroup(e,t,r,a){Ue(9500)}ni(e,t){return pe.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new p9(this)}getSize(e){return pe.resolve(this.size)}}class p9 extends l9{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(r)})),pe.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class y9{constructor(e){this.persistence=e,this.ri=new Ml((t=>vb(t)),_b),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.ii=0,this.si=new wb,this.targetCount=0,this.oi=Fu._r()}forEachTarget(e,t){return this.ri.forEach(((r,a)=>t(a))),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),pe.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Fu(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,pe.resolve()}updateTargetData(e,t){return this.lr(t),pe.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,t,r){let a=0;const o=[];return this.ri.forEach(((u,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.ri.delete(u),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),a++)})),pe.waitFor(o).next((()=>a))}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return pe.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),pe.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach((u=>{o.push(a.markPotentiallyOrphaned(e,u))})),pe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),pe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return pe.resolve(r)}containsKey(e,t){return pe.resolve(this.si.containsKey(t))}}class S2{constructor(e,t){this._i={},this.overlays={},this.ai=new Eg(0),this.ui=!1,this.ui=!0,this.ci=new f9,this.referenceDelegate=e(this),this.li=new y9(this),this.indexManager=new t9,this.remoteDocumentCache=(function(a){return new g9(a)})((r=>this.referenceDelegate.hi(r))),this.serializer=new ZU(t),this.Pi=new d9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new h9,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new m9(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){Oe("MemoryPersistence","Starting transaction:",e);const a=new v9(this.ai.next());return this.referenceDelegate.Ti(),r(a).next((o=>this.referenceDelegate.Ii(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ei(e,t){return pe.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class v9 extends HF{constructor(e){super(),this.currentSequenceNumber=e}}class xb{constructor(e){this.persistence=e,this.Ri=new wb,this.Ai=null}static Vi(e){return new xb(e)}get di(){if(this.Ai)return this.Ai;throw Ue(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),pe.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),pe.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),pe.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((a=>this.di.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.di,(r=>{const a=ze.fromPath(r);return this.mi(e,a).next((o=>{o||t.removeEntry(a,qe.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return pe.or([()=>pe.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Jm{constructor(e,t){this.persistence=e,this.fi=new Ml((r=>GF(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=o9(this,t)}static Vi(e,t){return new Jm(e,t)}Ti(){}Ii(e){return pe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return pe.forEach(this.fi,((r,a)=>this.wr(e,r,a).next((o=>o?pe.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ni(e,(u=>this.wr(e,u,t).next((c=>{c||(r++,o.removeEntry(u,qe.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),pe.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),pe.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),pe.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),pe.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=pm(e.data.value)),t}wr(e,t,r){return pe.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.fi.get(t);return pe.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Cb{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=a}static Es(e,t){let r=ct(),a=ct();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Cb(e,t.fromCache,r,a)}}class _9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class b9{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return uz()?8:WF(hr())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const o={result:null};return this.gs(e,t).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ps(e,t,a,r).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new _9;return this.ys(e,t,u).next((c=>{if(o.result=c,this.As)return this.ws(e,t,u,c.size)}))})).next((()=>o.result))}ws(e,t,r,a){return r.documentReadCount<this.Vs?(Tu()<=ot.DEBUG&&Oe("QueryEngine","SDK will not create cache indexes for query:",Eu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),pe.resolve()):(Tu()<=ot.DEBUG&&Oe("QueryEngine","Query:",Eu(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(Tu()<=ot.DEBUG&&Oe("QueryEngine","The SDK decides to create cache indexes for query:",Eu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ra(t))):pe.resolve())}gs(e,t){if(z1(t))return pe.resolve(null);let r=Ra(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=l0(t,null,"F"),r=Ra(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const u=ct(...o);return this.fs.getDocuments(e,u).next((c=>this.indexManager.getMinOffset(e,r).next((h=>{const f=this.bs(t,c);return this.Ss(t,f,u,h.readTime)?this.gs(e,l0(t,null,"F")):this.Ds(e,f,t,h)}))))})))))}ps(e,t,r,a){return z1(t)||a.isEqual(qe.min())?pe.resolve(null):this.fs.getDocuments(e,r).next((o=>{const u=this.bs(t,o);return this.Ss(t,u,r,a)?pe.resolve(null):(Tu()<=ot.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Eu(t)),this.Ds(e,u,t,BF(a,Vd)).next((c=>c)))}))}bs(e,t){let r=new Mn(Jk(e));return t.forEach(((a,o)=>{Ag(e,o)&&(r=r.add(o))})),r}Ss(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}ys(e,t,r){return Tu()<=ot.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",Eu(t)),this.fs.getDocumentsMatchingQuery(e,t,To.min(),r)}Ds(e,t,r,a){return this.fs.getDocumentsMatchingQuery(e,r,a).next((o=>(t.forEach((u=>{o=o.insert(u.key,u)})),o)))}}const Rb="LocalStore",S9=3e8;class T9{constructor(e,t,r,a){this.persistence=e,this.Cs=t,this.serializer=a,this.vs=new en(lt),this.Fs=new Ml((o=>vb(o)),_b),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new c9(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function E9(n,e,t,r){return new T9(n,e,t,r)}async function T2(n,e){const t=Ke(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const u=[],c=[];let h=ct();for(const f of a){u.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}for(const f of o){c.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(r,h).next((f=>({Ns:f,removedBatchIds:u,addedBatchIds:c})))}))}))}function w9(n,e){const t=Ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),o=t.xs.newChangeBuffer({trackRemovals:!0});return(function(c,h,f,g){const y=f.batch,_=y.keys();let S=pe.resolve();return _.forEach((T=>{S=S.next((()=>g.getEntry(h,T))).next((x=>{const C=f.docVersions.get(T);wt(C!==null,48541),x.version.compareTo(C)<0&&(y.applyToRemoteDocument(x,f),x.isValidDocument()&&(x.setReadTime(f.commitVersion),g.addEntry(x)))}))})),S.next((()=>c.mutationQueue.removeMutationBatch(h,y)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let h=ct();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(h=h.add(c.batch.mutations[f].key));return h})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function E2(n){const e=Ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function x9(n,e){const t=Ke(n),r=e.snapshotVersion;let a=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=t.xs.newChangeBuffer({trackRemovals:!0});a=t.vs;const c=[];e.targetChanges.forEach(((g,y)=>{const _=a.get(y);if(!_)return;c.push(t.li.removeMatchingKeys(o,g.removedDocuments,y).next((()=>t.li.addMatchingKeys(o,g.addedDocuments,y))));let S=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?S=S.withResumeToken(er.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,r)),a=a.insert(y,S),(function(x,C,I){return x.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=S9?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(_,S,g)&&c.push(t.li.updateTargetData(o,S))}));let h=gs(),f=ct();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))})),c.push(C9(o,u,e.documentUpdates).next((g=>{h=g.Bs,f=g.Ls}))),!r.isEqual(qe.min())){const g=t.li.getLastRemoteSnapshotVersion(o).next((y=>t.li.setTargetsMetadata(o,o.currentSequenceNumber,r)));c.push(g)}return pe.waitFor(c).next((()=>u.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,h,f))).next((()=>h))})).then((o=>(t.vs=a,o)))}function C9(n,e,t){let r=ct(),a=ct();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let u=gs();return t.forEach(((c,h)=>{const f=o.get(c);h.isFoundDocument()!==f.isFoundDocument()&&(a=a.add(c)),h.isNoDocument()&&h.version.isEqual(qe.min())?(e.removeEntry(c,h.readTime),u=u.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),u=u.insert(c,h)):Oe(Rb,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)})),{Bs:u,Ls:a}}))}function R9(n,e){const t=Ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=gb),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function A9(n,e){const t=Ke(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.li.getTargetData(r,e).next((o=>o?(a=o,pe.resolve(a)):t.li.allocateTargetId(r).next((u=>(a=new mo(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.vs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function f0(n,e,t){const r=Ke(n),a=r.vs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(u=>r.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Ju(u))throw u;Oe(Rb,`Failed to update sequence numbers for target ${e}: ${u}`)}r.vs=r.vs.remove(e),r.Fs.delete(a.target)}function Z1(n,e,t){const r=Ke(n);let a=qe.min(),o=ct();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(h,f,g){const y=Ke(h),_=y.Fs.get(g);return _!==void 0?pe.resolve(y.vs.get(_)):y.li.getTargetData(f,g)})(r,u,Ra(e)).next((c=>{if(c)return a=c.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(u,c.targetId).next((h=>{o=h}))})).next((()=>r.Cs.getDocumentsMatchingQuery(u,e,t?a:qe.min(),t?o:ct()))).next((c=>(I9(r,mU(e),c),{documents:c,ks:o})))))}function I9(n,e,t){let r=n.Ms.get(e)||qe.min();t.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Ms.set(e,r)}class eR{constructor(){this.activeTargetIds=bU()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class k9{constructor(){this.vo=new eR,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new eR,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class O9{Mo(e){}shutdown(){}}const tR="ConnectivityMonitor";class nR{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Oe(tR,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Oe(tR,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let rm=null;function m0(){return rm===null?rm=(function(){return 268435456+Math.round(2147483648*Math.random())})():rm++,"0x"+rm.toString(16)}const n_="RestConnection",D9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class N9{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${a}`,this.$o=this.databaseId.database===Gm?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Wo(e,t,r,a,o){const u=m0(),c=this.Qo(e,t.toUriEncodedString());Oe(n_,`Sending RPC '${e}' ${u}:`,c,r);const h={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(h,a,o);const{host:f}=new URL(c),g=$u(f);return this.zo(e,c,h,r,g).then((y=>(Oe(n_,`Received RPC '${e}' ${u}: `,y),y)),(y=>{throw Al(n_,`RPC '${e}' ${u} failed with error: `,y,"url: ",c,"request:",r),y}))}jo(e,t,r,a,o,u){return this.Wo(e,t,r,a,o)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Qu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,o)=>e[o]=a)),r&&r.headers.forEach(((a,o)=>e[o]=a))}Qo(e,t){const r=D9[e];let a=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class M9{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const sr="WebChannelConnection",ad=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(a){setTimeout((()=>{throw a}),0)}}))};class ku extends N9{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ku.c_){const e=Ak();ad(e,Rk.STAT_EVENT,(t=>{t.stat===t0.PROXY?Oe(sr,"STAT_EVENT: detected buffering proxy"):t.stat===t0.NOPROXY&&Oe(sr,"STAT_EVENT: detected no buffering proxy")})),ku.c_=!0}}zo(e,t,r,a,o){const u=m0();return new Promise(((c,h)=>{const f=new xk;f.setWithCredentials(!0),f.listenOnce(Ck.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case gm.NO_ERROR:const y=f.getResponseJson();Oe(sr,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(y)),c(y);break;case gm.TIMEOUT:Oe(sr,`RPC '${e}' ${u} timed out`),h(new Ce(he.DEADLINE_EXCEEDED,"Request time out"));break;case gm.HTTP_ERROR:const _=f.getStatus();if(Oe(sr,`RPC '${e}' ${u} failed with status:`,_,"response text:",f.getResponseText()),_>0){let S=f.getResponseJson();Array.isArray(S)&&(S=S[0]);const T=S?.error;if(T&&T.status&&T.message){const x=(function(I){const R=I.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(R)>=0?R:he.UNKNOWN})(T.status);h(new Ce(x,T.message))}else h(new Ce(he.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new Ce(he.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{l_:e,streamId:u,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Oe(sr,`RPC '${e}' ${u} completed.`)}}));const g=JSON.stringify(a);Oe(sr,`RPC '${e}' ${u} sending request:`,a),f.send(t,"POST",g,r,15)}))}T_(e,t,r){const a=m0(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Go(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const f=o.join("");Oe(sr,`Creating RPC '${e}' stream ${a}: ${f}`,c);const g=u.createWebChannel(f,c);this.I_(g);let y=!1,_=!1;const S=new M9({Ho:T=>{_?Oe(sr,`Not sending because RPC '${e}' stream ${a} is closed:`,T):(y||(Oe(sr,`Opening RPC '${e}' stream ${a} transport.`),g.open(),y=!0),Oe(sr,`RPC '${e}' stream ${a} sending:`,T),g.send(T))},Jo:()=>g.close()});return ad(g,dd.EventType.OPEN,(()=>{_||(Oe(sr,`RPC '${e}' stream ${a} transport opened.`),S.i_())})),ad(g,dd.EventType.CLOSE,(()=>{_||(_=!0,Oe(sr,`RPC '${e}' stream ${a} transport closed`),S.o_(),this.E_(g))})),ad(g,dd.EventType.ERROR,(T=>{_||(_=!0,Al(sr,`RPC '${e}' stream ${a} transport errored. Name:`,T.name,"Message:",T.message),S.o_(new Ce(he.UNAVAILABLE,"The operation could not be completed")))})),ad(g,dd.EventType.MESSAGE,(T=>{if(!_){const x=T.data[0];wt(!!x,16349);const C=x,I=C?.error||C[0]?.error;if(I){Oe(sr,`RPC '${e}' stream ${a} received error:`,I);const R=I.status;let O=(function(F){const N=Tn[F];if(N!==void 0)return u2(N)})(R),z=I.message;R==="NOT_FOUND"&&z.includes("database")&&z.includes("does not exist")&&z.includes(this.databaseId.database)&&Al(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),O===void 0&&(O=he.INTERNAL,z="Unknown error status: "+R+" with message "+I.message),_=!0,S.o_(new Ce(O,z)),g.close()}else Oe(sr,`RPC '${e}' stream ${a} received:`,x),S.__(x)}})),ku.u_(),setTimeout((()=>{S.s_()}),0),S}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Ik()}}function P9(n){return new ku(n)}function r_(){return typeof document<"u"?document:null}function Ng(n){return new BU(n,!0)}ku.c_=!1;class w2{constructor(e,t,r=1e3,a=1.5,o=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=a,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&Oe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const rR="PersistentStream";class x2{constructor(e,t,r,a,o,u,c,h){this.Ci=e,this.b_=r,this.S_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new w2(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(ms(t.toString()),ms("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new Ce(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Oe(rR,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(Oe(rR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class L9 extends x2{constructor(e,t,r,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,u),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=UU(this.serializer,e),r=(function(o){if(!("targetChange"in o))return qe.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?qe.min():u.readTime?Aa(u.readTime):qe.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=h0(this.serializer),t.addTarget=(function(o,u){let c;const h=u.target;if(c=s0(h)?{documents:qU(o,h)}:{query:GU(o,h).ft},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=h2(o,u.resumeToken);const f=u0(o,u.expectedCount);f!==null&&(c.expectedCount=f)}else if(u.snapshotVersion.compareTo(qe.min())>0){c.readTime=Xm(o,u.snapshotVersion.toTimestamp());const f=u0(o,u.expectedCount);f!==null&&(c.expectedCount=f)}return c})(this.serializer,e);const r=$U(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=h0(this.serializer),t.removeTarget=e,this.K_(t)}}class V9 extends x2{constructor(e,t,r,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,u),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=WU(e.writeResults,e.commitTime),r=Aa(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=h0(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>HU(this.serializer,r)))};this.K_(t)}}class j9{}class B9 extends j9{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Ce(he.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Wo(e,c0(t,r),a,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ce(he.UNKNOWN,o.toString())}))}jo(e,t,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.jo(e,c0(t,r),a,u,c,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ce(he.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function z9(n,e,t,r){return new B9(n,e,t,r)}class F9{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ms(t),this.aa=!1):Oe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Il="RemoteStore";class U9{constructor(e,t,r,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((u=>{r.enqueueAndForget((async()=>{Pl(this)&&(Oe(Il,"Restarting streams for network reachability change."),await(async function(h){const f=Ke(h);f.Ea.add(4),await nh(f),f.Va.set("Unknown"),f.Ea.delete(4),await Mg(f)})(this))}))})),this.Va=new F9(r,a)}}async function Mg(n){if(Pl(n))for(const e of n.Ra)await e(!0)}async function nh(n){for(const e of n.Ra)await e(!1)}function C2(n,e){const t=Ke(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Ob(t)?kb(t):ec(t).O_()&&Ib(t,e))}function Ab(n,e){const t=Ke(n),r=ec(t);t.Ia.delete(e),r.O_()&&R2(t,e),t.Ia.size===0&&(r.O_()?r.L_():Pl(t)&&t.Va.set("Unknown"))}function Ib(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ec(n).Z_(e)}function R2(n,e){n.da.$e(e),ec(n).X_(e)}function kb(n){n.da=new PU({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),ec(n).start(),n.Va.ua()}function Ob(n){return Pl(n)&&!ec(n).x_()&&n.Ia.size>0}function Pl(n){return Ke(n).Ea.size===0}function A2(n){n.da=void 0}async function H9(n){n.Va.set("Online")}async function W9(n){n.Ia.forEach(((e,t)=>{Ib(n,e)}))}async function q9(n,e){A2(n),Ob(n)?(n.Va.ha(e),kb(n)):n.Va.set("Unknown")}async function G9(n,e,t){if(n.Va.set("Online"),e instanceof d2&&e.state===2&&e.cause)try{await(async function(a,o){const u=o.cause;for(const c of o.targetIds)a.Ia.has(c)&&(await a.remoteSyncer.rejectListen(c,u),a.Ia.delete(c),a.da.removeTarget(c))})(n,e)}catch(r){Oe(Il,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zm(n,r)}else if(e instanceof _m?n.da.Xe(e):e instanceof c2?n.da.st(e):n.da.tt(e),!t.isEqual(qe.min()))try{const r=await E2(n.localStore);t.compareTo(r)>=0&&await(function(o,u){const c=o.da.Tt(u);return c.targetChanges.forEach(((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const g=o.Ia.get(f);g&&o.Ia.set(f,g.withResumeToken(h.resumeToken,u))}})),c.targetMismatches.forEach(((h,f)=>{const g=o.Ia.get(h);if(!g)return;o.Ia.set(h,g.withResumeToken(er.EMPTY_BYTE_STRING,g.snapshotVersion)),R2(o,h);const y=new mo(g.target,h,f,g.sequenceNumber);Ib(o,y)})),o.remoteSyncer.applyRemoteEvent(c)})(n,t)}catch(r){Oe(Il,"Failed to raise snapshot:",r),await Zm(n,r)}}async function Zm(n,e,t){if(!Ju(e))throw e;n.Ea.add(1),await nh(n),n.Va.set("Offline"),t||(t=()=>E2(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Oe(Il,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Mg(n)}))}function I2(n,e){return e().catch((t=>Zm(n,t,e)))}async function Pg(n){const e=Ke(n),t=Co(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:gb;for(;K9(e);)try{const a=await R9(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,$9(e,a)}catch(a){await Zm(e,a)}k2(e)&&O2(e)}function K9(n){return Pl(n)&&n.Ta.length<10}function $9(n,e){n.Ta.push(e);const t=Co(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function k2(n){return Pl(n)&&!Co(n).x_()&&n.Ta.length>0}function O2(n){Co(n).start()}async function Y9(n){Co(n).ra()}async function Q9(n){const e=Co(n);for(const t of n.Ta)e.ea(t.mutations)}async function X9(n,e,t){const r=n.Ta.shift(),a=Sb.from(r,e,t);await I2(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await Pg(n)}async function J9(n,e){e&&Co(n).Y_&&await(async function(r,a){if((function(u){return DU(u)&&u!==he.ABORTED})(a.code)){const o=r.Ta.shift();Co(r).B_(),await I2(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await Pg(r)}})(n,e),k2(n)&&O2(n)}async function iR(n,e){const t=Ke(n);t.asyncQueue.verifyOperationInProgress(),Oe(Il,"RemoteStore received new credentials");const r=Pl(t);t.Ea.add(3),await nh(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Mg(t)}async function Z9(n,e){const t=Ke(n);e?(t.Ea.delete(2),await Mg(t)):e||(t.Ea.add(2),await nh(t),t.Va.set("Unknown"))}function ec(n){return n.ma||(n.ma=(function(t,r,a){const o=Ke(t);return o.sa(),new L9(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Zo:H9.bind(null,n),Yo:W9.bind(null,n),t_:q9.bind(null,n),J_:G9.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),Ob(n)?kb(n):n.Va.set("Unknown")):(await n.ma.stop(),A2(n))}))),n.ma}function Co(n){return n.fa||(n.fa=(function(t,r,a){const o=Ke(t);return o.sa(),new V9(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Y9.bind(null,n),t_:J9.bind(null,n),ta:Q9.bind(null,n),na:X9.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await Pg(n)):(await n.fa.stop(),n.Ta.length>0&&(Oe(Il,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Db{constructor(e,t,r,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,o){const u=Date.now()+r,c=new Db(e,t,u,a,o);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nb(n,e){if(ms("AsyncQueue",`${e}: ${n}`),Ju(n))return new Ce(he.UNAVAILABLE,`${e}: ${n}`);throw n}class Ou{static emptySet(e){return new Ou(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ze.comparator(t.key,r.key):(t,r)=>ze.comparator(t.key,r.key),this.keyedMap=hd(),this.sortedSet=new en(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ou)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ou;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class aR{constructor(){this.ga=new en(ze.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ue(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Uu{constructor(e,t,r,a,o,u,c,h,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,a,o){const u=[];return t.forEach((c=>{u.push({type:0,doc:c})})),new Uu(e,t,Ou.emptySet(t),u,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class e8{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class t8{constructor(){this.queries=sR(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=Ke(t),o=a.queries;a.queries=sR(),o.forEach(((u,c)=>{for(const h of c.ba)h.onError(r)}))})(this,new Ce(he.ABORTED,"Firestore shutting down"))}}function sR(){return new Ml((n=>Xk(n)),Rg)}async function Mb(n,e){const t=Ke(n);let r=3;const a=e.query;let o=t.queries.get(a);o?!o.Sa()&&e.Da()&&(r=2):(o=new e8,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(a,!0);break;case 1:o.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const c=Nb(u,`Initialization of query '${Eu(e.query)}' failed`);return void e.onError(c)}t.queries.set(a,o),o.ba.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&Lb(t)}async function Pb(n,e){const t=Ke(n),r=e.query;let a=3;const o=t.queries.get(r);if(o){const u=o.ba.indexOf(e);u>=0&&(o.ba.splice(u,1),o.ba.length===0?a=e.Da()?0:1:!o.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function n8(n,e){const t=Ke(n);let r=!1;for(const a of e){const o=a.query,u=t.queries.get(o);if(u){for(const c of u.ba)c.Fa(a)&&(r=!0);u.wa=a}}r&&Lb(t)}function r8(n,e,t){const r=Ke(n),a=r.queries.get(e);if(a)for(const o of a.ba)o.onError(t);r.queries.delete(e)}function Lb(n){n.Ca.forEach((e=>{e.next()}))}var g0,oR;(oR=g0||(g0={})).Ma="default",oR.Cache="cache";class Vb{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Uu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Uu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==g0.Cache}}class D2{constructor(e){this.key=e}}class N2{constructor(e){this.key=e}}class i8{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ct(),this.mutatedKeys=ct(),this.eu=Jk(e),this.tu=new Ou(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new aR,a=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,u=a,c=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,f=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((g,y)=>{const _=a.get(g),S=Ag(this.query,y)?y:null,T=!!_&&this.mutatedKeys.has(_.key),x=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let C=!1;_&&S?_.data.isEqual(S.data)?T!==x&&(r.track({type:3,doc:S}),C=!0):this.su(_,S)||(r.track({type:2,doc:S}),C=!0,(h&&this.eu(S,h)>0||f&&this.eu(S,f)<0)&&(c=!0)):!_&&S?(r.track({type:0,doc:S}),C=!0):_&&!S&&(r.track({type:1,doc:_}),C=!0,(h||f)&&(c=!0)),C&&(S?(u=u.add(S),o=x?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{tu:u,iu:r,Ss:c,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((g,y)=>(function(S,T){const x=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Vt:C})}};return x(S)-x(T)})(g.type,y.type)||this.eu(g.doc,y.doc))),this.ou(r),a=a??!1;const c=t&&!a?this._u():[],h=this.Ya.size===0&&this.current&&!a?1:0,f=h!==this.Xa;return this.Xa=h,u.length!==0||f?{snapshot:new Uu(this.query,e.tu,o,u,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new aR,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ct(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new N2(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new D2(r))})),t}cu(e){this.Za=e.ks,this.Ya=ct();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Uu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const jb="SyncEngine";class a8{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class s8{constructor(e){this.key=e,this.hu=!1}}class o8{constructor(e,t,r,a,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ml((c=>Xk(c)),Rg),this.Iu=new Map,this.Eu=new Set,this.Ru=new en(ze.comparator),this.Au=new Map,this.Vu=new wb,this.du={},this.mu=new Map,this.fu=Fu.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function l8(n,e,t=!0){const r=B2(n);let a;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await M2(r,e,t,!0),a}async function u8(n,e){const t=B2(n);await M2(t,e,!0,!1)}async function M2(n,e,t,r){const a=await A9(n.localStore,Ra(e)),o=a.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let c;return r&&(c=await c8(n,e,o,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&C2(n.remoteStore,a),c}async function c8(n,e,t,r,a){n.pu=(y,_,S)=>(async function(x,C,I,R){let O=C.view.ru(I);O.Ss&&(O=await Z1(x.localStore,C.query,!1).then((({documents:N})=>C.view.ru(N,O))));const z=R&&R.targetChanges.get(C.targetId),H=R&&R.targetMismatches.get(C.targetId)!=null,F=C.view.applyChanges(O,x.isPrimaryClient,z,H);return uR(x,C.targetId,F.au),F.snapshot})(n,y,_,S);const o=await Z1(n.localStore,e,!0),u=new i8(e,o.ks),c=u.ru(o.documents),h=th.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),f=u.applyChanges(c,n.isPrimaryClient,h);uR(n,t,f.au);const g=new a8(e,t,u);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),f.snapshot}async function d8(n,e,t){const r=Ke(n),a=r.Tu.get(e),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((u=>!Rg(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await f0(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&Ab(r.remoteStore,a.targetId),p0(r,a.targetId)})).catch(Xu)):(p0(r,a.targetId),await f0(r.localStore,a.targetId,!0))}async function h8(n,e){const t=Ke(n),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ab(t.remoteStore,r.targetId))}async function f8(n,e,t){const r=b8(n);try{const a=await(function(u,c){const h=Ke(u),f=Ht.now(),g=c.reduce(((S,T)=>S.add(T.key)),ct());let y,_;return h.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let T=gs(),x=ct();return h.xs.getEntries(S,g).next((C=>{T=C,T.forEach(((I,R)=>{R.isValidDocument()||(x=x.add(I))}))})).next((()=>h.localDocuments.getOverlayedDocuments(S,T))).next((C=>{y=C;const I=[];for(const R of c){const O=RU(R,y.get(R.key).overlayedDocument);O!=null&&I.push(new Mo(R.key,O,Hk(O.value.mapValue),ui.exists(!0)))}return h.mutationQueue.addMutationBatch(S,f,I,c)})).next((C=>{_=C;const I=C.applyToLocalDocumentSet(y,x);return h.documentOverlayCache.saveOverlays(S,C.batchId,I)}))})).then((()=>({batchId:_.batchId,changes:e2(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(u,c,h){let f=u.du[u.currentUser.toKey()];f||(f=new en(lt)),f=f.insert(c,h),u.du[u.currentUser.toKey()]=f})(r,a.batchId,t),await rh(r,a.changes),await Pg(r.remoteStore)}catch(a){const o=Nb(a,"Failed to persist write");t.reject(o)}}async function P2(n,e){const t=Ke(n);try{const r=await x9(t.localStore,e);e.targetChanges.forEach(((a,o)=>{const u=t.Au.get(o);u&&(wt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?wt(u.hu,14607):a.removedDocuments.size>0&&(wt(u.hu,42227),u.hu=!1))})),await rh(t,r,e)}catch(r){await Xu(r)}}function lR(n,e,t){const r=Ke(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((o,u)=>{const c=u.view.va(e);c.snapshot&&a.push(c.snapshot)})),(function(u,c){const h=Ke(u);h.onlineState=c;let f=!1;h.queries.forEach(((g,y)=>{for(const _ of y.ba)_.va(c)&&(f=!0)})),f&&Lb(h)})(r.eventManager,e),a.length&&r.Pu.J_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function m8(n,e,t){const r=Ke(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),o=a&&a.key;if(o){let u=new en(ze.comparator);u=u.insert(o,dr.newNoDocument(o,qe.min()));const c=ct().add(o),h=new Dg(qe.min(),new Map,new en(lt),u,c);await P2(r,h),r.Ru=r.Ru.remove(o),r.Au.delete(e),Bb(r)}else await f0(r.localStore,e,!1).then((()=>p0(r,e,t))).catch(Xu)}async function g8(n,e){const t=Ke(n),r=e.batch.batchId;try{const a=await w9(t.localStore,e);V2(t,r,null),L2(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await rh(t,a)}catch(a){await Xu(a)}}async function p8(n,e,t){const r=Ke(n);try{const a=await(function(u,c){const h=Ke(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let g;return h.mutationQueue.lookupMutationBatch(f,c).next((y=>(wt(y!==null,37113),g=y.keys(),h.mutationQueue.removeMutationBatch(f,y)))).next((()=>h.mutationQueue.performConsistencyCheck(f))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(f,g,c))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g))).next((()=>h.localDocuments.getDocuments(f,g)))}))})(r.localStore,e);V2(r,e,t),L2(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await rh(r,a)}catch(a){await Xu(a)}}function L2(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function V2(n,e,t){const r=Ke(n);let a=r.du[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),r.du[r.currentUser.toKey()]=a}}function p0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||j2(n,r)}))}function j2(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(Ab(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),Bb(n))}function uR(n,e,t){for(const r of t)r instanceof D2?(n.Vu.addReference(r.key,e),y8(n,r)):r instanceof N2?(Oe(jb,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||j2(n,r.key)):Ue(19791,{wu:r})}function y8(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(Oe(jb,"New document in limbo: "+t),n.Eu.add(r),Bb(n))}function Bb(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ze(Bt.fromString(e)),r=n.fu.next();n.Au.set(r,new s8(t)),n.Ru=n.Ru.insert(t,r),C2(n.remoteStore,new mo(Ra(Cg(t.path)),r,"TargetPurposeLimboResolution",Eg.ce))}}async function rh(n,e,t){const r=Ke(n),a=[],o=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,h)=>{u.push(r.pu(h,e,t).then((f=>{if((f||t)&&r.isPrimaryClient){const g=f?!f.fromCache:t?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(f){a.push(f);const g=Cb.Es(h.targetId,f);o.push(g)}})))})),await Promise.all(u),r.Pu.J_(a),await(async function(h,f){const g=Ke(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>pe.forEach(f,(_=>pe.forEach(_.Ts,(S=>g.persistence.referenceDelegate.addReference(y,_.targetId,S))).next((()=>pe.forEach(_.Is,(S=>g.persistence.referenceDelegate.removeReference(y,_.targetId,S)))))))))}catch(y){if(!Ju(y))throw y;Oe(Rb,"Failed to update sequence numbers: "+y)}for(const y of f){const _=y.targetId;if(!y.fromCache){const S=g.vs.get(_),T=S.snapshotVersion,x=S.withLastLimboFreeSnapshotVersion(T);g.vs=g.vs.insert(_,x)}}})(r.localStore,o))}async function v8(n,e){const t=Ke(n);if(!t.currentUser.isEqual(e)){Oe(jb,"User change. New user:",e.toKey());const r=await T2(t.localStore,e);t.currentUser=e,(function(o,u){o.mu.forEach((c=>{c.forEach((h=>{h.reject(new Ce(he.CANCELLED,u))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await rh(t,r.Ns)}}function _8(n,e){const t=Ke(n),r=t.Au.get(e);if(r&&r.hu)return ct().add(r.key);{let a=ct();const o=t.Iu.get(e);if(!o)return a;for(const u of o){const c=t.Tu.get(u);a=a.unionWith(c.view.nu)}return a}}function B2(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=P2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=m8.bind(null,e),e.Pu.J_=n8.bind(null,e.eventManager),e.Pu.yu=r8.bind(null,e.eventManager),e}function b8(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=g8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=p8.bind(null,e),e}class eg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ng(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return E9(this.persistence,new b9,e.initialUser,this.serializer)}Cu(e){return new S2(xb.Vi,this.serializer)}Du(e){return new k9}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eg.provider={build:()=>new eg};class S8 extends eg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){wt(this.persistence.referenceDelegate instanceof Jm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new a9(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Pr.withCacheSize(this.cacheSizeBytes):Pr.DEFAULT;return new S2((r=>Jm.Vi(r,t)),this.serializer)}}class y0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=v8.bind(null,this.syncEngine),await Z9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new t8})()}createDatastore(e){const t=Ng(e.databaseInfo.databaseId),r=P9(e.databaseInfo);return z9(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,o,u,c){return new U9(r,a,o,u,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>lR(this.syncEngine,t,0)),(function(){return nR.v()?new nR:new O9})())}createSyncEngine(e,t){return(function(a,o,u,c,h,f,g){const y=new o8(a,o,u,c,h,f);return g&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Ke(t);Oe(Il,"RemoteStore shutting down."),r.Ea.add(5),await nh(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}y0.provider={build:()=>new y0};class zb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ms("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Ro="FirestoreClient";class T8{constructor(e,t,r,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=a,this.user=cr.UNAUTHENTICATED,this.clientId=mb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async u=>{Oe(Ro,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(Oe(Ro,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Nb(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function i_(n,e){n.asyncQueue.verifyOperationInProgress(),Oe(Ro,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await T2(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function cR(n,e){n.asyncQueue.verifyOperationInProgress();const t=await E8(n);Oe(Ro,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>iR(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>iR(e.remoteStore,a))),n._onlineComponents=e}async function E8(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Oe(Ro,"Using user provided OfflineComponentProvider");try{await i_(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===he.FAILED_PRECONDITION||a.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Al("Error using user provided cache. Falling back to memory cache: "+t),await i_(n,new eg)}}else Oe(Ro,"Using default OfflineComponentProvider"),await i_(n,new S8(void 0));return n._offlineComponents}async function z2(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Oe(Ro,"Using user provided OnlineComponentProvider"),await cR(n,n._uninitializedComponentsProvider._online)):(Oe(Ro,"Using default OnlineComponentProvider"),await cR(n,new y0))),n._onlineComponents}function w8(n){return z2(n).then((e=>e.syncEngine))}async function tg(n){const e=await z2(n),t=e.eventManager;return t.onListen=l8.bind(null,e.syncEngine),t.onUnlisten=d8.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=u8.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=h8.bind(null,e.syncEngine),t}function x8(n,e,t,r){const a=new zb(r),o=new Vb(e,a,t);return n.asyncQueue.enqueueAndForget((async()=>Mb(await tg(n),o))),()=>{a.Nu(),n.asyncQueue.enqueueAndForget((async()=>Pb(await tg(n),o)))}}function C8(n,e,t={}){const r=new ds;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,c,h,f){const g=new zb({next:_=>{g.Nu(),u.enqueueAndForget((()=>Pb(o,y)));const S=_.docs.has(c);!S&&_.fromCache?f.reject(new Ce(he.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&_.fromCache&&h&&h.source==="server"?f.reject(new Ce(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(_)},error:_=>f.reject(_)}),y=new Vb(Cg(c.path),g,{includeMetadataChanges:!0,Ka:!0});return Mb(o,y)})(await tg(n),n.asyncQueue,e,t,r))),r.promise}function R8(n,e,t={}){const r=new ds;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,c,h,f){const g=new zb({next:_=>{g.Nu(),u.enqueueAndForget((()=>Pb(o,y))),_.fromCache&&h.source==="server"?f.reject(new Ce(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(_)},error:_=>f.reject(_)}),y=new Vb(c,g,{includeMetadataChanges:!0,Ka:!0});return Mb(o,y)})(await tg(n),n.asyncQueue,e,t,r))),r.promise}function A8(n,e){const t=new ds;return n.asyncQueue.enqueueAndForget((async()=>f8(await w8(n),e,t))),t.promise}function F2(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const I8="ComponentProvider",dR=new Map;function k8(n,e,t,r,a){return new YF(n,e,t,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,F2(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,r)}const U2="firestore.googleapis.com",hR=!0;class fR{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=U2,this.ssl=hR}else this.host=e.host,this.ssl=e.ssl??hR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=b2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<r9)throw new Ce(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=F2(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ce(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ce(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ce(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lg{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fR(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new AF;switch(r.type){case"firstParty":return new DF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ce(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=dR.get(t);r&&(Oe(I8,"Removing Datastore"),dR.delete(t),r.terminate())})(this),Promise.resolve()}}function O8(n,e,t,r={}){n=Ai(n,Lg);const a=$u(e),o=n._getSettings(),u={...o,emulatorOptions:n._getEmulatorOptions()},c=`${e}:${t}`;a&&(pk(`https://${c}`),yk("Firestore",!0)),o.host!==U2&&o.host!==c&&Al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:c,ssl:a,emulatorOptions:r};if(!xl(h,u)&&(n._setSettings(h),r.mockUserToken)){let f,g;if(typeof r.mockUserToken=="string")f=r.mockUserToken,g=cr.MOCK_USER;else{f=ez(r.mockUserToken,n._app?.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Ce(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new cr(y)}n._authCredentials=new IF(new Ok(f,g))}}class Po{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Po(this.firestore,e,this._query)}}class fn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}toJSON(){return{type:fn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Zd(t,fn._jsonSchema))return new fn(e,r||null,new ze(Bt.fromString(t.referencePath)))}}fn._jsonSchemaVersion="firestore/documentReference/1.0",fn._jsonSchema={type:Rn("string",fn._jsonSchemaVersion),referencePath:Rn("string")};class bo extends Po{constructor(e,t,r){super(e,t,Cg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new ze(e))}withConverter(e){return new bo(this.firestore,e,this._path)}}function ng(n,e,...t){if(n=Fn(n),Dk("collection","path",e),n instanceof Lg){const r=Bt.fromString(e,...t);return C1(r),new bo(n,null,r)}{if(!(n instanceof fn||n instanceof bo))throw new Ce(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Bt.fromString(e,...t));return C1(r),new bo(n.firestore,null,r)}}function gl(n,e,...t){if(n=Fn(n),arguments.length===1&&(e=mb.newId()),Dk("doc","path",e),n instanceof Lg){const r=Bt.fromString(e,...t);return x1(r),new fn(n,null,new ze(r))}{if(!(n instanceof fn||n instanceof bo))throw new Ce(he.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Bt.fromString(e,...t));return x1(r),new fn(n.firestore,n instanceof bo?n.converter:null,new ze(r))}}const mR="AsyncQueue";class gR{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new w2(this,"async_queue_retry"),this._c=()=>{const r=r_();r&&Oe(mR,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=r_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=r_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ds;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ju(e))throw e;Oe(mR,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ms("INTERNAL UNHANDLED ERROR: ",pR(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Db.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&Ue(47125,{Pc:pR(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function pR(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Ao extends Lg{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new gR,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gR(e),this._firestoreClient=void 0,await e}}}function D8(n,e){const t=typeof n=="object"?n:Sk(),r=typeof n=="string"?n:Gm,a=hb(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=J3("firestore");o&&O8(a,...o)}return a}function ih(n){if(n._terminated)throw new Ce(he.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||N8(n),n._firestoreClient}function N8(n){const e=n._freezeSettings(),t=k8(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new T8(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(n._componentsProvider))}class xi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xi(er.fromBase64String(e))}catch(t){throw new Ce(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new xi(er.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:xi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Zd(e,xi._jsonSchema))return xi.fromBase64String(e.bytes)}}xi._jsonSchemaVersion="firestore/bytes/1.0",xi._jsonSchema={type:Rn("string",xi._jsonSchemaVersion),bytes:Rn("string")};class Fb{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ce(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ub{constructor(e){this._methodName=e}}class Ia{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ce(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ce(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return lt(this._lat,e._lat)||lt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ia._jsonSchemaVersion}}static fromJSON(e){if(Zd(e,Ia._jsonSchema))return new Ia(e.latitude,e.longitude)}}Ia._jsonSchemaVersion="firestore/geoPoint/1.0",Ia._jsonSchema={type:Rn("string",Ia._jsonSchemaVersion),latitude:Rn("number"),longitude:Rn("number")};class Zi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Zd(e,Zi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Zi(e.vectorValues);throw new Ce(he.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zi._jsonSchemaVersion="firestore/vectorValue/1.0",Zi._jsonSchema={type:Rn("string",Zi._jsonSchemaVersion),vectorValues:Rn("object")};const M8=/^__.*__$/;class P8{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Mo(e,this.data,this.fieldMask,t,this.fieldTransforms):new eh(e,this.data,t,this.fieldTransforms)}}class H2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Mo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function W2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{dataSource:n})}}class Hb{constructor(e,t,r,a,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Hb({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return rg(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(W2(this.dataSource)&&M8.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class L8{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Ng(e)}createContext(e,t,r,a=!1){return new Hb({dataSource:e,methodName:t,targetDoc:r,path:Jn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wb(n){const e=n._freezeSettings(),t=Ng(n._databaseId);return new L8(n._databaseId,!!e.ignoreUndefinedProperties,t)}function q2(n,e,t,r,a,o={}){const u=n.createContext(o.merge||o.mergeFields?2:0,e,t,a);qb("Data must be an object, but it was:",u,r);const c=G2(r,u);let h,f;if(o.merge)h=new li(u.fieldMask),f=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const y of o.mergeFields){const _=Hu(e,y,t);if(!u.contains(_))throw new Ce(he.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);Y2(g,_)||g.push(_)}h=new li(g),f=u.fieldTransforms.filter((y=>h.covers(y.field)))}else h=null,f=u.fieldTransforms;return new P8(new Vr(c),h,f)}class Vg extends Ub{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vg}}function V8(n,e,t,r){const a=n.createContext(1,e,t);qb("Data must be an object, but it was:",a,r);const o=[],u=Vr.empty();No(r,((h,f)=>{const g=$2(e,h,t);f=Fn(f);const y=a.childContextForFieldPath(g);if(f instanceof Vg)o.push(g);else{const _=ah(f,y);_!=null&&(o.push(g),u.set(g,_))}}));const c=new li(o);return new H2(u,c,a.fieldTransforms)}function j8(n,e,t,r,a,o){const u=n.createContext(1,e,t),c=[Hu(e,r,t)],h=[a];if(o.length%2!=0)throw new Ce(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)c.push(Hu(e,o[_])),h.push(o[_+1]);const f=[],g=Vr.empty();for(let _=c.length-1;_>=0;--_)if(!Y2(f,c[_])){const S=c[_];let T=h[_];T=Fn(T);const x=u.childContextForFieldPath(S);if(T instanceof Vg)f.push(S);else{const C=ah(T,x);C!=null&&(f.push(S),g.set(S,C))}}const y=new li(f);return new H2(g,y,u.fieldTransforms)}function B8(n,e,t,r=!1){return ah(t,n.createContext(r?4:3,e))}function ah(n,e){if(K2(n=Fn(n)))return qb("Unsupported field value:",e,n),G2(n,e);if(n instanceof Ub)return(function(r,a){if(!W2(a.dataSource))throw a.createError(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,a){const o=[];let u=0;for(const c of r){let h=ah(c,a.childContextForArray(u));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),u++}return{arrayValue:{values:o}}})(n,e)}return(function(r,a){if((r=Fn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SU(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ht.fromDate(r);return{timestampValue:Xm(a.serializer,o)}}if(r instanceof Ht){const o=new Ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xm(a.serializer,o)}}if(r instanceof Ia)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xi)return{bytesValue:h2(a.serializer,r._byteString)};if(r instanceof fn){const o=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Eb(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Zi)return(function(u,c){const h=u instanceof Zi?u.toArray():u;return{mapValue:{fields:{[Fk]:{stringValue:Uk},[Km]:{arrayValue:{values:h.map((g=>{if(typeof g!="number")throw c.createError("VectorValues must only contain numeric values.");return bb(c.serializer,g)}))}}}}}})(r,a);if(_2(r))return r._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Tg(r)}`)})(n,e)}function G2(n,e){const t={};return Pk(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):No(n,((r,a)=>{const o=ah(a,e.childContextForField(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function K2(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ht||n instanceof Ia||n instanceof xi||n instanceof fn||n instanceof Ub||n instanceof Zi||_2(n))}function qb(n,e,t){if(!K2(t)||!Nk(t)){const r=Tg(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function Hu(n,e,t){if((e=Fn(e))instanceof Fb)return e._internalPath;if(typeof e=="string")return $2(n,e);throw rg("Field path arguments must be of type string or ",n,!1,void 0,t)}const z8=new RegExp("[~\\*/\\[\\]]");function $2(n,e,t){if(e.search(z8)>=0)throw rg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Fb(...e.split("."))._internalPath}catch{throw rg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function rg(n,e,t,r,a){const o=r&&!r.isEmpty(),u=a!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(o||u)&&(h+=" (found",o&&(h+=` in field ${r}`),u&&(h+=` in document ${a}`),h+=")"),new Ce(he.INVALID_ARGUMENT,c+n+h)}function Y2(n,e){return n.some((t=>t.isEqual(e)))}class F8{convertValue(e,t="none"){switch(xo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return No(e,((a,o)=>{r[a]=this.convertValue(o,t)})),r}convertVectorValue(e){const t=e.fields?.[Km].arrayValue?.values?.map((r=>hn(r.doubleValue)));return new Zi(t)}convertGeoPoint(e){return new Ia(hn(e.latitude),hn(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=xg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(jd(e));default:return null}}convertTimestamp(e){const t=Eo(e);return new Ht(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Bt.fromString(e);wt(v2(r),9688,{name:e});const a=new Bd(r.get(1),r.get(3)),o=new ze(r.popFirst(5));return a.isEqual(t)||ms(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class Gb extends F8{constructor(e){super(),this.firestore=e}convertBytes(e){return new xi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,t)}}const yR="@firebase/firestore",vR="4.11.0";function _R(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1})(n,["next","error","complete"])}class Q2{constructor(e,t,r,a,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new U8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Hu("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class U8 extends Q2{data(){return super.data()}}function X2(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ce(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kb{}class J2 extends Kb{}function v0(n,e,...t){let r=[];e instanceof Kb&&r.push(e),r=r.concat(t),(function(o){const u=o.filter((h=>h instanceof Yb)).length,c=o.filter((h=>h instanceof $b)).length;if(u>1||u>0&&c>0)throw new Ce(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)n=a._apply(n);return n}class $b extends J2{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new $b(e,t,r)}_apply(e){const t=this._parse(e);return Z2(e._query,t),new Po(e.firestore,e.converter,o0(e._query,t))}_parse(e){const t=Wb(e.firestore);return(function(o,u,c,h,f,g,y){let _;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Ce(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){SR(y,g);const T=[];for(const x of y)T.push(bR(h,o,x));_={arrayValue:{values:T}}}else _=bR(h,o,y)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||SR(y,g),_=B8(c,u,y,g==="in"||g==="not-in");return Cn.create(f,g,_)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Yb extends Kb{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Yb(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:ta.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,o){let u=a;const c=o.getFlattenedFilters();for(const h of c)Z2(u,h),u=o0(u,h)})(e._query,t),new Po(e.firestore,e.converter,o0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Qb extends J2{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Qb(e,t)}_apply(e){const t=(function(a,o,u){if(a.startAt!==null)throw new Ce(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Ce(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fd(o,u)})(e._query,this._field,this._direction);return new Po(e.firestore,e.converter,fU(e._query,t))}}function _0(n,e="asc"){const t=e,r=Hu("orderBy",n);return Qb._create(r,t)}function bR(n,e,t){if(typeof(t=Fn(t))=="string"){if(t==="")throw new Ce(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qk(e)&&t.indexOf("/")!==-1)throw new Ce(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Bt.fromString(t));if(!ze.isDocumentKey(r))throw new Ce(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return M1(n,new ze(r))}if(t instanceof fn)return M1(n,t._key);throw new Ce(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tg(t)}.`)}function SR(n,e){if(!Array.isArray(n)||n.length===0)throw new Ce(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Z2(n,e){const t=(function(a,o){for(const u of a)for(const c of u.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Ce(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ce(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function eO(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class md{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sl extends Q2{constructor(e,t,r,a,o,u){super(e,t,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new bm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Hu("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ce(he.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Sl._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Sl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Sl._jsonSchema={type:Rn("string",Sl._jsonSchemaVersion),bundleSource:Rn("string","DocumentSnapshot"),bundleName:Rn("string"),bundle:Rn("string")};class bm extends Sl{data(e={}){return super.data(e)}}class Tl{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new md(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new bm(this._firestore,this._userDataWriter,r.key,r,new md(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ce(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((c=>{const h=new bm(a._firestore,a._userDataWriter,c.doc.key,c.doc,new md(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const h=new bm(a._firestore,a._userDataWriter,c.doc.key,c.doc,new md(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);let f=-1,g=-1;return c.type!==0&&(f=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(u=u.add(c.doc),g=u.indexOf(c.doc.key)),{type:H8(c.type),doc:h,oldIndex:f,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ce(he.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Tl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=mb.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function H8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:n})}}Tl._jsonSchemaVersion="firestore/querySnapshot/1.0",Tl._jsonSchema={type:Rn("string",Tl._jsonSchemaVersion),bundleSource:Rn("string","QuerySnapshot"),bundleName:Rn("string"),bundle:Rn("string")};class W8{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Wb(e)}set(e,t,r){this._verifyNotCommitted();const a=a_(e,this._firestore),o=eO(a.converter,t,r),u=q2(this._dataReader,"WriteBatch.set",a._key,o,a.converter!==null,r);return this._mutations.push(u.toMutation(a._key,ui.none())),this}update(e,t,r,...a){this._verifyNotCommitted();const o=a_(e,this._firestore);let u;return u=typeof(t=Fn(t))=="string"||t instanceof Fb?j8(this._dataReader,"WriteBatch.update",o._key,t,r,a):V8(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,ui.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=a_(e,this._firestore);return this._mutations=this._mutations.concat(new Og(t._key,ui.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ce(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function a_(n,e){if((n=Fn(n)).firestore!==e)throw new Ce(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function q8(n){n=Ai(n,fn);const e=Ai(n.firestore,Ao),t=ih(e);return C8(t,n._key).then((r=>nO(e,n,r)))}function b0(n){n=Ai(n,Po);const e=Ai(n.firestore,Ao),t=ih(e),r=new Gb(e);return X2(n._query),R8(t,n._query).then((a=>new Tl(e,r,n,a)))}function tO(n,e,t){n=Ai(n,fn);const r=Ai(n.firestore,Ao),a=eO(n.converter,e,t),o=Wb(r);return Xb(r,[q2(o,"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,ui.none())])}function TR(n){return Xb(Ai(n.firestore,Ao),[new Og(n._key,ui.none())])}function G8(n,...e){n=Fn(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||_R(e[r])||(t=e[r++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(_R(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let o,u,c;if(n instanceof fn)u=Ai(n.firestore,Ao),c=Cg(n._key.path),o={next:f=>{e[r]&&e[r](nO(u,n,f))},error:e[r+1],complete:e[r+2]};else{const f=Ai(n,Po);u=Ai(f.firestore,Ao),c=f._query;const g=new Gb(u);o={next:y=>{e[r]&&e[r](new Tl(u,g,f,y))},error:e[r+1],complete:e[r+2]},X2(n._query)}const h=ih(u);return x8(h,c,a,o)}function Xb(n,e){const t=ih(n);return A8(t,e)}function nO(n,e,t){const r=t.docs.get(e._key),a=new Gb(n);return new Sl(n,a,e._key,r,new md(t.hasPendingWrites,t.fromCache),e.converter)}function ER(n){return n=Ai(n,Ao),ih(n),new W8(n,(e=>Xb(n,e)))}(function(e,t=!0){RF(Yu),Vu(new Cl("firestore",((r,{instanceIdentifier:a,options:o})=>{const u=r.getProvider("app").getImmediate(),c=new Ao(new kF(r.getProvider("auth-internal")),new NF(u,r.getProvider("app-check-internal")),QF(u,a),u);return o={useFetchStreams:t,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),vo(yR,vR,e),vo(yR,vR,"esm2020")})();var K8="firebase",$8="12.9.0";vo(K8,$8,"app");function rO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Y8=rO,iO=new Xd("auth","Firebase",rO());const ig=new cb("@firebase/auth");function Q8(n,...e){ig.logLevel<=ot.WARN&&ig.warn(`Auth (${Yu}): ${n}`,...e)}function Sm(n,...e){ig.logLevel<=ot.ERROR&&ig.error(`Auth (${Yu}): ${n}`,...e)}function ps(n,...e){throw Jb(n,...e)}function ka(n,...e){return Jb(n,...e)}function aO(n,e,t){const r={...Y8(),[e]:t};return new Xd("auth","Firebase",r).create(e,{appName:n.name})}function So(n){return aO(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jb(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return iO.create(n,...e)}function He(n,e,...t){if(!n)throw Jb(e,...t)}function ls(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Sm(e),new Error(e)}function ys(n,e){n||ls(e)}function S0(){return typeof self<"u"&&self.location?.href||""}function X8(){return wR()==="http:"||wR()==="https:"}function wR(){return typeof self<"u"&&self.location?.protocol||null}function J8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(X8()||sz()||"connection"in navigator)?navigator.onLine:!0}function Z8(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class sh{constructor(e,t){this.shortDelay=e,this.longDelay=t,ys(t>e,"Short delay should be less than long delay!"),this.isMobile=rz()||oz()}get(){return J8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zb(n,e){ys(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class sO{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const eH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const tH=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nH=new sh(3e4,6e4);function jg(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function tc(n,e,t,r,a={}){return oO(n,a,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const c=Jd({key:n.config.apiKey,...u}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const f={method:e,headers:h,...o};return az()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&$u(n.emulatorConfig.host)&&(f.credentials="include"),sO.fetch()(await uO(n,n.config.apiHost,t,c),f)})}async function oO(n,e,t){n._canInitEmulator=!1;const r={...eH,...e};try{const a=new rH(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw im(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const c=o.ok?u.errorMessage:u.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw im(n,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw im(n,"email-already-in-use",u);if(h==="USER_DISABLED")throw im(n,"user-disabled",u);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw aO(n,g,f);ps(n,g)}}catch(a){if(a instanceof _s)throw a;ps(n,"network-request-failed",{message:String(a)})}}async function lO(n,e,t,r,a={}){const o=await tc(n,e,t,r,a);return"mfaPendingCredential"in o&&ps(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function uO(n,e,t,r){const a=`${e}${t}?${r}`,o=n,u=o.config.emulator?Zb(n.config,a):`${n.config.apiScheme}://${a}`;return tH.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}class rH{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ka(this.auth,"network-request-failed")),nH.get())})}}function im(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=ka(n,e,r);return a.customData._tokenResponse=t,a}async function iH(n,e){return tc(n,"POST","/v1/accounts:delete",e)}async function ag(n,e){return tc(n,"POST","/v1/accounts:lookup",e)}function xd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aH(n,e=!1){const t=Fn(n),r=await t.getIdToken(e),a=eS(r);He(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o?.sign_in_provider;return{claims:a,token:r,authTime:xd(s_(a.auth_time)),issuedAtTime:xd(s_(a.iat)),expirationTime:xd(s_(a.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function s_(n){return Number(n)*1e3}function eS(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Sm("JWT malformed, contained fewer than 3 sections"),null;try{const a=hk(t);return a?JSON.parse(a):(Sm("Failed to decode base64 JWT payload"),null)}catch(a){return Sm("Caught error parsing JWT payload as JSON",a?.toString()),null}}function xR(n){const e=eS(n);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Wd(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof _s&&sH(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function sH({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class oH{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class T0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=xd(this.lastLoginAt),this.creationTime=xd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function sg(n){const e=n.auth,t=await n.getIdToken(),r=await Wd(n,ag(e,{idToken:t}));He(r?.users.length,e,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const o=a.providerUserInfo?.length?cO(a.providerUserInfo):[],u=uH(n.providerData,o),c=n.isAnonymous,h=!(n.email&&a.passwordHash)&&!u?.length,f=c?h:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new T0(a.createdAt,a.lastLoginAt),isAnonymous:f};Object.assign(n,g)}async function lH(n){const e=Fn(n);await sg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uH(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function cO(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function cH(n,e){const t=await oO(n,{},async()=>{const r=Jd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,u=await uO(n,a,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:r};return n.emulatorConfig&&$u(n.emulatorConfig.host)&&(h.credentials="include"),sO.fetch()(u,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function dH(n,e){return tc(n,"POST","/v2/accounts:revokeToken",jg(n,e))}class Du{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){He(e.length!==0,"internal-error");const t=xR(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:o}=await cH(e,t);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:o}=t,u=new Du;return r&&(He(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(He(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(He(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Du,this.toJSON())}_performRefresh(){return ls("not implemented")}}function io(n,e){He(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ji{constructor({uid:e,auth:t,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new oH(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new T0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Wd(this,this.stsTokenManager.getToken(this.auth,e));return He(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return aH(this,e)}reload(){return lH(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ji({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await sg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xi(this.auth.app))return Promise.reject(So(this.auth));const e=await this.getIdToken();return await Wd(this,iH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,a=t.email??void 0,o=t.phoneNumber??void 0,u=t.photoURL??void 0,c=t.tenantId??void 0,h=t._redirectEventId??void 0,f=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:y,emailVerified:_,isAnonymous:S,providerData:T,stsTokenManager:x}=t;He(y&&x,e,"internal-error");const C=Du.fromJSON(this.name,x);He(typeof y=="string",e,"internal-error"),io(r,e.name),io(a,e.name),He(typeof _=="boolean",e,"internal-error"),He(typeof S=="boolean",e,"internal-error"),io(o,e.name),io(u,e.name),io(c,e.name),io(h,e.name),io(f,e.name),io(g,e.name);const I=new Ji({uid:y,auth:e,email:a,emailVerified:_,displayName:r,isAnonymous:S,photoURL:u,phoneNumber:o,tenantId:c,stsTokenManager:C,createdAt:f,lastLoginAt:g});return T&&Array.isArray(T)&&(I.providerData=T.map(R=>({...R}))),h&&(I._redirectEventId=h),I}static async _fromIdTokenResponse(e,t,r=!1){const a=new Du;a.updateFromServerResponse(t);const o=new Ji({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await sg(o),o}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];He(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?cO(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!o?.length,c=new Du;c.updateFromIdToken(r);const h=new Ji({uid:a.localId,auth:e,stsTokenManager:c,isAnonymous:u}),f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new T0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(h,f),h}}const CR=new Map;function us(n){ys(n instanceof Function,"Expected a class definition");let e=CR.get(n);return e?(ys(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,CR.set(n,e),e)}class dO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}dO.type="NONE";const RR=dO;function Tm(n,e,t){return`firebase:${n}:${e}:${t}`}class Nu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=Tm(this.userKey,a.apiKey,o),this.fullPersistenceKey=Tm("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ag(this.auth,{idToken:e}).catch(()=>{});return t?Ji._fromGetAccountInfoResponse(this.auth,t,e):null}return Ji._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Nu(us(RR),e,r);const a=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=a[0]||us(RR);const u=Tm(r,e.config.apiKey,e.name);let c=null;for(const f of t)try{const g=await f._get(u);if(g){let y;if(typeof g=="string"){const _=await ag(e,{idToken:g}).catch(()=>{});if(!_)break;y=await Ji._fromGetAccountInfoResponse(e,_,g)}else y=Ji._fromJSON(e,g);f!==o&&(c=y),o=f;break}}catch{}const h=a.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Nu(o,e,r):(o=h[0],c&&await o._set(u,c.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(u)}catch{}})),new Nu(o,e,r))}}function AR(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yO(e))return"Blackberry";if(vO(e))return"Webos";if(fO(e))return"Safari";if((e.includes("chrome/")||mO(e))&&!e.includes("edge/"))return"Chrome";if(pO(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function hO(n=hr()){return/firefox\//i.test(n)}function fO(n=hr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mO(n=hr()){return/crios\//i.test(n)}function gO(n=hr()){return/iemobile/i.test(n)}function pO(n=hr()){return/android/i.test(n)}function yO(n=hr()){return/blackberry/i.test(n)}function vO(n=hr()){return/webos/i.test(n)}function tS(n=hr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function hH(n=hr()){return tS(n)&&!!window.navigator?.standalone}function fH(){return lz()&&document.documentMode===10}function _O(n=hr()){return tS(n)||pO(n)||vO(n)||yO(n)||/windows phone/i.test(n)||gO(n)}function bO(n,e=[]){let t;switch(n){case"Browser":t=AR(hr());break;case"Worker":t=`${AR(hr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Yu}/${r}`}class mH{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,c)=>{try{const h=e(o);u(h)}catch(h){c(h)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function gH(n,e={}){return tc(n,"GET","/v2/passwordPolicy",jg(n,e))}const pH=6;class yH{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??pH,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class vH{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new IR(this),this.idTokenSubscription=new IR(this),this.beforeStateQueue=new mH(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=us(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Nu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ag(this,{idToken:e}),r=await Ji._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Xi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,u=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===u)&&c?.user&&(r=c.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await sg(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Z8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xi(this.app))return Promise.reject(So(this));const t=e?Fn(e):null;return t&&He(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xi(this.app)?Promise.reject(So(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xi(this.app)?Promise.reject(So(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(us(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gH(this),t=new yH(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xd("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await dH(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&us(e)||this._popupRedirectResolver;He(t,this,"argument-error"),this.redirectPersistenceManager=await Nu.create(this,[us(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(c,this,"internal-error"),c.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,a);return()=>{u=!0,h()}}else{const h=e.addObserver(t);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Xi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Q8(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Bg(n){return Fn(n)}class IR{constructor(e){this.auth=e,this.observer=null,this.addObserver=pz(t=>this.observer=t)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let nS={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _H(n){nS=n}function bH(n){return nS.loadJS(n)}function SH(){return nS.gapiScript}function TH(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function EH(n,e){const t=hb(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(xl(o,e??{}))return a;ps(a,"already-initialized")}return t.initialize({options:e})}function wH(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(us);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function xH(n,e,t){const r=Bg(n);He(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=SO(e),{host:u,port:c}=CH(e),h=c===null?"":`:${c}`,f={url:`${o}//${u}${h}/`},g=Object.freeze({host:u,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){He(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),He(xl(f,r.config.emulator)&&xl(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,$u(u)?(pk(`${o}//${u}${h}`),yk("Auth",!0)):RH()}function SO(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function CH(n){const e=SO(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:kR(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:kR(u)}}}function kR(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function RH(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class TO{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ls("not implemented")}_getIdTokenResponse(e){return ls("not implemented")}_linkToIdToken(e,t){return ls("not implemented")}_getReauthenticationResolver(e){return ls("not implemented")}}async function Mu(n,e){return lO(n,"POST","/v1/accounts:signInWithIdp",jg(n,e))}const AH="http://localhost";class kl extends TO{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new kl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ps("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...o}=t;if(!r||!a)return null;const u=new kl(r,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Mu(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Mu(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Mu(e,t)}buildRequest(){const e={requestUri:AH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Jd(t)}return e}}class EO{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class oh extends EO{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class lo extends oh{constructor(){super("facebook.com")}static credential(e){return kl._fromParams({providerId:lo.PROVIDER_ID,signInMethod:lo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lo.credentialFromTaggedObject(e)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lo.credential(e.oauthAccessToken)}catch{return null}}}lo.FACEBOOK_SIGN_IN_METHOD="facebook.com";lo.PROVIDER_ID="facebook.com";class uo extends oh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return kl._fromParams({providerId:uo.PROVIDER_ID,signInMethod:uo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return uo.credentialFromTaggedObject(e)}static credentialFromError(e){return uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return uo.credential(t,r)}catch{return null}}}uo.GOOGLE_SIGN_IN_METHOD="google.com";uo.PROVIDER_ID="google.com";class co extends oh{constructor(){super("github.com")}static credential(e){return kl._fromParams({providerId:co.PROVIDER_ID,signInMethod:co.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return co.credentialFromTaggedObject(e)}static credentialFromError(e){return co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return co.credential(e.oauthAccessToken)}catch{return null}}}co.GITHUB_SIGN_IN_METHOD="github.com";co.PROVIDER_ID="github.com";class ho extends oh{constructor(){super("twitter.com")}static credential(e,t){return kl._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ho.credential(t,r)}catch{return null}}}ho.TWITTER_SIGN_IN_METHOD="twitter.com";ho.PROVIDER_ID="twitter.com";async function IH(n,e){return lO(n,"POST","/v1/accounts:signUp",jg(n,e))}class Io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const o=await Ji._fromIdTokenResponse(e,r,a),u=OR(r);return new Io({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=OR(r);return new Io({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function OR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function kH(n){if(Xi(n.app))return Promise.reject(So(n));const e=Bg(n);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Io({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await IH(e,{returnSecureToken:!0}),r=await Io._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(r.user),r}class og extends _s{constructor(e,t,r,a){super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,og.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new og(e,t,r,a)}}function wO(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?og._fromErrorAndOperation(n,o,e,r):o})}async function OH(n,e,t=!1){const r=await Wd(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Io._forOperation(n,"link",r)}async function DH(n,e,t=!1){const{auth:r}=n;if(Xi(r.app))return Promise.reject(So(r));const a="reauthenticate";try{const o=await Wd(n,wO(r,a,e,n),t);He(o.idToken,r,"internal-error");const u=eS(o.idToken);He(u,r,"internal-error");const{sub:c}=u;return He(n.uid===c,r,"user-mismatch"),Io._forOperation(n,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&ps(r,"user-mismatch"),o}}async function NH(n,e,t=!1){if(Xi(n.app))return Promise.reject(So(n));const r="signIn",a=await wO(n,r,e),o=await Io._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(o.user),o}function MH(n,e,t,r){return Fn(n).onIdTokenChanged(e,t,r)}function PH(n,e,t){return Fn(n).beforeAuthStateChanged(e,t)}function LH(n,e,t,r){return Fn(n).onAuthStateChanged(e,t,r)}const lg="__sak";class xO{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(lg,"1"),this.storage.removeItem(lg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const VH=1e3,jH=10;class CO extends xO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_O(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,c,h)=>{this.notifyListeners(u,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);fH()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,jH):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},VH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}CO.type="LOCAL";const BH=CO;class RO extends xO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}RO.type="SESSION";const AO=RO;function zH(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class zg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new zg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:o}=t.data,u=this.handlersMap[a];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const c=Array.from(u).map(async f=>f(t.origin,o)),h=await zH(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zg.receivers=[];function rS(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class FH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((c,h)=>{const f=rS("",20);a.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(y){const _=y;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(_.data.response);break;default:clearTimeout(g),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Oa(){return window}function UH(n){Oa().location.href=n}function IO(){return typeof Oa().WorkerGlobalScope<"u"&&typeof Oa().importScripts=="function"}async function HH(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WH(){return navigator?.serviceWorker?.controller||null}function qH(){return IO()?self:null}const kO="firebaseLocalStorageDb",GH=1,ug="firebaseLocalStorage",OO="fbase_key";class lh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Fg(n,e){return n.transaction([ug],e?"readwrite":"readonly").objectStore(ug)}function KH(){const n=indexedDB.deleteDatabase(kO);return new lh(n).toPromise()}function E0(){const n=indexedDB.open(kO,GH);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(ug,{keyPath:OO})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(ug)?e(r):(r.close(),await KH(),e(await E0()))})})}async function DR(n,e,t){const r=Fg(n,!0).put({[OO]:e,value:t});return new lh(r).toPromise()}async function $H(n,e){const t=Fg(n,!1).get(e),r=await new lh(t).toPromise();return r===void 0?null:r.value}function NR(n,e){const t=Fg(n,!0).delete(e);return new lh(t).toPromise()}const YH=800,QH=3;class DO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await E0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>QH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zg._getInstance(qH()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await HH(),!this.activeServiceWorker)return;this.sender=new FH(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await E0();return await DR(e,lg,"1"),await NR(e,lg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>DR(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>$H(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>NR(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Fg(a,!1).getAll();return new lh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DO.type="LOCAL";const XH=DO;new sh(3e4,6e4);function JH(n,e){return e?us(e):(He(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class iS extends TO{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Mu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Mu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ZH(n){return NH(n.auth,new iS(n),n.bypassAuthState)}function eW(n){const{auth:e,user:t}=n;return He(t,e,"internal-error"),DH(t,new iS(n),n.bypassAuthState)}async function tW(n){const{auth:e,user:t}=n;return He(t,e,"internal-error"),OH(t,new iS(n),n.bypassAuthState)}class NO{constructor(e,t,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:o,error:u,type:c}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZH;case"linkViaPopup":case"linkViaRedirect":return tW;case"reauthViaPopup":case"reauthViaRedirect":return eW;default:ps(this.auth,"internal-error")}}resolve(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const nW=new sh(2e3,1e4);class Ru extends NO{constructor(e,t,r,a,o){super(e,t,a,o),this.provider=r,this.authWindow=null,this.pollId=null,Ru.currentPopupAction&&Ru.currentPopupAction.cancel(),Ru.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){ys(this.filter.length===1,"Popup operations only handle one event");const e=rS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ka(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ka(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ru.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ka(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nW.get())};e()}}Ru.currentPopupAction=null;const rW="pendingRedirect",Em=new Map;class iW extends NO{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Em.get(this.auth._key());if(!e){try{const r=await aW(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Em.set(this.auth._key(),e)}return this.bypassAuthState||Em.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aW(n,e){const t=lW(e),r=oW(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function sW(n,e){Em.set(n._key(),e)}function oW(n){return us(n._redirectPersistence)}function lW(n){return Tm(rW,n.config.apiKey,n.name)}async function uW(n,e,t=!1){if(Xi(n.app))return Promise.reject(So(n));const r=Bg(n),a=JH(r,e),u=await new iW(r,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}const cW=600*1e3;class dW{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hW(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!MO(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(ka(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cW&&this.cachedEventUids.clear(),this.cachedEventUids.has(MR(e))}saveEventToCache(e){this.cachedEventUids.add(MR(e)),this.lastProcessedEventTime=Date.now()}}function MR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function MO({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function hW(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MO(n);default:return!1}}async function fW(n,e={}){return tc(n,"GET","/v1/projects",e)}const mW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gW=/^https?/;async function pW(n){if(n.config.emulator)return;const{authorizedDomains:e}=await fW(n);for(const t of e)try{if(yW(t))return}catch{}ps(n,"unauthorized-domain")}function yW(n){const e=S0(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!gW.test(t))return!1;if(mW.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const vW=new sh(3e4,6e4);function PR(){const n=Oa().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function _W(n){return new Promise((e,t)=>{function r(){PR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PR(),t(ka(n,"network-request-failed"))},timeout:vW.get()})}if(Oa().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Oa().gapi?.load)r();else{const a=TH("iframefcb");return Oa()[a]=()=>{gapi.load?r():t(ka(n,"network-request-failed"))},bH(`${SH()}?onload=${a}`).catch(o=>t(o))}}).catch(e=>{throw wm=null,e})}let wm=null;function bW(n){return wm=wm||_W(n),wm}const SW=new sh(5e3,15e3),TW="__/auth/iframe",EW="emulator/auth/iframe",wW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CW(n){const e=n.config;He(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Zb(e,EW):`https://${n.config.authDomain}/${TW}`,r={apiKey:e.apiKey,appName:n.name,v:Yu},a=xW.get(n.config.apiHost);a&&(r.eid=a);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Jd(r).slice(1)}`}async function RW(n){const e=await bW(n),t=Oa().gapi;return He(t,n,"internal-error"),e.open({where:document.body,url:CW(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wW,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const u=ka(n,"network-request-failed"),c=Oa().setTimeout(()=>{o(u)},SW.get());function h(){Oa().clearTimeout(c),a(r)}r.ping(h).then(h,()=>{o(u)})}))}const AW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IW=500,kW=600,OW="_blank",DW="http://localhost";class LR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NW(n,e,t,r=IW,a=kW){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h={...AW,width:r.toString(),height:a.toString(),top:o,left:u},f=hr().toLowerCase();t&&(c=mO(f)?OW:t),hO(f)&&(e=e||DW,h.scrollbars="yes");const g=Object.entries(h).reduce((_,[S,T])=>`${_}${S}=${T},`,"");if(hH(f)&&c!=="_self")return MW(e||"",c),new LR(null);const y=window.open(e||"",c,g);He(y,n,"popup-blocked");try{y.focus()}catch{}return new LR(y)}function MW(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const PW="__/auth/handler",LW="emulator/auth/handler",VW=encodeURIComponent("fac");async function VR(n,e,t,r,a,o){He(n.config.authDomain,n,"auth-domain-config-required"),He(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Yu,eventId:a};if(e instanceof EO){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",gz(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))u[g]=y}if(e instanceof oh){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const c=u;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const h=await n._getAppCheckToken(),f=h?`#${VW}=${encodeURIComponent(h)}`:"";return`${jW(n)}?${Jd(c).slice(1)}${f}`}function jW({config:n}){return n.emulator?Zb(n,LW):`https://${n.authDomain}/${PW}`}const o_="webStorageSupport";class BW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AO,this._completeRedirectFn=uW,this._overrideRedirectResult=sW}async _openPopup(e,t,r,a){ys(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await VR(e,t,r,S0(),a);return NW(e,o,rS())}async _openRedirect(e,t,r,a){await this._originValidation(e);const o=await VR(e,t,r,S0(),a);return UH(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(ys(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await RW(e),r=new dW(e);return t.register("authEvent",a=>(He(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(o_,{type:o_},a=>{const o=a?.[0]?.[o_];o!==void 0&&t(!!o),ps(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=pW(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return _O()||fO()||tS()}}const zW=BW;var jR="@firebase/auth",BR="1.12.0";class FW{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function UW(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HW(n){Vu(new Cl("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:c}=r.options;He(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:u,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bO(n)},f=new vH(r,a,o,h);return wH(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Vu(new Cl("auth-internal",e=>{const t=Bg(e.getProvider("auth").getImmediate());return(r=>new FW(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),vo(jR,BR,UW(n)),vo(jR,BR,"esm2020")}const WW=300,qW=gk("authIdTokenMaxAge")||WW;let zR=null;const GW=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>qW)return;const a=t?.token;zR!==a&&(zR=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function KW(n=Sk()){const e=hb(n,"auth");if(e.isInitialized())return e.getImmediate();const t=EH(n,{popupRedirectResolver:zW,persistence:[XH,BH,AO]}),r=gk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=GW(o.toString());PH(t,u,()=>u(t.currentUser)),MH(t,c=>u(c))}}const a=fk("auth");return a&&xH(t,`http://${a}`),t}function $W(){return document.getElementsByTagName("head")?.[0]??document}_H({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const o=ka("internal-error");o.customData=a,t(o)},r.type="text/javascript",r.charset="UTF-8",$W().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HW("Browser");const w0={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""},PO=v1().length===0?bk(w0):v1()[0],ai=D8(PO),x0=KW(PO),ur=()=>!!(w0.apiKey&&w0.projectId),YW=async()=>{if(!ur())return console.warn("[Firebase] Not configured - skipping auth"),null;try{const n=await new Promise(t=>{const r=LH(x0,a=>{r(),t(a)})});if(n)return console.log("[Firebase] Already authenticated:",n.uid),n;const e=await kH(x0);return console.log("[Firebase] Signed in anonymously:",e.user.uid),e.user}catch(n){return console.error("[Firebase] Auth error:",n),null}},Nr=()=>x0.currentUser,FR="@firebase_sync_status",QW="@last_sync_timestamp";class Ol{static getUserCollection(e){const t=Nr();if(!t)throw new Error("No authenticated user");return`users/${t.uid}/${e}`}static async getSyncStatus(){try{const e=await Ye.getItem(FR);return e?JSON.parse(e):null}catch(e){return console.error("[FirebaseSync] Error getting sync status:",e),null}}static async updateSyncStatus(e){try{const r={...await this.getSyncStatus()||{lastSync:0,workoutsCount:0,templatesCount:0},...e,lastSync:Date.now()};await Ye.setItem(FR,JSON.stringify(r)),await Ye.setItem(QW,r.lastSync.toString())}catch(t){console.error("[FirebaseSync] Error updating sync status:",t)}}static async pushWorkouts(e){if(!ur()||!Nr()){console.warn("[FirebaseSync] Cannot push workouts - not configured or authenticated");return}try{const t=this.getUserCollection("workouts"),r=ER(ai);e.forEach(a=>{const o=gl(ai,t,a.id);r.set(o,a)}),await r.commit(),console.log(`[FirebaseSync] Pushed ${e.length} workouts to Firestore`),await this.updateSyncStatus({workoutsCount:e.length})}catch(t){throw console.error("[FirebaseSync] Error pushing workouts:",t),t}}static async pullWorkouts(){if(!ur()||!Nr())return console.warn("[FirebaseSync] Cannot pull workouts - not configured or authenticated"),[];try{const e=this.getUserCollection("workouts"),t=v0(ng(ai,e),_0("createdAt","desc")),a=(await b0(t)).docs.map(o=>o.data());return console.log(`[FirebaseSync] Pulled ${a.length} workouts from Firestore`),a}catch(e){throw console.error("[FirebaseSync] Error pulling workouts:",e),e}}static async syncWorkouts(e){if(!ur()||!Nr())return e;try{const t=await this.pullWorkouts(),r=new Map;[...t,...e].forEach(o=>{const u=r.get(o.id);(!u||new Date(o.updatedAt)>new Date(u.updatedAt))&&r.set(o.id,o)});const a=Array.from(r.values()).sort((o,u)=>new Date(u.date).getTime()-new Date(o.date).getTime());return await this.pushWorkouts(a),a}catch(t){return console.error("[FirebaseSync] Error syncing workouts:",t),e}}static async deleteWorkout(e){if(!(!ur()||!Nr()))try{const t=this.getUserCollection("workouts");await TR(gl(ai,t,e)),console.log(`[FirebaseSync] Deleted workout ${e} from Firestore`)}catch(t){console.error("[FirebaseSync] Error deleting workout:",t)}}static async pushTemplates(e){if(!ur()||!Nr()){console.warn("[FirebaseSync] Cannot push templates - not configured or authenticated");return}try{const t=this.getUserCollection("templates"),r=ER(ai);e.forEach(a=>{const o=gl(ai,t,a.id);r.set(o,a)}),await r.commit(),console.log(`[FirebaseSync] Pushed ${e.length} templates to Firestore`),await this.updateSyncStatus({templatesCount:e.length})}catch(t){throw console.error("[FirebaseSync] Error pushing templates:",t),t}}static async pullTemplates(){if(!ur()||!Nr())return console.warn("[FirebaseSync] Cannot pull templates - not configured or authenticated"),[];try{const e=this.getUserCollection("templates"),r=(await b0(ng(ai,e))).docs.map(a=>a.data());return console.log(`[FirebaseSync] Pulled ${r.length} templates from Firestore`),r}catch(e){throw console.error("[FirebaseSync] Error pulling templates:",e),e}}static async syncTemplates(e){if(!ur()||!Nr())return e;try{const t=await this.pullTemplates(),r=new Map;[...t,...e].forEach(o=>{const u=r.get(o.id);(!u||new Date(o.updatedAt)>new Date(u.updatedAt))&&r.set(o.id,o)});const a=Array.from(r.values());return await this.pushTemplates(a),a}catch(t){return console.error("[FirebaseSync] Error syncing templates:",t),e}}static async deleteTemplate(e){if(!(!ur()||!Nr()))try{const t=this.getUserCollection("templates");await TR(gl(ai,t,e)),console.log(`[FirebaseSync] Deleted template ${e} from Firestore`)}catch(t){console.error("[FirebaseSync] Error deleting template:",t)}}static async syncOtherData(){if(!(!ur()||!Nr()))try{const e=Nr(),t=gl(ai,"users",e.uid),r=["@nutrition_entries","@weight_entries","@settings","@leaderboard_display_name"],a={};for(const o of r){const u=await Ye.getItem(o);u&&(a[o]=u)}await tO(t,{additionalData:a,lastSync:Date.now()},{merge:!0}),console.log("[FirebaseSync] Synced additional data to Firestore")}catch(e){console.error("[FirebaseSync] Error syncing other data:",e)}}static async pullOtherData(){if(!(!ur()||!Nr()))try{const e=Nr(),t=gl(ai,"users",e.uid),r=await q8(t);if(!r.exists()){console.log("[FirebaseSync] No user document found in Firestore");return}const o=r.data()?.additionalData;if(!o)return;for(const[u,c]of Object.entries(o))await Ye.getItem(u)||(await Ye.setItem(u,c),console.log(`[FirebaseSync] Restored ${u} from Firestore`))}catch(e){console.error("[FirebaseSync] Error pulling other data:",e)}}static async performFullSync(e,t){if(!ur()||!Nr())return console.warn("[FirebaseSync] Skipping full sync - Firebase not configured"),{workouts:e,templates:t};console.log("[FirebaseSync] Starting full sync...");try{const[r,a]=await Promise.all([this.syncWorkouts(e),this.syncTemplates(t)]);return await this.syncOtherData(),await this.pullOtherData(),console.log("[FirebaseSync] Full sync completed successfully"),{workouts:r,templates:a}}catch(r){return console.error("[FirebaseSync] Error during full sync:",r),{workouts:e,templates:t}}}}const l_="@workouts",am="@active_workout";class Dn{static async saveWorkout(e){try{const t=await this.getAllWorkouts(),r=t.findIndex(a=>a.id===e.id);r>=0?t[r]=e:t.push(e),await Ye.setItem(l_,JSON.stringify(t)),Ol.pushWorkouts(t).catch(a=>console.error("[WorkoutStorage] Background sync failed:",a))}catch(t){throw console.error("Error saving workout:",t),t}}static async getAllWorkouts(){try{const e=await Ye.getItem(l_);return e?JSON.parse(e):[]}catch(e){return console.error("Error getting workouts:",e),[]}}static async getWorkoutById(e){try{return(await this.getAllWorkouts()).find(r=>r.id===e)||null}catch(t){return console.error("Error getting workout by id:",t),null}}static async deleteWorkout(e){try{const r=(await this.getAllWorkouts()).filter(a=>a.id!==e);await Ye.setItem(l_,JSON.stringify(r)),Ol.deleteWorkout(e).catch(a=>console.error("[WorkoutStorage] Firebase delete failed:",a))}catch(t){throw console.error("Error deleting workout:",t),t}}static async saveActiveWorkout(e){try{e?await Ye.setItem(am,JSON.stringify(e)):await Ye.removeItem(am)}catch(t){throw console.error("Error saving active workout:",t),t}}static async getActiveWorkout(){try{const e=await Ye.getItem(am);return e?JSON.parse(e):null}catch(e){return console.error("Error getting active workout:",e),null}}static async clearActiveWorkout(){try{await Ye.removeItem(am)}catch(e){throw console.error("Error clearing active workout:",e),e}}}const u_="@workout_templates";class _u{static async saveTemplate(e){try{const t=await this.getAllTemplates(),r=t.findIndex(a=>a.id===e.id);r>=0?t[r]=e:t.push(e),await Ye.setItem(u_,JSON.stringify(t)),Ol.pushTemplates(t).catch(a=>console.error("[TemplateStorage] Background sync failed:",a))}catch(t){throw console.error("Error saving template:",t),t}}static async getAllTemplates(){try{const e=await Ye.getItem(u_);return e?JSON.parse(e):[]}catch(e){return console.error("Error getting templates:",e),[]}}static async getTemplateById(e){try{return(await this.getAllTemplates()).find(r=>r.id===e)||null}catch(t){return console.error("Error getting template by id:",t),null}}static async deleteTemplate(e){try{const r=(await this.getAllTemplates()).filter(a=>a.id!==e);await Ye.setItem(u_,JSON.stringify(r)),Ol.deleteTemplate(e).catch(a=>console.error("[TemplateStorage] Firebase delete failed:",a))}catch(t){throw console.error("Error deleting template:",t),t}}}function wi(){const n=new Date,e=n.getFullYear(),t=String(n.getMonth()+1).padStart(2,"0"),r=String(n.getDate()).padStart(2,"0"),a=String(n.getHours()).padStart(2,"0"),o=String(n.getMinutes()).padStart(2,"0"),u=String(n.getSeconds()).padStart(2,"0"),c=String(n.getMilliseconds()).padStart(3,"0");return`${e}-${t}-${r}T${a}:${o}:${u}.${c}Z`}class XW{static detectPRs(e,t,r){const a=[],o=this.getAllSetsForExercise(e,r);if(o.length===0)return a;const u=Math.max(...o.map(g=>g.weight));t.weight>u&&a.push({exerciseName:e,type:"max_weight",value:t.weight,date:wi(),workoutId:"",exerciseId:t.exerciseId,setId:t.id});const c=Math.max(...o.map(g=>g.reps*g.weight)),h=t.reps*t.weight;h>c&&a.push({exerciseName:e,type:"max_volume",value:h,date:wi(),workoutId:"",exerciseId:t.exerciseId,setId:t.id});const f=Math.max(...o.filter(g=>g.weight===t.weight).map(g=>g.reps));return f>0&&t.reps>f&&a.push({exerciseName:e,type:"max_reps",value:t.reps,date:wi(),workoutId:"",exerciseId:t.exerciseId,setId:t.id}),a}static getAllSetsForExercise(e,t){const r=[];for(const a of t)if(a.isCompleted)for(const o of a.exercises)o.name.toLowerCase()===e.toLowerCase()&&r.push(...o.sets.filter(u=>!u.isWarmup));return r}}const UR="@leaderboard_user_id",HR="@leaderboard_display_name",c_="leaderboard";class Ea{static async getUserId(){try{let e=await Ye.getItem(UR);return e||(e=`anon_${Date.now()}_${Math.random().toString(36).substring(2,15)}`,await Ye.setItem(UR,e)),e}catch(e){throw console.error("Error getting user ID:",e),e}}static async getDisplayName(){try{return await Ye.getItem(HR)}catch(e){return console.error("Error getting display name:",e),null}}static async setDisplayName(e){try{await Ye.setItem(HR,e)}catch(t){throw console.error("Error setting display name:",t),t}}static async saveUserData(e){if(await this._saveLocalCache(e),!ur()){console.warn("[Leaderboard] Firebase not configured  saving locally only");return}try{const t=gl(ai,c_,e.userId);await tO(t,{...e},{merge:!0})}catch(t){console.error("[Leaderboard] Firestore write failed:",t)}}static async getAllLeaderboardData(){if(!ur())return this._getLocalCache();try{const e=v0(ng(ai,c_),_0("score","desc")),r=(await b0(e)).docs.map(a=>a.data());return await this._setLocalCache(r),r}catch(e){return console.error("[Leaderboard] Firestore read failed, using local cache:",e),this._getLocalCache()}}static subscribeToLeaderboard(e,t){if(!ur())return this._getLocalCache().then(e).catch(a=>t?.(a)),()=>{};const r=v0(ng(ai,c_),_0("score","desc"));return G8(r,a=>{const o=a.docs.map(u=>u.data());e(o)},a=>{console.error("[Leaderboard] Firestore snapshot error:",a),t?.(a)})}static async getCurrentUserData(){try{const e=await this.getUserId();return(await this.getAllLeaderboardData()).find(r=>r.userId===e)||null}catch(e){return console.error("Error getting current user data:",e),null}}static _CACHE_KEY="@leaderboard_data";static async _getLocalCache(){try{const e=await Ye.getItem(this._CACHE_KEY);return e?JSON.parse(e):[]}catch{return[]}}static async _setLocalCache(e){try{await Ye.setItem(this._CACHE_KEY,JSON.stringify(e))}catch{}}static async _saveLocalCache(e){const t=await this._getLocalCache(),r=t.findIndex(a=>a.userId===e.userId);r>=0?t[r]=e:t.push(e),await this._setLocalCache(t)}}class Ci{static getAllSetsForExercise(e,t){const r=[];for(const a of t)if(a.isCompleted){for(const o of a.exercises)if(o.name.toLowerCase()===e.toLowerCase()){const u=o.sets.filter(c=>!c.isWarmup).map(c=>({...c,date:a.date,workoutId:a.id}));r.push(...u)}}return r.sort((a,o)=>new Date(a.date).getTime()-new Date(o.date).getTime())}static getMaxWeight(e,t){const r=this.getAllSetsForExercise(e,t);if(r.length===0)return null;const a=r.reduce((o,u)=>u.weight>o.weight?u:o);return{weight:a.weight,date:a.date}}static getTotalVolume(e,t,r){const a=r?this.filterByTimeRange(t,r):t;return this.getAllSetsForExercise(e,a).reduce((u,c)=>u+c.reps*c.weight,0)}static getMaxWeightPerSession(e,t){const r=new Map,a=this.getAllSetsForExercise(e,t);for(const o of a){const u=r.get(o.date);(!u||o.weight>u.maxWeight)&&r.set(o.date,{maxWeight:o.weight,workoutId:o.workoutId})}return Array.from(r.entries()).map(([o,u])=>({date:o,value:u.maxWeight,workoutId:u.workoutId})).sort((o,u)=>new Date(o.date).getTime()-new Date(u.date).getTime())}static filterByTimeRange(e,t){const r=new Date,a=new Date;switch(t){case"4w":a.setDate(r.getDate()-28);break;case"3m":a.setMonth(r.getMonth()-3);break;case"1y":a.setFullYear(r.getFullYear()-1);break;case"all":return e}return e.filter(o=>new Date(o.date)>=a)}static getAllExerciseNames(e){const t=new globalThis.Set;return e.forEach(r=>{r.isCompleted&&r.exercises.forEach(a=>{t.add(a.name)})}),Array.from(t).sort()}static getSessionsWithExercise(e,t){return t.filter(r=>r.isCompleted?r.exercises.some(a=>a.name.toLowerCase()===e.toLowerCase()):!1)}}class qd{static calculateScore(e){const t=e.totalWorkouts*10,r=e.totalWeightLifted/1e3,a=e.currentStreak*50,o=e.totalWorkoutTime/36e5,u=e.personalRecords*5;return Math.round(t+r+a+o+u)}static calculateTotalWeightLifted(e){let t=0;for(const r of e)for(const a of r.exercises)for(const o of a.sets)o.isWarmup||(t+=o.weight*o.reps);return t}static calculateTotalWorkoutTime(e){let t=0;for(const r of e)if(r.startTime&&r.endTime){const a=new Date(r.startTime).getTime(),o=new Date(r.endTime).getTime();t+=o-a}return t}static calculateCurrentStreak(e){if(e.length===0)return 0;const t=e.filter(f=>f.isCompleted).sort((f,g)=>new Date(g.date).getTime()-new Date(f.date).getTime());if(t.length===0)return 0;let r=0;const a=new Date;a.setHours(0,0,0,0);let o=new Date(a);const u=new Date(t[0].date);if(u.setHours(0,0,0,0),Math.floor((a.getTime()-u.getTime())/(1e3*60*60*24))>1)return 0;const h=new Set(t.map(f=>{const g=new Date(f.date);return g.setHours(0,0,0,0),g.getTime()}));for(;h.has(o.getTime());)r++,o.setDate(o.getDate()-1);return r}static calculateLongestStreak(e){if(e.length===0)return 0;const t=e.filter(u=>u.isCompleted).sort((u,c)=>new Date(u.date).getTime()-new Date(c.date).getTime());if(t.length===0)return 0;const r=Array.from(new Set(t.map(u=>{const c=new Date(u.date);return c.setHours(0,0,0,0),c.getTime()}))).sort((u,c)=>u-c);let a=1,o=1;for(let u=1;u<r.length;u++)Math.floor((r[u]-r[u-1])/864e5)===1?(o++,a=Math.max(a,o)):o=1;return a}static countPersonalRecords(e){const t=Ci.getAllExerciseNames(e);let r=0;for(const a of t){const o=Ci.getMaxWeightPerSession(a,e);let u=0;for(const c of o)c.value>u&&(r++,u=c.value)}return r}static calculateUserStats(e){const t=e.filter(r=>r.isCompleted);return{totalWorkouts:t.length,totalWeightLifted:this.calculateTotalWeightLifted(t),currentStreak:this.calculateCurrentStreak(t),longestStreak:this.calculateLongestStreak(t),totalWorkoutTime:this.calculateTotalWorkoutTime(t),personalRecords:this.countPersonalRecords(t)}}static filterWorkoutsByTimeframe(e,t){if(t==="all-time")return e;const r=new Date,a=new Date;switch(t){case"daily":a.setHours(0,0,0,0);break;case"weekly":a.setDate(r.getDate()-7);break;case"monthly":a.setDate(r.getDate()-30);break}return e.filter(o=>new Date(o.date).getTime()>=a.getTime())}}class xm{static async updateUserStats(e){try{const t=await Ea.getUserId(),r=await Ea.getDisplayName()||"Anonymous",a=qd.calculateUserStats(e),o=qd.calculateScore(a),u=await Ea.getCurrentUserData(),c={userId:t,displayName:r,stats:a,score:o,createdAt:u?.createdAt??Date.now(),lastUpdated:Date.now()};await Ea.saveUserData(c)}catch(t){throw console.error("Error updating user stats:",t),t}}static async setDisplayName(e){if(!e||e.length<2||e.length>20)throw new Error("Display name must be between 2 and 20 characters");if(!/^[a-zA-Z0-9_\s]+$/.test(e))throw new Error("Display name can only contain letters, numbers, spaces, and underscores");await Ea.setDisplayName(e)}static async getDisplayName(){return await Ea.getDisplayName()}static async hasDisplayName(){const e=await Ea.getDisplayName();return e!==null&&e.length>0}}function JW(){const[n,e]=E.useState(null),[t,r]=E.useState([]),[a,o]=E.useState([]),[u,c]=E.useState(!0),[h,f]=E.useState(!1);E.useEffect(()=>{y()},[]),E.useEffect(()=>{n&&!n.isCompleted&&Dn.saveActiveWorkout(n)},[n]),E.useEffect(()=>{const B=go.addEventListener("change",g);return()=>B.remove()},[n]);const g=B=>{B==="background"&&n&&!n.isCompleted&&Dn.saveActiveWorkout(n)},y=async()=>{try{const[B,L,q]=await Promise.all([Dn.getActiveWorkout(),Dn.getAllWorkouts(),_u.getAllTemplates()]);e(B),r(L),o(q),c(!1),_(L,q)}catch(B){console.error("Error loading initial data:",B),c(!1)}},_=async(B,L)=>{try{f(!0),console.log("[useActiveWorkout] Starting background sync...");const{workouts:q,templates:M}=await Ol.performFullSync(B,L);await Ye.setItem("@workouts",JSON.stringify(q)),await Ye.setItem("@workout_templates",JSON.stringify(M)),q.length!==B.length&&(r(q),console.log(`[useActiveWorkout] Synced ${q.length} workouts`)),M.length!==L.length&&(o(M),console.log(`[useActiveWorkout] Synced ${M.length} templates`)),console.log("[useActiveWorkout] Background sync completed")}catch(q){console.error("[useActiveWorkout] Background sync error:",q)}finally{f(!1)}},S=E.useCallback(async B=>{const L=wi();let q=[];if(B){const ue=await _u.getTemplateById(B);ue&&(q=ue.exercises.map((me,Y)=>({id:as(),workoutId:"",name:me.name,sets:me.sets.map((se,ge)=>({id:as(),exerciseId:"",reps:se.reps,weight:se.weight,isWarmup:se.isWarmup,order:ge,createdAt:L})),notes:me.notes,order:Y,createdAt:L,updatedAt:L})))}const M={id:as(),date:L,startTime:L,exercises:q.map(ue=>({...ue,workoutId:as(),sets:ue.sets.map(me=>({...me,exerciseId:ue.id}))})),isCompleted:!1,createdAt:L,updatedAt:L};e(M),await Dn.saveActiveWorkout(M)},[]),T=E.useCallback(async B=>{if(!n)return;const L=wi(),q={id:as(),workoutId:n.id,name:B,sets:[],order:n.exercises.length,createdAt:L,updatedAt:L},M={...n,exercises:[...n.exercises,q],updatedAt:L};e(M),await Dn.saveActiveWorkout(M)},[n]),x=E.useCallback(async(B,L,q,M=!1,ue,me)=>{if(!n)return;const Y=n.exercises.find(X=>X.id===B);if(!Y)return;const se=wi(),ge={id:as(),exerciseId:B,reps:L,weight:q,isWarmup:M,rpe:ue,notes:me,order:Y.sets.length,createdAt:se},ee=XW.detectPRs(Y.name,ge,t),ie=n.exercises.map(X=>X.id===B?{...X,sets:[...X.sets,ge],updatedAt:se}:X),G={...n,exercises:ie,updatedAt:se};return e(G),await Dn.saveActiveWorkout(G),{prs:ee}},[n,t]),C=E.useCallback(async(B,L)=>{if(!n)return;const q=wi(),M=n.exercises.map(me=>me.id===B?{...me,sets:me.sets.filter(Y=>Y.id!==L).map((Y,se)=>({...Y,order:se})),updatedAt:q}:me),ue={...n,exercises:M,updatedAt:q};e(ue),await Dn.saveActiveWorkout(ue)},[n]),I=E.useCallback(async B=>{if(!n)return;const L=wi(),q={...n,exercises:n.exercises.filter(M=>M.id!==B).map((M,ue)=>({...M,order:ue})),updatedAt:L};e(q),await Dn.saveActiveWorkout(q)},[n]),R=E.useCallback(async()=>{if(!n)return;const B=wi(),L={...n,endTime:B,isCompleted:!0,updatedAt:B};await Dn.saveWorkout(L),await Dn.clearActiveWorkout(),e(null);const q=[...t,L];r(q);try{await xm.updateUserStats(q)}catch(M){console.error("Error updating leaderboard stats:",M)}},[n,t]),O=E.useCallback(async()=>{await Dn.clearActiveWorkout(),e(null)},[]),z=E.useCallback(async B=>{if(!n)return;const L={...n,notes:B,updatedAt:new Date().toISOString()};e(L),await Dn.saveActiveWorkout(L)},[n]),H=E.useCallback(async B=>{if(!n)return;const L={...n,bodyweight:B,updatedAt:new Date().toISOString()};e(L),await Dn.saveActiveWorkout(L)},[n]),F=E.useCallback(async B=>{if(!n)return;const L=new Date().toISOString(),q={id:as(),name:B,exercises:n.exercises.map((ue,me)=>({id:as(),name:ue.name,sets:ue.sets.filter(Y=>!Y.isWarmup).map((Y,se)=>({id:as(),reps:Y.reps,weight:Y.weight,isWarmup:!1,order:se})),notes:ue.notes,order:me})),createdAt:L,updatedAt:L};console.log("Saving template:",q),await _u.saveTemplate(q);const M=await _u.getAllTemplates();console.log("Templates after save:",M.length),o(M)},[n]),N=E.useCallback(async B=>{await _u.deleteTemplate(B);const L=await _u.getAllTemplates();o(L)},[]),D=E.useCallback(async B=>{try{await Dn.deleteWorkout(B),r(L=>L.filter(q=>q.id!==B))}catch(L){throw console.error("Error deleting workout:",L),L}},[]),V=E.useCallback(async()=>{try{const B=await Dn.getAllWorkouts();r(B)}catch(B){console.error("Error refreshing workouts:",B)}},[]);return{activeWorkout:n,workoutHistory:t,templates:a,isLoading:u,startWorkout:S,addExercise:T,addSet:x,deleteSet:C,deleteExercise:I,finishWorkout:R,discardWorkout:O,updateWorkoutNotes:z,updateWorkoutBodyweight:H,saveAsTemplate:F,deleteTemplate:N,deleteWorkout:D,refreshWorkouts:V}}function as(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}const LO=E.createContext(null);function ZW({children:n}){const e=JW();return v.jsx(LO.Provider,{value:e,children:n})}function Lo(){const n=E.useContext(LO);if(!n)throw new Error("useWorkoutContext must be used within WorkoutProvider");return n}const Nn={black:"#000000",white:"#FFFFFF",redPrimary:"#FF3333",redDark:"#D32F2F",redLight:"#FF6666",gray100:"#F5F5F5",gray200:"#E0E0E0",gray300:"#CCCCCC",gray400:"#999999",gray500:"#666666",gray600:"#333333",gray700:"#2C2C2E",gray800:"#1C1C1E",gray900:"#121212"},eq={primary:"#007AFF",primaryDark:"#0051D5",primaryLight:"#4DA3FF",background:Nn.gray100,surface:Nn.white,surfaceHighlight:Nn.white,text:Nn.gray600,textSecondary:Nn.gray500,textMuted:Nn.gray400,textOnPrimary:Nn.white,border:Nn.gray200,success:"#34C759",warning:"#FF9800",danger:"#FF3B30",cardShadow:"#000000"},tq={primary:Nn.redPrimary,primaryDark:Nn.redDark,primaryLight:Nn.redLight,background:Nn.black,surface:Nn.gray900,surfaceHighlight:Nn.gray800,text:Nn.white,textSecondary:Nn.gray300,textMuted:Nn.gray500,textOnPrimary:Nn.white,border:Nn.gray700,success:"#32D74B",warning:"#FF9F0A",danger:"#FF453A",cardShadow:"#000000"},K={xs:4,sm:8,md:12,lg:16,xl:20,xxxl:32},Pe={sm:8,md:12,lg:16,xl:20,round:999},we={largeTitle:{fontSize:34,fontWeight:"bold"},title1:{fontSize:28,fontWeight:"bold"},title2:{fontSize:22,fontWeight:"bold"},title3:{fontSize:20,fontWeight:"600"},headline:{fontSize:17,fontWeight:"600"},body:{fontSize:17,fontWeight:"400"},callout:{fontSize:16,fontWeight:"400"},subheadline:{fontSize:15,fontWeight:"400"},footnote:{fontSize:13,fontWeight:"400"},caption1:{fontSize:12,fontWeight:"400"}},WR="@theme_mode",VO=E.createContext(null);function nq({children:n}){const e=gB(),[t,r]=E.useState("system");E.useEffect(()=>{a()},[]);const a=async()=>{try{const h=await Ye.getItem(WR);h&&r(h)}catch(h){console.error("Error loading theme mode:",h)}},o=async h=>{try{r(h),await Ye.setItem(WR,h)}catch(f){console.error("Error saving theme mode:",f)}},u=t==="dark"||t==="system"&&e==="dark",c=u?tq:eq;return v.jsx(VO.Provider,{value:{themeMode:t,isDarkMode:u,colors:c,setThemeMode:o},children:n})}function Er(){const n=E.useContext(VO);if(!n)throw new Error("useTheme must be used within ThemeProvider");return n}let jO;const ut={alert:(n,e,t,r)=>{jO({visible:!0,title:n,message:e,buttons:t||[{text:"OK",style:"default"}]})}};function rq({children:n}){const[e,t]=E.useState({visible:!1,title:"",message:"",buttons:[]});E.useEffect(()=>{jO=t},[]);const r=()=>{t({...e,visible:!1})},a=o=>{r(),o.onPress&&o.onPress()};return v.jsxs(v.Fragment,{children:[n,v.jsx(hs,{visible:e.visible,transparent:!0,animationType:"fade",onRequestClose:r,children:v.jsx(W,{style:Ei.overlay,children:v.jsxs(W,{style:Ei.alertBox,children:[v.jsx(j,{style:Ei.title,children:e.title}),e.message&&v.jsx(j,{style:Ei.message,children:e.message}),v.jsx(W,{style:Ei.buttonContainer,children:e.buttons.map((o,u)=>v.jsx(_e,{style:[Ei.button,o.style==="cancel"&&Ei.cancelButton,o.style==="destructive"&&Ei.destructiveButton,e.buttons.length===1&&Ei.singleButton],onPress:()=>a(o),children:v.jsx(j,{style:[Ei.buttonText,o.style==="cancel"&&Ei.cancelButtonText,o.style==="destructive"&&Ei.destructiveButtonText],children:o.text||"OK"})},u))})]})})})]})}const Ei=Ne.create({overlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"center",alignItems:"center",padding:20},alertBox:{backgroundColor:"#FFFFFF",borderRadius:12,padding:20,minWidth:280,maxWidth:400,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:4,elevation:5},title:{fontSize:18,fontWeight:"600",color:"#000",marginBottom:10,textAlign:"center"},message:{fontSize:14,color:"#666",marginBottom:20,textAlign:"center",lineHeight:20},buttonContainer:{flexDirection:"row",justifyContent:"space-between",gap:10},button:{flex:1,paddingVertical:12,paddingHorizontal:16,backgroundColor:"#007AFF",borderRadius:8,alignItems:"center"},singleButton:{flex:1},cancelButton:{backgroundColor:"#E0E0E0"},destructiveButton:{backgroundColor:"#FF3B30"},buttonText:{fontSize:16,fontWeight:"600",color:"#FFFFFF"},cancelButtonText:{color:"#000"},destructiveButtonText:{color:"#FFFFFF"}});function Vo({navigation:n,currentScreen:e}){const{activeWorkout:t}=Lo(),{colors:r}=Er(),[a,o]=E.useState(Date.now()),[u,c]=E.useState(!1);if(E.useEffect(()=>{const g=setInterval(()=>{o(Date.now())},1e3);return()=>clearInterval(g)},[]),E.useEffect(()=>{t&&!t.isCompleted&&e!=="ActiveWorkout"?c(!0):c(!1)},[t,e]),!t||t.isCompleted||e==="ActiveWorkout"||!u)return null;const h=g=>{const y=a-new Date(g).getTime(),_=Math.floor(y/6e4),S=Math.floor(_/60),T=_%60;return S>0?`${S}:${T.toString().padStart(2,"0")}`:`${T} min`},f=iq(r);return v.jsx(W,{style:f.container,children:v.jsxs(_e,{style:f.banner,onPress:()=>n.navigate("ActiveWorkout"),activeOpacity:.8,children:[v.jsx(W,{style:f.indicator}),v.jsxs(W,{style:f.content,children:[v.jsx(j,{style:f.title,children:"Workout in Progress"}),v.jsxs(j,{style:f.time,children:[t.startTime&&h(t.startTime),"  ",t.exercises.length," exercises"]})]}),v.jsx(j,{style:f.arrow,children:""})]})})}function iq(n){const e={backgroundColor:n.primary,flexDirection:"row",alignItems:"center",padding:K.md,borderRadius:Pe.xl};return e.boxShadow="0 4px 8px rgba(0, 0, 0, 0.3)",Ne.create({container:{position:"absolute",bottom:K.lg,left:K.lg,right:K.lg,zIndex:1e3},banner:e,indicator:{width:8,height:8,borderRadius:4,backgroundColor:"#4CAF50",marginRight:K.md},content:{flex:1},title:{color:n.textOnPrimary,fontSize:16,fontWeight:"700",marginBottom:2},time:{color:"rgba(255, 255, 255, 0.8)",fontSize:13,fontWeight:"500"},arrow:{color:n.textOnPrimary,fontSize:24,fontWeight:"300",marginLeft:K.sm}})}function aq({navigation:n}){const{activeWorkout:e,workoutHistory:t,templates:r,startWorkout:a,discardWorkout:o}=Lo(),{isDarkMode:u,colors:c}=Er(),[h,f]=En.useState(!1),[g,y]=En.useState(!1);En.useEffect(()=>{if(e&&!e.isCompleted&&!g){const I=e.startTime?Date.now()-new Date(e.startTime).getTime():0;I>0&&(ut.alert("Resume Workout",`You have an unfinished workout from ${sq(I)} ago. Would you like to resume?`,[{text:"Discard",onPress:()=>{o(),y(!1)},style:"destructive"},{text:"Resume",onPress:()=>n.navigate("ActiveWorkout")}]),y(!0))}e||y(!1)},[e,g,n,o]);const _=async()=>{r.length>0?ut.alert("Start Workout","Would you like to start from a template or create a new workout?",[{text:"Cancel",style:"cancel"},{text:"New Workout",onPress:S},{text:"Use Template",onPress:()=>f(!0)}]):await S()},S=async()=>{await a(),n.navigate("ActiveWorkout")},T=async I=>{await a(I),f(!1),n.navigate("ActiveWorkout")},x=t.filter(I=>I.isCompleted).sort((I,R)=>new Date(R.date).getTime()-new Date(I.date).getTime())[0],C=uq(c);return v.jsxs(Zn,{style:C.safeArea,children:[v.jsx(Pn,{barStyle:u?"light-content":"dark-content",backgroundColor:c.background}),v.jsxs(W,{style:C.container,children:[v.jsxs(W,{style:C.header,children:[v.jsxs(W,{children:[v.jsx(j,{style:C.greeting,children:"Welcome Back"}),v.jsx(j,{style:C.title,children:"Workout Planner"})]}),v.jsx(_e,{style:C.settingsButton,onPress:()=>n.navigate("Settings"),hitSlop:{top:10,bottom:10,left:10,right:10},children:v.jsx(j,{style:C.settingsIcon,children:""})})]}),v.jsxs(ci,{style:C.content,contentContainerStyle:C.scrollContent,showsVerticalScrollIndicator:!1,children:[v.jsxs(_e,{style:C.startButton,onPress:_,activeOpacity:.8,children:[v.jsx(j,{style:C.startButtonText,children:"Start Workout"}),v.jsx(j,{style:C.startButtonSubtext,children:"Start a new empty session"})]}),v.jsxs(W,{style:C.quickActions,children:[v.jsxs(_e,{style:C.actionButton,onPress:()=>n.navigate("History"),activeOpacity:.8,children:[v.jsx(j,{style:C.actionIcon,children:""}),v.jsx(j,{style:C.actionButtonText,children:"History"})]}),v.jsxs(_e,{style:C.actionButton,onPress:()=>n.navigate("Stats"),activeOpacity:.8,children:[v.jsx(j,{style:C.actionIcon,children:""}),v.jsx(j,{style:C.actionButtonText,children:"Stats"})]}),v.jsxs(_e,{style:C.actionButton,onPress:()=>n.navigate("Nutrition"),activeOpacity:.8,children:[v.jsx(j,{style:C.actionIcon,children:""}),v.jsx(j,{style:C.actionButtonText,children:"Nutrition"})]})]}),v.jsxs(W,{style:C.quickActions,children:[v.jsxs(_e,{style:C.actionButton,onPress:()=>n.navigate("Leaderboard"),activeOpacity:.8,children:[v.jsx(j,{style:C.actionIcon,children:""}),v.jsx(j,{style:C.actionButtonText,children:"Leaderboard"})]}),v.jsxs(_e,{style:C.actionButton,onPress:()=>n.navigate("WeightTracking"),activeOpacity:.8,children:[v.jsx(j,{style:C.actionIcon,children:""}),v.jsx(j,{style:C.actionButtonText,children:"Weight"})]})]}),x&&v.jsxs(W,{style:C.section,children:[v.jsx(j,{style:C.sectionTitle,children:"Last Session"}),v.jsxs(W,{style:C.card,children:[v.jsxs(W,{style:C.cardHeader,children:[v.jsx(j,{style:C.cardTitle,children:"Workout"}),v.jsx(j,{style:C.cardDate,children:oq(x.date)})]}),v.jsxs(j,{style:C.cardStats,children:[x.exercises.length," Exercises  ",lq(x)," Sets"]})]})]}),v.jsxs(W,{style:C.section,children:[v.jsx(j,{style:C.sectionTitle,children:"Overview"}),v.jsxs(W,{style:C.statsRow,children:[v.jsxs(W,{style:[C.statCard,{marginRight:K.sm}],children:[v.jsx(j,{style:C.statValue,children:t.filter(I=>I.isCompleted).length}),v.jsx(j,{style:C.statLabel,children:"Workouts"})]}),v.jsxs(W,{style:[C.statCard,{marginLeft:K.sm}],children:[v.jsx(j,{style:C.statValue,children:r.length}),v.jsx(j,{style:C.statLabel,children:"Templates"})]})]})]}),h&&r.length>0&&v.jsx(W,{style:C.templatesOverlay,children:v.jsxs(W,{style:C.templatesCard,children:[v.jsx(j,{style:C.overlayTitle,children:"Select Template"}),r.map(I=>v.jsxs(_e,{style:C.templateButton,onPress:()=>T(I.id),children:[v.jsx(j,{style:C.templateName,children:I.name}),v.jsxs(j,{style:C.templateInfo,children:[I.exercises.length," exercises"]})]},I.id)),v.jsx(_e,{style:C.cancelTemplateButton,onPress:()=>f(!1),children:v.jsx(j,{style:C.cancelTemplateText,children:"Cancel"})})]})})]}),v.jsx(Vo,{navigation:n,currentScreen:"Dashboard"})]})]})}function sq(n){const e=Math.floor(n/6e4);return e<60?`${e} min`:`${Math.floor(e/60)}h ${e%60}m`}function oq(n){return new Date(n).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}function lq(n){return n.exercises.reduce((e,t)=>e+t.sets.length,0)}function uq(n,e){return Ne.create({safeArea:{flex:1,backgroundColor:n.background},container:{flex:1,backgroundColor:n.background},header:{paddingHorizontal:K.xl,paddingVertical:K.lg,flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:K.sm},greeting:{...we.subheadline,color:n.textSecondary,marginBottom:K.xs,textTransform:"uppercase",letterSpacing:1},title:{...we.largeTitle,color:n.text},settingsButton:{padding:K.sm,backgroundColor:n.surface,borderRadius:Pe.round},settingsIcon:{fontSize:20,color:n.text},content:{flex:1},scrollContent:{padding:K.xl,paddingBottom:K.xxxl},startButton:{backgroundColor:n.primary,padding:K.xl,borderRadius:Pe.xl,alignItems:"center",marginBottom:K.xl,shadowColor:n.primary,shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:8,elevation:6},startButtonText:{color:n.textOnPrimary,fontSize:20,fontWeight:"700",marginBottom:K.xs},startButtonSubtext:{color:"rgba(255, 255, 255, 0.8)",fontSize:14,fontWeight:"500"},quickActions:{flexDirection:"row",justifyContent:"space-between",marginBottom:K.xl},actionButton:{flex:1,backgroundColor:n.surface,padding:K.lg,borderRadius:Pe.lg,alignItems:"center",marginHorizontal:K.xs,borderWidth:1,borderColor:n.border},actionIcon:{fontSize:24,marginBottom:K.xs},actionButtonText:{color:n.text,fontSize:16,fontWeight:"600"},leaderboardButton:{flex:1,backgroundColor:n.primary,borderColor:n.primary},section:{marginBottom:K.xl},sectionTitle:{...we.title3,color:n.text,marginBottom:K.md},card:{backgroundColor:n.surface,padding:K.lg,borderRadius:Pe.lg,borderWidth:1,borderColor:n.border},cardHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:K.sm},cardTitle:{fontSize:18,fontWeight:"600",color:n.text},cardDate:{fontSize:14,color:n.textSecondary},cardStats:{fontSize:14,color:n.textMuted},statsRow:{flexDirection:"row"},statCard:{flex:1,backgroundColor:n.surface,padding:K.lg,borderRadius:Pe.lg,alignItems:"center",borderWidth:1,borderColor:n.border},statValue:{fontSize:24,fontWeight:"bold",color:n.primary,marginBottom:K.xs},statLabel:{fontSize:14,color:n.textSecondary},templatesOverlay:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",justifyContent:"center",padding:K.xl},templatesCard:{backgroundColor:n.surface,padding:K.xl,borderRadius:Pe.xl,shadowColor:"#000",shadowOffset:{width:0,height:4},shadowOpacity:.2,shadowRadius:8,elevation:5},overlayTitle:{...we.title2,color:n.text,marginBottom:K.lg,textAlign:"center"},templateButton:{backgroundColor:n.background,padding:K.md,borderRadius:Pe.md,marginBottom:K.sm,borderWidth:1,borderColor:n.border},templateName:{fontSize:16,fontWeight:"600",color:n.text},templateInfo:{fontSize:14,color:n.textSecondary,marginTop:4},cancelTemplateButton:{marginTop:K.lg,padding:K.md,alignItems:"center"},cancelTemplateText:{fontSize:16,color:n.primary,fontWeight:"600"}})}const cq=["Bench Press","Squat","Deadlift","Overhead Press","Barbell Row","Pull-ups","Dips","Lunges","Leg Press","Lat Pulldown","Bicep Curl","Tricep Extension","Leg Curl","Leg Extension","Calf Raise"];function dq({visible:n,onSelect:e,onClose:t}){const[r,a]=E.useState(""),[o,u]=E.useState(""),c=cq.filter(y=>y.toLowerCase().includes(r.toLowerCase())),h=y=>{e(y),a(""),u("")},f=()=>{o.trim()&&(e(o.trim()),a(""),u(""))},g=()=>{a(""),u(""),t()};return v.jsx(hs,{visible:n,animationType:"slide",transparent:!0,onRequestClose:g,children:v.jsx(_e,{style:Bn.overlay,activeOpacity:1,onPress:()=>{nb.dismiss(),g()},children:v.jsxs(_e,{style:Bn.modalContent,activeOpacity:1,onPress:y=>y.stopPropagation(),children:[v.jsxs(W,{style:Bn.header,children:[v.jsx(j,{style:Bn.title,children:"Add Exercise"}),v.jsx(_e,{onPress:g,hitSlop:{top:10,bottom:10,left:10,right:10},children:v.jsx(j,{style:Bn.closeButton,children:""})})]}),v.jsx(xn,{style:Bn.searchInput,placeholder:"Search exercises...",value:r,onChangeText:a,autoFocus:!0}),v.jsx(fg,{data:c,keyExtractor:y=>y,style:Bn.list,renderItem:({item:y})=>v.jsx(_e,{style:Bn.exerciseItem,onPress:()=>h(y),children:v.jsx(j,{style:Bn.exerciseName,children:y})}),ListEmptyComponent:v.jsx(W,{style:Bn.emptyState,children:v.jsx(j,{style:Bn.emptyText,children:"No exercises found"})})}),v.jsxs(W,{style:Bn.customSection,children:[v.jsx(j,{style:Bn.customLabel,children:"Or add custom exercise:"}),v.jsxs(W,{style:Bn.customInputRow,children:[v.jsx(xn,{style:Bn.customInput,placeholder:"Exercise name",value:o,onChangeText:u}),v.jsx(_e,{style:[Bn.addButton,!o.trim()&&Bn.addButtonDisabled],onPress:f,disabled:!o.trim(),children:v.jsx(j,{style:Bn.addButtonText,children:"Add"})})]})]})]})})})}const Bn=Ne.create({overlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"flex-end"},modalContent:{backgroundColor:"#FFFFFF",borderTopLeftRadius:20,borderTopRightRadius:20,maxHeight:"80%",paddingBottom:40},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:20,borderBottomWidth:1,borderBottomColor:"#E0E0E0"},title:{fontSize:20,fontWeight:"600",color:"#333"},closeButton:{fontSize:28,color:"#666",fontWeight:"300"},searchInput:{margin:15,padding:12,backgroundColor:"#F5F5F5",borderRadius:8,fontSize:16},list:{maxHeight:300},exerciseItem:{padding:16,borderBottomWidth:1,borderBottomColor:"#F0F0F0"},exerciseName:{fontSize:16,color:"#333"},emptyState:{padding:40,alignItems:"center"},emptyText:{fontSize:16,color:"#999"},customSection:{padding:15,borderTopWidth:1,borderTopColor:"#E0E0E0"},customLabel:{fontSize:14,color:"#666",marginBottom:10},customInputRow:{flexDirection:"row",gap:10},customInput:{flex:1,padding:12,backgroundColor:"#F5F5F5",borderRadius:8,fontSize:16},addButton:{backgroundColor:"#007AFF",paddingHorizontal:24,borderRadius:8,justifyContent:"center"},addButtonDisabled:{backgroundColor:"#CCCCCC"},addButtonText:{color:"#FFFFFF",fontSize:16,fontWeight:"600"}});function hq({visible:n,onSave:e,onClose:t,defaultValues:r}){const[a,o]=E.useState(""),[u,c]=E.useState(""),[h,f]=E.useState(!1),[g,y]=E.useState("");E.useEffect(()=>{n&&r&&(c(r.weight.toString()),o(r.reps.toString()),f(!1),y(""))},[n,r]);const _=()=>{const I=parseInt(a,10),R=parseFloat(u);if(isNaN(I)||I<=0||isNaN(R)||R<0)return;const O=g?parseInt(g,10):void 0;e(I,R,h,O),S()},S=()=>{o(""),c(""),f(!1),y(""),t()},T=I=>{const R=parseFloat(u)||0,O=Math.max(0,R+I);c(O.toString())},x=I=>{const R=parseInt(a,10)||0,O=Math.max(0,R+I);o(O.toString())},C=a!==""&&u!==""&&!isNaN(parseInt(a,10))&&parseInt(a,10)>0&&!isNaN(parseFloat(u))&&parseFloat(u)>=0;return v.jsx(hs,{visible:n,animationType:"slide",transparent:!0,onRequestClose:S,children:v.jsx(_e,{style:ht.overlay,activeOpacity:1,onPress:()=>{nb.dismiss(),S()},children:v.jsxs(_e,{style:ht.modalContent,activeOpacity:1,onPress:I=>I.stopPropagation(),children:[v.jsxs(W,{style:ht.header,children:[v.jsx(j,{style:ht.title,children:"Log Set"}),v.jsx(_e,{onPress:S,hitSlop:{top:10,bottom:10,left:10,right:10},children:v.jsx(j,{style:ht.closeButton,children:""})})]}),v.jsxs(W,{style:ht.content,children:[v.jsxs(W,{style:ht.inputGroup,children:[v.jsx(j,{style:ht.label,children:"Weight (kg)"}),v.jsxs(W,{style:ht.inputRow,children:[v.jsx(_e,{style:ht.incrementButton,onPress:()=>T(-2.5),children:v.jsx(j,{style:ht.incrementText,children:"-2.5"})}),v.jsx(xn,{style:ht.input,value:u,onChangeText:c,keyboardType:"decimal-pad",placeholder:"0"}),v.jsx(_e,{style:ht.incrementButton,onPress:()=>T(2.5),children:v.jsx(j,{style:ht.incrementText,children:"+2.5"})})]}),v.jsxs(W,{style:ht.quickButtons,children:[v.jsx(_e,{style:ht.quickButton,onPress:()=>T(5),children:v.jsx(j,{style:ht.quickButtonText,children:"+5"})}),v.jsx(_e,{style:ht.quickButton,onPress:()=>T(10),children:v.jsx(j,{style:ht.quickButtonText,children:"+10"})})]})]}),v.jsxs(W,{style:ht.inputGroup,children:[v.jsx(j,{style:ht.label,children:"Reps"}),v.jsxs(W,{style:ht.inputRow,children:[v.jsx(_e,{style:ht.incrementButton,onPress:()=>x(-1),children:v.jsx(j,{style:ht.incrementText,children:"-1"})}),v.jsx(xn,{style:ht.input,value:a,onChangeText:o,keyboardType:"number-pad",placeholder:"0"}),v.jsx(_e,{style:ht.incrementButton,onPress:()=>x(1),children:v.jsx(j,{style:ht.incrementText,children:"+1"})})]})]}),v.jsxs(W,{style:ht.switchGroup,children:[v.jsx(j,{style:ht.label,children:"Warmup Set"}),v.jsx(Bm,{value:h,onValueChange:f,trackColor:{false:"#E0E0E0",true:"#007AFF"}})]}),v.jsxs(W,{style:ht.inputGroup,children:[v.jsx(j,{style:ht.label,children:"RPE (Optional, 1-10)"}),v.jsx(xn,{style:ht.input,value:g,onChangeText:y,keyboardType:"number-pad",placeholder:"Rate of Perceived Exertion",maxLength:2})]})]}),v.jsx(_e,{style:[ht.saveButton,!C&&ht.saveButtonDisabled],onPress:_,disabled:!C,children:v.jsx(j,{style:ht.saveButtonText,children:"Save Set"})})]})})})}const ht=Ne.create({overlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"flex-end"},modalContent:{backgroundColor:"#FFFFFF",borderTopLeftRadius:20,borderTopRightRadius:20,paddingBottom:20,maxHeight:"85%"},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:12,borderBottomWidth:1,borderBottomColor:"#E0E0E0"},title:{fontSize:16,fontWeight:"600",color:"#333"},closeButton:{fontSize:20,color:"#666",fontWeight:"300"},content:{padding:12},inputGroup:{marginBottom:12},label:{fontSize:12,fontWeight:"600",color:"#333",marginBottom:6},inputRow:{flexDirection:"row",alignItems:"center",gap:6},input:{flex:1,padding:8,backgroundColor:"#F5F5F5",borderRadius:6,fontSize:14,textAlign:"center",minHeight:36},incrementButton:{backgroundColor:"#007AFF",paddingHorizontal:10,paddingVertical:8,borderRadius:6,minWidth:45,alignItems:"center"},incrementText:{color:"#FFFFFF",fontSize:12,fontWeight:"600"},quickButtons:{flexDirection:"row",gap:6,marginTop:6},quickButton:{flex:1,backgroundColor:"#E0E0E0",padding:6,borderRadius:6,alignItems:"center"},quickButtonText:{color:"#333",fontSize:12,fontWeight:"600"},switchGroup:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:12},saveButton:{backgroundColor:"#34C759",margin:12,marginTop:6,padding:12,borderRadius:10,alignItems:"center"},saveButtonDisabled:{backgroundColor:"#CCCCCC"},saveButtonText:{color:"#FFFFFF",fontSize:14,fontWeight:"600"}});function fq({visible:n,duration:e,onClose:t,onSkip:r}){const[a,o]=E.useState(e),u=E.useRef(null),c=E.useRef(null),h=E.useRef(go.currentState);E.useEffect(()=>{if(n){const _=Date.now();u.current=_,c.current=_+e*1e3,o(e)}else u.current=null,c.current=null},[n,e]),E.useEffect(()=>{const _=go.addEventListener("change",S=>{if(h.current.match(/inactive|background/)&&S==="active"&&n&&c.current){const T=Date.now(),x=Math.max(0,Math.ceil((c.current-T)/1e3));o(x)}h.current=S});return()=>{_.remove()}},[n]),E.useEffect(()=>{if(!n||a<=0){a<=0&&n&&t();return}const _=setInterval(()=>{if(c.current){const S=Date.now(),T=Math.max(0,Math.ceil((c.current-S)/1e3));o(T)}},100);return()=>clearInterval(_)},[n,a,t]);const f=_=>{const S=Math.floor(_/60),T=_%60;return`${S}:${T.toString().padStart(2,"0")}`},g=_=>{if(c.current){c.current+=_*1e3;const S=Date.now(),T=Math.max(0,Math.ceil((c.current-S)/1e3));o(T)}},y=e>0?(e-a)/e:0;return v.jsx(hs,{visible:n,animationType:"fade",transparent:!0,onRequestClose:r,children:v.jsx(W,{style:or.overlay,children:v.jsxs(W,{style:or.container,children:[v.jsx(j,{style:or.title,children:"Rest Timer"}),v.jsxs(W,{style:or.timerContainer,children:[v.jsx(W,{style:or.progressRing,children:v.jsx(W,{style:[or.progressFill,{height:`${y*100}%`}]})}),v.jsx(j,{style:or.timeText,children:f(a)})]}),v.jsxs(W,{style:or.controls,children:[v.jsx(_e,{style:or.adjustButton,onPress:()=>g(-15),children:v.jsx(j,{style:or.adjustButtonText,children:"-15s"})}),v.jsx(W,{style:or.progressIndicator,children:v.jsx(W,{style:[or.progressBar,{width:`${y*100}%`}]})}),v.jsx(_e,{style:or.adjustButton,onPress:()=>g(15),children:v.jsx(j,{style:or.adjustButtonText,children:"+15s"})})]}),v.jsx(_e,{style:or.skipButton,onPress:r,children:v.jsx(j,{style:or.skipButtonText,children:"Skip Rest"})})]})})})}const or=Ne.create({overlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.7)",justifyContent:"center",alignItems:"center"},container:{backgroundColor:"#FFFFFF",borderRadius:20,padding:16,alignItems:"center",width:"85%",maxWidth:260},title:{fontSize:16,fontWeight:"bold",color:"#333",marginBottom:12},timerContainer:{position:"relative",alignItems:"center",justifyContent:"center",marginBottom:12,width:90,height:90},progressRing:{position:"absolute",width:90,height:90,borderRadius:45,backgroundColor:"#F0F0F0",overflow:"hidden"},progressFill:{position:"absolute",bottom:0,left:0,right:0,backgroundColor:"#007AFF",opacity:.3},timeText:{fontSize:26,fontWeight:"bold",color:"#007AFF",zIndex:1},controls:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:12,width:"100%",gap:6},progressIndicator:{flex:1,height:4,backgroundColor:"#E0E0E0",borderRadius:2,overflow:"hidden"},progressBar:{height:"100%",backgroundColor:"#007AFF"},adjustButton:{backgroundColor:"#F0F0F0",paddingHorizontal:12,paddingVertical:8,borderRadius:6,minWidth:50,alignItems:"center"},adjustButtonText:{fontSize:12,fontWeight:"600",color:"#007AFF"},skipButton:{backgroundColor:"#007AFF",paddingHorizontal:24,paddingVertical:12,borderRadius:10,width:"100%",alignItems:"center"},skipButtonText:{color:"#FFFFFF",fontSize:14,fontWeight:"600"}});function mq({visible:n,onSave:e,onCancel:t}){const[r,a]=E.useState(""),o=()=>{r.trim()&&(e(r.trim()),a(""))},u=()=>{a(""),t()};return v.jsx(hs,{visible:n,animationType:"fade",transparent:!0,onRequestClose:u,children:v.jsx(_e,{style:ii.overlay,activeOpacity:1,onPress:()=>{nb.dismiss(),u()},children:v.jsxs(_e,{style:ii.container,activeOpacity:1,onPress:c=>c.stopPropagation(),children:[v.jsx(j,{style:ii.title,children:"Save as Template"}),v.jsx(j,{style:ii.description,children:"Enter a name for this workout template:"}),v.jsx(xn,{style:ii.input,value:r,onChangeText:a,placeholder:"Template name",placeholderTextColor:"#999",autoFocus:!0,onSubmitEditing:o}),v.jsxs(W,{style:ii.buttons,children:[v.jsx(_e,{style:[ii.button,ii.cancelButton],onPress:u,children:v.jsx(j,{style:ii.cancelButtonText,children:"Cancel"})}),v.jsx(_e,{style:[ii.button,ii.saveButton,!r.trim()&&ii.saveButtonDisabled],onPress:o,disabled:!r.trim(),children:v.jsx(j,{style:ii.saveButtonText,children:"Save"})})]})]})})})}const ii=Ne.create({overlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"center",alignItems:"center",padding:20},container:{backgroundColor:"#FFFFFF",borderRadius:12,padding:20,width:"100%",maxWidth:400},title:{fontSize:20,fontWeight:"bold",color:"#333",marginBottom:8},description:{fontSize:14,color:"#666",marginBottom:16},input:{backgroundColor:"#F5F5F5",borderRadius:8,padding:12,fontSize:16,color:"#333",marginBottom:20},buttons:{flexDirection:"row",gap:10},button:{flex:1,padding:14,borderRadius:8,alignItems:"center"},cancelButton:{backgroundColor:"#F5F5F5"},cancelButtonText:{color:"#666",fontSize:16,fontWeight:"600"},saveButton:{backgroundColor:"#007AFF"},saveButtonDisabled:{backgroundColor:"#CCCCCC"},saveButtonText:{color:"#FFFFFF",fontSize:16,fontWeight:"600"}}),d_="@app_settings",sm={weightUnit:"kg",restTimerEnabled:!0,defaultRestTime:90,vibrationEnabled:!0};class Cm{static async getSettings(){try{const e=await Ye.getItem(d_);return e?{...sm,...JSON.parse(e)}:sm}catch(e){return console.error("Error getting settings:",e),sm}}static async updateSettings(e){try{const r={...await this.getSettings(),...e};await Ye.setItem(d_,JSON.stringify(r))}catch(t){throw console.error("Error updating settings:",t),t}}static async resetSettings(){try{await Ye.setItem(d_,JSON.stringify(sm))}catch(e){throw console.error("Error resetting settings:",e),e}}}function gq({navigation:n}){const{activeWorkout:e,isLoading:t,addExercise:r,addSet:a,deleteSet:o,deleteExercise:u,finishWorkout:c,discardWorkout:h,saveAsTemplate:f}=Lo(),{colors:g,isDarkMode:y}=Er(),[_,S]=E.useState(!1),[T,x]=E.useState(null),[C,I]=E.useState(!1),[R,O]=E.useState(!1),[z,H]=E.useState(!1),[F,N]=E.useState(null),[D,V]=E.useState(Date.now());E.useEffect(()=>{B()},[]),E.useEffect(()=>{const G=setInterval(()=>{V(Date.now())},1e3);return()=>clearInterval(G)},[]);const B=async()=>{const G=await Cm.getSettings();N(G)};if(E.useEffect(()=>{!t&&!e&&n.navigate("Dashboard")},[e,t,n]),t)return v.jsx(Zn,{style:ie.safeArea,children:v.jsx(W,{style:[ie.container,{justifyContent:"center",alignItems:"center"}],children:v.jsx(j,{style:{color:g.text},children:"Loading workout..."})})});if(!e)return null;const L=async G=>{await r(G),S(!1)},q=G=>{x(G),I(!0)},M=async(G,X,ye,be)=>{if(!T)return;const Ie=await a(T,G,X,ye,be);I(!1),x(null),Ie?.prs&&Ie.prs.length>0?(tC.vibrate([0,100,50,100]),ut.alert(" Personal Record!",`You set ${Ie.prs.length} PR(s)!`)):F?.vibrationEnabled&&tC.vibrate(50),!ye&&F?.restTimerEnabled&&O(!0)},ue=(G,X)=>{ut.alert("Delete Set","Are you sure you want to delete this set?",[{text:"Cancel",style:"cancel"},{text:"Delete",onPress:()=>o(G,X),style:"destructive"}])},me=G=>{ut.alert("Delete Exercise","Are you sure you want to delete this exercise?",[{text:"Cancel",style:"cancel"},{text:"Delete",onPress:()=>u(G),style:"destructive"}])},Y=()=>{ut.alert("Discard Workout","Are you sure you want to discard this workout? All progress will be lost.",[{text:"Cancel",style:"cancel"},{text:"Discard",style:"destructive",onPress:async()=>{await h(),n.navigate("Dashboard")}}])},se=async()=>{if(e.exercises.length===0){ut.alert("No Exercises","Add at least one exercise before finishing.");return}ut.alert("Finish Workout","Are you ready to finish this workout?",[{text:"Cancel",style:"cancel"},{text:"Save as Template",onPress:()=>H(!0)},{text:"Finish",onPress:async()=>{await c(),n.navigate("Dashboard")}}])},ge=async G=>{await f(G),H(!1),ut.alert("Template Saved","Workout saved as template successfully!",[{text:"Finish Workout",onPress:async()=>{await c(),n.navigate("Dashboard")}},{text:"Continue Workout",style:"cancel"}])},ee=G=>{const X=e.exercises.find(ye=>ye.id===G);return!X||X.sets.length===0?null:X.sets[X.sets.length-1]},ie=yq(g,y);return v.jsxs(Zn,{style:ie.safeArea,children:[v.jsx(Pn,{barStyle:"light-content",backgroundColor:g.primary}),v.jsxs(W,{style:ie.container,children:[v.jsxs(W,{style:ie.header,children:[v.jsx(_e,{style:ie.backButton,onPress:()=>n.navigate("Dashboard"),hitSlop:{top:10,bottom:10,left:10,right:10},children:v.jsx(j,{style:ie.backButtonText,children:""})}),v.jsxs(W,{style:ie.headerCenter,children:[v.jsx(j,{style:ie.headerTitle,children:"Active Workout"}),v.jsx(j,{style:ie.headerTime,children:e.startTime&&pq(e.startTime,D)})]}),v.jsx(_e,{style:ie.discardButton,onPress:Y,hitSlop:{top:10,bottom:10,left:10,right:10},children:v.jsx(j,{style:ie.discardButtonText,children:""})})]}),v.jsxs(ci,{style:ie.content,contentContainerStyle:ie.scrollContent,children:[e.exercises.length===0&&v.jsxs(W,{style:ie.emptyState,children:[v.jsx(j,{style:ie.emptyText,children:"No exercises yet"}),v.jsx(j,{style:ie.emptySubtext,children:'Tap "Add Exercise" to get started'})]}),e.exercises.map(G=>v.jsxs(W,{style:ie.exerciseCard,children:[v.jsxs(W,{style:ie.exerciseHeader,children:[v.jsx(j,{style:ie.exerciseName,children:G.name}),v.jsx(_e,{onPress:()=>me(G.id),hitSlop:{top:10,bottom:10,left:10,right:10},children:v.jsx(j,{style:ie.deleteButton,children:""})})]}),G.sets.map((X,ye)=>v.jsxs(W,{style:ie.setRow,children:[v.jsx(W,{style:ie.setNumberContainer,children:v.jsx(j,{style:ie.setNumber,children:ye+1})}),v.jsxs(j,{style:ie.setText,children:[X.weight," kg  ",X.reps," reps"]}),X.isWarmup&&v.jsx(j,{style:ie.warmupBadge,children:"WARMUP"}),v.jsx(_e,{onPress:()=>ue(G.id,X.id),hitSlop:{top:10,bottom:10,left:10,right:10},children:v.jsx(j,{style:ie.deleteSetButton,children:""})})]},X.id)),v.jsx(_e,{style:ie.addSetButton,onPress:()=>q(G.id),children:v.jsx(j,{style:ie.addSetButtonText,children:"+ Add Set"})})]},G.id))]}),v.jsxs(W,{style:ie.footer,children:[v.jsx(_e,{style:ie.addExerciseButton,onPress:()=>S(!0),children:v.jsx(j,{style:ie.addExerciseButtonText,children:"Add Exercise"})}),v.jsx(_e,{style:ie.finishButton,onPress:se,children:v.jsx(j,{style:ie.finishButtonText,children:"Finish"})})]}),v.jsx(dq,{visible:_,onSelect:L,onClose:()=>S(!1)}),v.jsx(hq,{visible:C,onSave:M,onClose:()=>{I(!1),x(null)},defaultValues:T?ee(T):null}),F&&v.jsx(fq,{visible:R,duration:F.defaultRestTime,onClose:()=>O(!1),onSkip:()=>O(!1)}),v.jsx(mq,{visible:z,onSave:ge,onCancel:()=>H(!1)})]})]})}function pq(n,e){const t=Math.max(0,e-new Date(n).getTime()),r=Math.floor(t/6e4),a=Math.floor(r/60),o=r%60;return a>0?`${a}:${o.toString().padStart(2,"0")}`:`${o} min`}function yq(n,e){return Ne.create({safeArea:{flex:1,backgroundColor:n.primary},container:{flex:1,backgroundColor:n.background},header:{backgroundColor:n.primary,padding:K.lg,flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingTop:K.xl},backButton:{width:40,height:40,justifyContent:"center",alignItems:"center"},backButtonText:{fontSize:24,color:n.textOnPrimary,fontWeight:"300"},headerCenter:{flex:1,alignItems:"center"},headerTitle:{fontSize:20,fontWeight:"bold",color:n.textOnPrimary},headerTime:{fontSize:14,color:n.textOnPrimary,opacity:.9,marginTop:2,fontWeight:"600"},discardButton:{width:40,height:40,justifyContent:"center",alignItems:"center"},discardButtonText:{fontSize:20,color:n.textOnPrimary},content:{flex:1},scrollContent:{padding:K.lg,paddingBottom:100},emptyState:{alignItems:"center",marginTop:100},emptyText:{fontSize:20,fontWeight:"600",color:n.textSecondary},emptySubtext:{fontSize:14,color:n.textMuted,marginTop:8},exerciseCard:{backgroundColor:n.surface,borderRadius:Pe.lg,padding:K.lg,marginBottom:K.lg,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:3,borderWidth:1,borderColor:n.border},exerciseHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:K.md},exerciseName:{fontSize:18,fontWeight:"700",color:n.text},deleteButton:{fontSize:20,color:n.textMuted,fontWeight:"300"},setRow:{flexDirection:"row",alignItems:"center",paddingVertical:K.md,borderBottomWidth:1,borderBottomColor:n.border},setNumberContainer:{width:24,height:24,borderRadius:12,backgroundColor:n.background,justifyContent:"center",alignItems:"center",marginRight:K.md,borderWidth:1,borderColor:n.border},setNumber:{fontSize:12,fontWeight:"600",color:n.textSecondary},setText:{flex:1,fontSize:16,color:n.text,fontWeight:"500"},warmupBadge:{backgroundColor:"rgba(255, 152, 0, 0.15)",paddingHorizontal:8,paddingVertical:2,borderRadius:4,fontSize:10,fontWeight:"700",color:"#FF9800",marginRight:10,overflow:"hidden"},deleteSetButton:{fontSize:18,color:n.danger,fontWeight:"300",paddingHorizontal:10},addSetButton:{marginTop:K.md,padding:K.md,backgroundColor:e?n.background:"#F0F0F0",borderRadius:Pe.md,alignItems:"center",borderWidth:1,borderColor:n.border},addSetButtonText:{fontSize:16,color:n.primary,fontWeight:"600"},footer:{flexDirection:"row",padding:K.lg,backgroundColor:n.surface,borderTopWidth:1,borderTopColor:n.border,gap:K.md},addExerciseButton:{flex:1,backgroundColor:n.surface,padding:K.lg,borderRadius:Pe.xl,alignItems:"center",borderWidth:2,borderColor:n.primary},addExerciseButtonText:{color:n.primary,fontSize:16,fontWeight:"700"},finishButton:{flex:1,backgroundColor:n.success,padding:K.lg,borderRadius:Pe.xl,alignItems:"center"},finishButtonText:{color:"#FFFFFF",fontSize:16,fontWeight:"700"}})}function vq({workout:n,onPress:e,onDelete:t,onDuplicate:r}){const{colors:a,isDarkMode:o}=Er(),u=_q(a),c=S=>new Date(S).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),h=S=>new Date(S).toLocaleDateString("en-US",{weekday:"long"}),f=(S,T)=>{if(!S||!T)return"N/A";const x=new Date(S),I=new Date(T).getTime()-x.getTime(),R=Math.floor(I/(1e3*60*60)),O=Math.floor(I%(1e3*60*60)/(1e3*60));return R>0?`${R}h ${O}m`:`${O}m`},g=()=>n.exercises.reduce((S,T)=>S+T.sets.length,0),y=()=>n.exercises.reduce((S,T)=>S+T.sets.filter(x=>!x.isWarmup).reduce((x,C)=>x+C.reps*C.weight,0),0),_=E.useCallback(()=>{ut.alert("Workout Actions","Choose an action",[{text:"Duplicate",onPress:r},{text:"Delete",onPress:t,style:"destructive"},{text:"Cancel",style:"cancel"}])},[t,r]);return v.jsxs(_e,{style:u.card,onPress:e,onLongPress:_,activeOpacity:.7,children:[v.jsx(W,{style:u.header,children:v.jsxs(W,{children:[v.jsxs(j,{style:u.date,children:[c(n.date),"  ",h(n.date)]}),v.jsxs(j,{style:u.duration,children:["Duration: ",f(n.startTime,n.endTime)]})]})}),v.jsxs(W,{style:u.stats,children:[v.jsxs(W,{style:u.statItem,children:[v.jsxs(j,{style:u.statValue,children:[" ",n.exercises.length]}),v.jsx(j,{style:u.statLabel,children:"exercises"})]}),v.jsxs(W,{style:u.statItem,children:[v.jsx(j,{style:u.statValue,children:g()}),v.jsx(j,{style:u.statLabel,children:"sets"})]}),v.jsxs(W,{style:u.statItem,children:[v.jsxs(j,{style:u.statValue,children:[" ",y().toFixed(0)," kg"]}),v.jsx(j,{style:u.statLabel,children:"total volume"})]})]}),n.exercises.length>0&&v.jsxs(W,{style:u.exerciseList,children:[n.exercises.slice(0,3).map(S=>v.jsxs(j,{style:u.exerciseName,children:[" ",S.name]},S.id)),n.exercises.length>3&&v.jsxs(j,{style:u.exerciseName,children:[" +",n.exercises.length-3," more"]})]})]})}function _q(n,e){return Ne.create({card:{backgroundColor:n.surface,borderRadius:Pe.lg,padding:K.lg,marginBottom:K.md,borderWidth:1,borderColor:n.border,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:2},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",marginBottom:K.md},date:{fontSize:17,fontWeight:"600",color:n.text,marginBottom:4},duration:{fontSize:14,color:n.textSecondary},stats:{flexDirection:"row",paddingVertical:K.md,borderTopWidth:1,borderBottomWidth:1,borderColor:n.border,marginBottom:K.md},statItem:{flex:1,alignItems:"center"},statValue:{fontSize:16,fontWeight:"600",color:n.text,marginBottom:4},statLabel:{fontSize:12,color:n.textSecondary},exerciseList:{gap:4},exerciseName:{fontSize:14,color:n.textSecondary}})}function bq({workouts:n,onWorkoutPress:e,onRefresh:t,refreshing:r}){const[a,o]=E.useState(new Date),{colors:u,isDarkMode:c}=Er(),h=Sq(u),f=E.useCallback(()=>{o(S=>{const T=new Date(S);return T.setMonth(T.getMonth()-1),T})},[]),g=E.useCallback(()=>{o(S=>{const T=new Date(S);return T.setMonth(T.getMonth()+1),T})},[]),y=E.useMemo(()=>{const S=a.getFullYear(),T=a.getMonth(),x=new Date(S,T,1),C=new Date(x);C.setDate(C.getDate()-C.getDay());const I=[],R=new Date(C),O=new Date;O.setHours(0,0,0,0);for(let z=0;z<42;z++){const H=R.getFullYear(),F=String(R.getMonth()+1).padStart(2,"0"),N=String(R.getDate()).padStart(2,"0"),D=`${H}-${F}-${N}`,V=n.filter(B=>B.date.split("T")[0]===D);I.push({date:new Date(R),workouts:V,isToday:R.getTime()===O.getTime(),isCurrentMonth:R.getMonth()===F}),R.setDate(R.getDate()+1)}return I},[a,n]),_=a.toLocaleDateString("en-US",{month:"long",year:"numeric"});return v.jsxs(ci,{style:h.container,refreshControl:v.jsx(hg,{refreshing:r,onRefresh:t,tintColor:u.primary,colors:[u.primary]}),children:[v.jsxs(W,{style:h.header,children:[v.jsx(_e,{onPress:f,style:h.navButton,children:v.jsx(j,{style:h.navText,children:""})}),v.jsx(j,{style:h.monthText,children:_}),v.jsx(_e,{onPress:g,style:h.navButton,children:v.jsx(j,{style:h.navText,children:""})})]}),v.jsx(W,{style:h.weekDays,children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(S=>v.jsx(j,{style:h.weekDayText,children:S},S))}),v.jsx(W,{style:h.calendar,children:y.map((S,T)=>v.jsxs(_e,{style:[h.dayCell,S.isToday&&h.todayCell,!S.isCurrentMonth&&h.otherMonthCell],onPress:()=>{(S.workouts.length===1||S.workouts.length>1)&&e(S.workouts[0].id)},disabled:S.workouts.length===0,children:[v.jsx(j,{style:[h.dayNumber,!S.isCurrentMonth&&h.otherMonthText,S.isToday&&h.todayText],children:S.date.getDate()}),S.workouts.length>0&&v.jsx(W,{style:h.workoutIndicator,children:S.workouts.length===1?v.jsx(W,{style:h.dot}):v.jsx(W,{style:h.badge,children:v.jsx(j,{style:h.badgeText,children:S.workouts.length})})})]},T))})]})}function Sq(n,e){return Ne.create({container:{flex:1,backgroundColor:n.background},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingHorizontal:K.lg,paddingVertical:K.md},navButton:{width:44,height:44,justifyContent:"center",alignItems:"center"},navText:{fontSize:32,color:n.primary,fontWeight:"300"},monthText:{fontSize:20,fontWeight:"600",color:n.text},weekDays:{flexDirection:"row",paddingHorizontal:K.lg,paddingBottom:K.sm},weekDayText:{flex:1,textAlign:"center",fontSize:12,fontWeight:"600",color:n.textSecondary},calendar:{flexDirection:"row",flexWrap:"wrap",paddingHorizontal:K.lg},dayCell:{width:`${100/7}%`,aspectRatio:1,justifyContent:"center",alignItems:"center",position:"relative"},todayCell:{backgroundColor:n.surface,borderRadius:8,borderWidth:1,borderColor:n.border},otherMonthCell:{opacity:.3},dayNumber:{fontSize:16,color:n.text},todayText:{color:n.primary,fontWeight:"600"},otherMonthText:{color:n.textMuted},workoutIndicator:{position:"absolute",bottom:4},dot:{width:6,height:6,borderRadius:3,backgroundColor:n.primary},badge:{backgroundColor:n.primary,borderRadius:8,paddingHorizontal:5,paddingVertical:1,minWidth:16,alignItems:"center"},badgeText:{fontSize:10,fontWeight:"600",color:n.textOnPrimary}})}function Tq({navigation:n}){const{workoutHistory:e,isLoading:t,refreshWorkouts:r,deleteWorkout:a}=Lo(),{colors:o,isDarkMode:u}=Er(),[c,h]=E.useState("list"),[f,g]=E.useState(!1),y=E.useMemo(()=>e.filter(O=>O.isCompleted).sort((O,z)=>new Date(z.date).getTime()-new Date(O.date).getTime()),[e]),_=E.useCallback(async()=>{g(!0),await r(),g(!1)},[r]),S=E.useCallback(O=>{ut.alert("Delete Workout","Are you sure you want to delete this workout? This action cannot be undone.",[{text:"Cancel",style:"cancel"},{text:"Delete",style:"destructive",onPress:async()=>{await a(O)}}])},[a]),T=E.useCallback(async O=>{ut.alert("Success","Workout duplicated and ready to start!")},[]),x=E.useCallback(O=>{n.navigate("WorkoutDetail",{workoutId:O})},[n]),C=E.useCallback(({item:O})=>v.jsx(vq,{workout:O,onPress:()=>x(O.id),onDelete:()=>S(O.id),onDuplicate:()=>T(O.id)}),[x,S,T]),I=Eq(o),R=E.useMemo(()=>v.jsxs(W,{style:I.emptyContainer,children:[v.jsx(j,{style:I.emptyText,children:"No workouts yet"}),v.jsx(j,{style:I.emptySubtext,children:"Start your first workout to see it here!"})]}),[I]);return t?v.jsx(Zn,{style:I.safeArea,children:v.jsx(W,{style:I.loadingContainer,children:v.jsx(Kd,{size:"large",color:o.primary})})}):v.jsxs(Zn,{style:I.safeArea,children:[v.jsx(Pn,{barStyle:u?"light-content":"dark-content",backgroundColor:o.background}),v.jsxs(W,{style:I.container,children:[v.jsxs(W,{style:I.header,children:[v.jsx(_e,{style:I.backButton,onPress:()=>n.navigate("Dashboard"),hitSlop:{top:10,bottom:10,left:10,right:10},children:v.jsx(j,{style:I.backButtonText,children:" Dashboard"})}),v.jsx(j,{style:I.title,children:"History"}),v.jsx(W,{style:I.headerSpacer})]}),v.jsx(W,{style:I.viewToggleContainer,children:v.jsxs(W,{style:I.viewToggle,children:[v.jsx(_e,{style:[I.toggleButton,c==="list"&&I.toggleButtonActive],onPress:()=>h("list"),children:v.jsx(j,{style:[I.toggleText,c==="list"&&I.toggleTextActive],children:"List"})}),v.jsx(_e,{style:[I.toggleButton,c==="calendar"&&I.toggleButtonActive],onPress:()=>h("calendar"),children:v.jsx(j,{style:[I.toggleText,c==="calendar"&&I.toggleTextActive],children:"Calendar"})})]})}),c==="list"?v.jsx(fg,{data:y,renderItem:C,keyExtractor:O=>O.id,contentContainerStyle:I.listContent,refreshControl:v.jsx(hg,{refreshing:f,onRefresh:_,tintColor:o.primary,colors:[o.primary]}),ListEmptyComponent:R,initialNumToRender:10,maxToRenderPerBatch:10,windowSize:5,removeClippedSubviews:!0}):v.jsx(bq,{workouts:y,onWorkoutPress:x,onRefresh:_,refreshing:f}),v.jsx(Vo,{navigation:n,currentScreen:"History"})]})]})}function Eq(n,e){return Ne.create({safeArea:{flex:1,backgroundColor:n.background},container:{flex:1,backgroundColor:n.background},header:{paddingHorizontal:K.lg,paddingVertical:K.md,backgroundColor:n.background,borderBottomWidth:1,borderBottomColor:n.border,flexDirection:"row",alignItems:"center",justifyContent:"space-between"},backButton:{paddingVertical:K.xs},backButtonText:{fontSize:16,color:n.primary,fontWeight:"600"},title:{...we.title3,color:n.text},headerSpacer:{width:80},viewToggleContainer:{paddingHorizontal:K.lg,paddingVertical:K.md,backgroundColor:n.background},viewToggle:{flexDirection:"row",backgroundColor:n.surface,borderRadius:Pe.md,padding:2,borderWidth:1,borderColor:n.border},toggleButton:{flex:1,paddingVertical:8,alignItems:"center",borderRadius:Pe.sm-2},toggleButtonActive:{backgroundColor:n.primary},toggleText:{color:n.textSecondary,fontSize:14,fontWeight:"600"},toggleTextActive:{color:n.textOnPrimary},listContent:{paddingHorizontal:K.lg,paddingTop:K.md,paddingBottom:100},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:n.background},emptyContainer:{flex:1,justifyContent:"center",alignItems:"center",paddingVertical:100},emptyText:{fontSize:20,fontWeight:"600",color:n.textSecondary,marginBottom:K.sm},emptySubtext:{fontSize:16,color:n.textMuted,textAlign:"center"}})}function wq(n){const[e,t]=E.useState(null),[r,a]=E.useState(!0),o=E.useCallback(async()=>{try{const h=await Dn.getWorkoutById(n);t(h)}catch(h){console.error("Error loading workout:",h)}finally{a(!1)}},[n]);E.useEffect(()=>{o()},[o]);const u=E.useCallback(async h=>{try{if(!e)return;const f={...e,...h,updatedAt:wi()};await Dn.saveWorkout(f),t(f)}catch(f){throw console.error("Error updating workout:",f),f}},[e]),c=E.useCallback(async()=>{try{if(!e)return;const h={...e,id:h_(),date:wi(),startTime:wi(),endTime:void 0,isCompleted:!1,notes:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),exercises:e.exercises.map(f=>({...f,id:h_(),workoutId:"",sets:f.sets.map(g=>({...g,id:h_(),exerciseId:"",createdAt:new Date().toISOString()})),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}))};h.exercises.forEach(f=>{f.workoutId=h.id,f.sets.forEach(g=>{g.exerciseId=f.id})}),await Dn.saveActiveWorkout(h)}catch(h){throw console.error("Error duplicating as template:",h),h}},[e]);return{workout:e,isLoading:r,updateWorkout:u,duplicateAsTemplate:c}}function h_(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}function xq({exercise:n,isEditing:e=!1}){const{colors:t,isDarkMode:r}=Er(),a=Cq(t),o=()=>n.sets.filter(u=>!u.isWarmup).reduce((u,c)=>u+c.reps*c.weight,0);return v.jsxs(W,{style:a.card,children:[v.jsx(W,{style:a.header,children:v.jsxs(j,{style:a.exerciseName,children:[" ",n.name]})}),n.sets.sort((u,c)=>u.order-c.order).map((u,c)=>v.jsxs(W,{style:a.setRow,children:[v.jsxs(j,{style:a.setNumber,children:["Set ",c+1]}),v.jsxs(j,{style:a.setText,children:[u.reps," reps @ ",u.weight," kg"]}),u.isWarmup&&v.jsx(W,{style:a.warmupBadge,children:v.jsx(j,{style:a.warmupText,children:"W"})}),u.rpe&&v.jsxs(j,{style:a.rpeText,children:["RPE ",u.rpe]})]},u.id)),v.jsxs(W,{style:a.volumeRow,children:[v.jsx(j,{style:a.volumeLabel,children:"Total Volume:"}),v.jsxs(j,{style:a.volumeValue,children:[o().toFixed(0)," kg"]})]}),n.notes&&v.jsxs(W,{style:a.notesContainer,children:[v.jsx(j,{style:a.notesLabel,children:"Notes:"}),v.jsx(j,{style:a.notesText,children:n.notes})]})]})}function Cq(n,e){return Ne.create({card:{backgroundColor:n.surface,borderRadius:Pe.lg,padding:K.lg,marginBottom:K.lg,borderWidth:1,borderColor:n.border,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:2},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:K.md,paddingBottom:K.md,borderBottomWidth:1,borderBottomColor:n.border},exerciseName:{fontSize:18,fontWeight:"600",color:n.text},setRow:{flexDirection:"row",alignItems:"center",paddingVertical:K.sm,gap:12},setNumber:{fontSize:15,color:n.textSecondary,width:50},setText:{fontSize:15,color:n.text,flex:1},warmupBadge:{backgroundColor:n.primary,borderRadius:4,paddingHorizontal:6,paddingVertical:2},warmupText:{fontSize:12,fontWeight:"600",color:n.textOnPrimary},rpeText:{fontSize:13,color:n.textSecondary},volumeRow:{flexDirection:"row",justifyContent:"space-between",marginTop:K.md,paddingTop:K.md,borderTopWidth:1,borderTopColor:n.border},volumeLabel:{fontSize:15,color:n.textSecondary},volumeValue:{fontSize:15,fontWeight:"600",color:n.text},notesContainer:{marginTop:K.md,paddingTop:K.md,borderTopWidth:1,borderTopColor:n.border},notesLabel:{fontSize:13,color:n.textSecondary,marginBottom:4},notesText:{fontSize:14,color:n.text,lineHeight:20}})}function Rq({route:n,navigation:e}){const{workoutId:t}=n.params,{workout:r,isLoading:a,duplicateAsTemplate:o}=wq(t),{deleteWorkout:u}=Lo(),{colors:c,isDarkMode:h}=Er(),[f,g]=E.useState(!1);E.useEffect(()=>{!r&&!a&&e.goBack()},[r,a,e]);const y=E.useCallback(()=>{ut.alert("Delete Workout","Are you sure you want to delete this workout? This action cannot be undone.",[{text:"Cancel",style:"cancel"},{text:"Delete",style:"destructive",onPress:async()=>{await u(t),e.goBack()}}])},[u,t,e]),_=E.useCallback(async()=>{await o(),ut.alert("Success","Workout template created!",[{text:"OK",onPress:()=>e.navigate("ActiveWorkout")}])},[o,e]),S=I=>new Date(I).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),T=(I,R)=>{if(!I||!R)return"N/A";const O=new Date(I),H=new Date(R).getTime()-O.getTime(),F=Math.floor(H/(1e3*60*60)),N=Math.floor(H%(1e3*60*60)/(1e3*60));return F>0?`${F}h ${N}m`:`${N}m`},x=()=>r?r.exercises.reduce((I,R)=>I+R.sets.filter(O=>!O.isWarmup).reduce((O,z)=>O+z.reps*z.weight,0),0):0,C=Aq(c);return a||!r?v.jsx(Zn,{style:C.safeArea,children:v.jsx(W,{style:C.loadingContainer,children:v.jsx(Kd,{size:"large",color:c.primary})})}):v.jsxs(Zn,{style:C.safeArea,children:[v.jsx(Pn,{barStyle:h?"light-content":"dark-content",backgroundColor:c.background}),v.jsxs(W,{style:C.container,children:[v.jsxs(W,{style:C.header,children:[v.jsx(_e,{style:C.backButton,onPress:()=>e.goBack(),children:v.jsx(j,{style:C.backButtonText,children:" History"})}),v.jsxs(W,{style:C.headerActions,children:[v.jsx(_e,{style:C.iconButton,onPress:_,children:v.jsx(j,{style:C.iconButtonText,children:""})}),v.jsx(_e,{style:C.iconButton,onPress:y,children:v.jsx(j,{style:C.iconButtonText,children:""})})]})]}),v.jsxs(ci,{style:C.content,contentContainerStyle:C.scrollContent,children:[v.jsxs(W,{style:C.metaSection,children:[v.jsx(j,{style:C.dateText,children:S(r.date)}),v.jsxs(W,{style:C.metaRow,children:[v.jsxs(W,{style:C.metaItem,children:[v.jsx(j,{style:C.metaLabel,children:"Duration"}),v.jsx(j,{style:C.metaValue,children:T(r.startTime,r.endTime)})]}),r.bodyweight&&v.jsxs(W,{style:C.metaItem,children:[v.jsx(j,{style:C.metaLabel,children:"Bodyweight"}),v.jsxs(j,{style:C.metaValue,children:[r.bodyweight," kg"]})]}),v.jsxs(W,{style:C.metaItem,children:[v.jsx(j,{style:C.metaLabel,children:"Total Volume"}),v.jsxs(j,{style:C.metaValue,children:[x().toFixed(0)," kg"]})]})]})]}),r.notes&&v.jsxs(W,{style:C.notesSection,children:[v.jsx(j,{style:C.sectionTitle,children:"Notes"}),v.jsx(j,{style:C.notesText,children:r.notes})]}),v.jsxs(W,{style:C.exercisesSection,children:[v.jsxs(j,{style:C.sectionTitle,children:["Exercises (",r.exercises.length,")"]}),r.exercises.sort((I,R)=>I.order-R.order).map(I=>v.jsx(xq,{exercise:I,isEditing:f},I.id))]})]}),v.jsx(Vo,{navigation:e,currentScreen:"WorkoutDetail"})]})]})}function Aq(n,e){return Ne.create({safeArea:{flex:1,backgroundColor:n.background},container:{flex:1,backgroundColor:n.background},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingHorizontal:K.lg,paddingVertical:K.md,backgroundColor:n.background,borderBottomWidth:1,borderBottomColor:n.border},backButton:{paddingVertical:8},backButtonText:{fontSize:17,color:n.primary},headerActions:{flexDirection:"row",gap:16},iconButton:{width:44,height:44,justifyContent:"center",alignItems:"center"},iconButtonText:{fontSize:20,color:n.text},content:{flex:1},scrollContent:{paddingHorizontal:K.lg,paddingBottom:40},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:n.background},metaSection:{marginTop:K.xl},dateText:{...we.title1,color:n.text,marginBottom:K.lg},metaRow:{flexDirection:"row",gap:16},metaItem:{flex:1,backgroundColor:n.surface,padding:K.lg,borderRadius:Pe.lg,borderWidth:1,borderColor:n.border},metaLabel:{fontSize:13,color:n.textSecondary,marginBottom:4},metaValue:{fontSize:17,fontWeight:"600",color:n.text},notesSection:{marginTop:K.xl},sectionTitle:{...we.title3,color:n.text,marginBottom:K.md},notesText:{fontSize:15,color:n.textSecondary,lineHeight:22,backgroundColor:n.surface,padding:K.lg,borderRadius:Pe.lg,borderWidth:1,borderColor:n.border},exercisesSection:{marginTop:K.xl}})}class Au{static calculate(e){const t=e.length;if(t===0)return{slope:0,intercept:0,rSquared:0};if(t===1)return{slope:0,intercept:e[0].y,rSquared:1};const r=e.reduce((x,C)=>x+C.x,0),a=e.reduce((x,C)=>x+C.y,0),o=e.reduce((x,C)=>x+C.x*C.y,0),u=e.reduce((x,C)=>x+C.x*C.x,0),c=e.reduce((x,C)=>x+C.y*C.y,0),h=r/t,f=a/t,g=(t*o-r*a)/(t*u-r*r),y=f-g*h,_=c-t*f*f,S=e.reduce((x,C)=>{const I=g*C.x+y,R=C.y-I;return x+R*R},0),T=_===0?1:1-S/_;return{slope:g,intercept:y,rSquared:Math.max(0,Math.min(1,T))}}static predict(e,t){return e.slope*t+e.intercept}static isMeaningful(e,t=.5){return e.rSquared>=t}}class BO{static calculateExerciseStats(e,t){const r=Ci.getSessionsWithExercise(e,t);if(r.length===0)return null;const a=Ci.getMaxWeight(e,t),o=Ci.getTotalVolume(e,t),u=Ci.getMaxWeightPerSession(e,t),c=this.calculateProgression(u),h=[...r].sort((_,S)=>new Date(_.date).getTime()-new Date(S.date).getTime()),f=h[0],g=h[h.length-1],y=this.calculateFrequency(r);return{exerciseName:e,maxWeight:a?.weight||0,maxWeightDate:a?.date||"",totalVolume:o,averageVolumePerSession:r.length>0?o/r.length:0,sessionCount:r.length,firstSessionDate:f.date,lastSessionDate:g.date,progression:c,frequencyPerWeek:y}}static calculateProgression(e){if(e.length===0)return{slope:0,rSquared:0,trend:"plateauing",projectedNextPR:0};const t=e.map((u,c)=>({x:c,y:u.value})),r=Au.calculate(t),a=this.classifyTrend(r.slope,r.rSquared),o=Au.predict(r,e.length);return{slope:r.slope,rSquared:r.rSquared,trend:a,projectedNextPR:Math.max(0,o)}}static classifyTrend(e,t){if(t<.3)return"plateauing";const r=.1;return e>r?"improving":e<-r?"declining":"plateauing"}static calculateFrequency(e){if(e.length===0)return 0;const t=[...e].sort((c,h)=>new Date(c.date).getTime()-new Date(h.date).getTime()),r=new Date(t[0].date),a=new Date(t[t.length-1].date),u=Math.max(1,(a.getTime()-r.getTime())/(1e3*60*60*24))/7;return e.length/u}static calculateAllExerciseStats(e){return Ci.getAllExerciseNames(e).map(r=>this.calculateExerciseStats(r,e)).filter(r=>r!==null).sort((r,a)=>a.sessionCount-r.sessionCount)}}class zO{static buildWeightChart(e,t,r="all",a=[]){const o=Ci.filterByTimeRange(t,r),c=Ci.getMaxWeightPerSession(e,o).map(y=>({date:y.date,value:y.value,isPR:this.isPR(y.date,y.value,a,"max_weight"),workoutId:y.workoutId})),h=c.filter(y=>y.isPR),f=c.map((y,_)=>({x:_,y:y.value})),g=c.length>=3?Au.calculate(f):void 0;return{xAxis:"date",yAxis:"weight",dataPoints:c,prMarkers:h,trendLine:g&&Au.isMeaningful(g)?g:void 0,timeRange:r}}static buildVolumeChart(e,t,r="all",a=[]){const o=Ci.filterByTimeRange(t,r),c=this.getVolumePerSession(e,o).map(y=>({date:y.date,value:y.volume,isPR:this.isPR(y.date,y.volume,a,"max_volume"),workoutId:y.workoutId})),h=c.filter(y=>y.isPR),f=c.map((y,_)=>({x:_,y:y.value})),g=c.length>=3?Au.calculate(f):void 0;return{xAxis:"date",yAxis:"volume",dataPoints:c,prMarkers:h,trendLine:g&&Au.isMeaningful(g)?g:void 0,timeRange:r}}static getVolumePerSession(e,t){const r=new Map,a=Ci.getAllSetsForExercise(e,t);for(const o of a){const u=o.reps*o.weight,c=r.get(o.date);c?c.volume+=u:r.set(o.date,{volume:u,workoutId:o.workoutId})}return Array.from(r.entries()).map(([o,u])=>({date:o,volume:u.volume,workoutId:u.workoutId})).sort((o,u)=>new Date(o.date).getTime()-new Date(u.date).getTime())}static isPR(e,t,r,a){return r.some(o=>o.type===a&&o.date===e&&Math.abs(o.value-t)<.01)}}function Iq(n,e){return E.useMemo(()=>n?BO.calculateExerciseStats(n,e):null,[n,e])}function kq(n){return E.useMemo(()=>BO.calculateAllExerciseStats(n),[n])}function Oq({navigation:n}){const{workoutHistory:e}=Lo(),t=kq(e),[r,a]=E.useState("all"),{colors:o,isDarkMode:u}=Er(),c=Ci.getAllExerciseNames(e),h=y=>{switch(y){case"improving":return"";case"declining":return"";case"plateauing":return"";default:return""}},f=y=>{switch(y){case"improving":return o.success;case"declining":return o.danger;case"plateauing":return o.warning;default:return o.textMuted}},g=Dq(o,u);return v.jsxs(Zn,{style:g.safeArea,children:[v.jsx(Pn,{barStyle:u?"light-content":"dark-content",backgroundColor:o.background}),v.jsxs(W,{style:g.container,children:[v.jsxs(W,{style:g.header,children:[v.jsx(_e,{onPress:()=>n.navigate("Dashboard"),children:v.jsx(j,{style:g.backButton,children:" Dashboard"})}),v.jsx(j,{style:g.title,children:"Progress & Stats"}),v.jsx(W,{style:g.headerSpacer})]}),v.jsx(W,{style:g.timeRangeContainer,children:["4w","3m","1y","all"].map(y=>v.jsx(_e,{style:[g.timeRangeButton,r===y&&g.timeRangeButtonActive],onPress:()=>a(y),children:v.jsx(j,{style:[g.timeRangeText,r===y&&g.timeRangeTextActive],children:y==="4w"?"4 Weeks":y==="3m"?"3 Months":y==="1y"?"1 Year":"All Time"})},y))}),v.jsxs(ci,{style:g.content,children:[v.jsxs(W,{style:g.summaryCard,children:[v.jsx(j,{style:g.sectionTitle,children:"Overall Summary"}),v.jsxs(W,{style:g.summaryRow,children:[v.jsxs(W,{style:g.summaryItem,children:[v.jsx(j,{style:g.summaryValue,children:e.filter(y=>y.isCompleted).length}),v.jsx(j,{style:g.summaryLabel,children:"Total Workouts"})]}),v.jsxs(W,{style:g.summaryItem,children:[v.jsx(j,{style:g.summaryValue,children:c.length}),v.jsx(j,{style:g.summaryLabel,children:"Unique Exercises"})]}),v.jsxs(W,{style:g.summaryItem,children:[v.jsx(j,{style:g.summaryValue,children:t.length}),v.jsx(j,{style:g.summaryLabel,children:"Tracked"})]})]})]}),v.jsxs(W,{style:g.exerciseListCard,children:[v.jsx(j,{style:g.sectionTitle,children:"Exercise Progress"}),t.length===0?v.jsx(j,{style:g.emptyText,children:"No exercise data yet. Complete workouts to see stats."}):t.map(y=>v.jsxs(_e,{style:g.exerciseItem,onPress:()=>{n.navigate("ExerciseDetail",{exerciseName:y.exerciseName})},children:[v.jsxs(W,{style:g.exerciseHeader,children:[v.jsx(j,{style:g.exerciseName,children:y.exerciseName}),v.jsxs(W,{style:g.trendBadge,children:[v.jsx(j,{style:[g.trendIcon,{color:f(y.progression.trend)}],children:h(y.progression.trend)}),v.jsx(j,{style:g.trendText,children:y.progression.trend})]})]}),v.jsxs(W,{style:g.statsRow,children:[v.jsxs(W,{style:g.statItem,children:[v.jsx(j,{style:g.statLabel,children:"Max Weight"}),v.jsxs(j,{style:g.statValue,children:[y.maxWeight.toFixed(1)," kg"]})]}),v.jsxs(W,{style:g.statItem,children:[v.jsx(j,{style:g.statLabel,children:"Sessions"}),v.jsx(j,{style:g.statValue,children:y.sessionCount})]}),v.jsxs(W,{style:g.statItem,children:[v.jsx(j,{style:g.statLabel,children:"Frequency"}),v.jsxs(j,{style:g.statValue,children:[y.frequencyPerWeek.toFixed(1),"/wk"]})]})]}),v.jsxs(W,{style:g.volumeRow,children:[v.jsx(j,{style:g.volumeLabel,children:"Total Volume:"}),v.jsxs(j,{style:g.volumeValue,children:[y.totalVolume.toLocaleString()," kg"]})]}),y.progression.rSquared>.5&&v.jsxs(W,{style:g.projectionRow,children:[v.jsx(j,{style:g.projectionLabel,children:"Projected Next PR:"}),v.jsxs(j,{style:g.projectionValue,children:[y.progression.projectedNextPR.toFixed(1)," kg"]})]})]},y.exerciseName))]}),v.jsx(W,{style:g.footerSpacer})]}),v.jsx(Vo,{navigation:n,currentScreen:"Stats"})]})]})}function Dq(n,e){return Ne.create({safeArea:{flex:1,backgroundColor:n.background},container:{flex:1,backgroundColor:n.background},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingHorizontal:K.lg,paddingVertical:K.md,backgroundColor:n.background,borderBottomWidth:1,borderBottomColor:n.border},backButton:{fontSize:16,color:n.primary,fontWeight:"600"},title:{...we.title3,color:n.text},headerSpacer:{width:80},timeRangeContainer:{flexDirection:"row",backgroundColor:n.background,paddingHorizontal:K.lg,paddingVertical:K.md,gap:8},timeRangeButton:{flex:1,paddingVertical:8,paddingHorizontal:12,borderRadius:Pe.md,backgroundColor:n.surface,alignItems:"center",borderWidth:1,borderColor:n.border},timeRangeButtonActive:{backgroundColor:n.primary,borderColor:n.primary},timeRangeText:{fontSize:12,fontWeight:"600",color:n.textSecondary},timeRangeTextActive:{color:n.textOnPrimary},content:{flex:1,padding:K.lg},summaryCard:{backgroundColor:n.surface,borderRadius:Pe.lg,padding:K.lg,marginBottom:K.lg,elevation:2,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,borderWidth:1,borderColor:n.border},sectionTitle:{...we.headline,color:n.text,marginBottom:K.lg},summaryRow:{flexDirection:"row",justifyContent:"space-around"},summaryItem:{alignItems:"center"},summaryValue:{fontSize:28,fontWeight:"bold",color:n.primary},summaryLabel:{fontSize:12,color:n.textSecondary,marginTop:4},exerciseListCard:{backgroundColor:n.surface,borderRadius:Pe.lg,padding:K.lg,elevation:2,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,borderWidth:1,borderColor:n.border},emptyText:{textAlign:"center",color:n.textMuted,fontSize:14,fontStyle:"italic",paddingVertical:20},exerciseItem:{paddingVertical:K.lg,borderBottomWidth:1,borderBottomColor:n.border},exerciseHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:K.md},exerciseName:{fontSize:16,fontWeight:"600",color:n.text,flex:1},trendBadge:{flexDirection:"row",alignItems:"center",backgroundColor:e?n.background:"#f5f5f5",paddingHorizontal:12,paddingVertical:6,borderRadius:16,gap:4},trendIcon:{fontSize:16,fontWeight:"bold"},trendText:{fontSize:12,color:n.textSecondary,textTransform:"capitalize"},statsRow:{flexDirection:"row",justifyContent:"space-between",marginBottom:K.md},statItem:{flex:1},statLabel:{fontSize:11,color:n.textMuted,marginBottom:4},statValue:{fontSize:15,fontWeight:"600",color:n.text},volumeRow:{flexDirection:"row",justifyContent:"space-between",marginTop:8},volumeLabel:{fontSize:12,color:n.textSecondary},volumeValue:{fontSize:12,fontWeight:"600",color:n.text},projectionRow:{flexDirection:"row",justifyContent:"space-between",marginTop:8,paddingTop:8,borderTopWidth:1,borderTopColor:n.border},projectionLabel:{fontSize:12,color:n.primary},projectionValue:{fontSize:12,fontWeight:"600",color:n.primary},footerSpacer:{height:40}})}function Nq(n,e,t="all",r=[]){return E.useMemo(()=>n?zO.buildWeightChart(n,e,t,r):null,[n,e,t,r])}function Mq(n,e,t="all",r=[]){return E.useMemo(()=>n?zO.buildVolumeChart(n,e,t,r):null,[n,e,t,r])}const Pq=wl.get("window").width;function Lq({route:n,navigation:e}){const{exerciseName:t}=n.params,{workoutHistory:r}=Lo(),[a,o]=E.useState("all"),[u,c]=E.useState("weight"),{colors:h,isDarkMode:f}=Er(),g=Iq(t,r),y=Nq(t,r,a,[]),_=Mq(t,r,a,[]),S=u==="weight"?y:_,T=I=>{switch(I){case"improving":return h.success;case"declining":return h.danger;case"plateauing":return h.warning;default:return h.textMuted}},x=Vq(h),C=()=>{if(!S||S.dataPoints.length===0)return v.jsx(W,{style:x.chartPlaceholder,children:v.jsx(j,{style:x.placeholderText,children:"No data available for this time range"})});const I=Math.max(...S.dataPoints.map(N=>N.value)),R=Math.min(...S.dataPoints.map(N=>N.value)),O=I-R||1,z=200,H=Pq-80,F=S.dataPoints.length>1?H/(S.dataPoints.length-1):H/2;return v.jsxs(W,{style:x.chartContainer,children:[v.jsxs(W,{style:[x.chart,{height:z}],children:[v.jsxs(W,{style:x.yAxis,children:[v.jsx(j,{style:x.axisLabel,children:I.toFixed(0)}),v.jsx(j,{style:x.axisLabel,children:((I+R)/2).toFixed(0)}),v.jsx(j,{style:x.axisLabel,children:R.toFixed(0)})]}),v.jsxs(W,{style:x.chartArea,children:[[0,1,2].map(N=>v.jsx(W,{style:[x.gridLine,{top:z/2*N-1}]},N)),S.dataPoints.map((N,D)=>{const V=D*F,B=(N.value-R)/O,L=z-B*z-8,q=S.dataPoints[D+1];let M=0,ue=0;if(q){const me=(D+1)*F,Y=(q.value-R)/O,se=z-Y*z-8;M=Math.sqrt(Math.pow(me-V,2)+Math.pow(se-L,2)),ue=Math.atan2(se-L,me-V)*(180/Math.PI)}return v.jsxs(W,{children:[q&&v.jsx(W,{style:[x.chartLine,{left:V+8,top:L+8,width:M,transform:[{rotate:`${ue}deg`}]}]}),v.jsx(W,{style:[x.dataPoint,{left:V,top:L},N.isPR?x.prPoint:x.normalPoint],children:N.isPR&&v.jsx(j,{style:x.prMarker,children:""})})]},N.workoutId+D)}),S.trendLine&&v.jsx(W,{style:x.trendLineContainer,children:S.dataPoints.map((N,D)=>{const V=D*F+8,L=(S.trendLine.slope*D+S.trendLine.intercept-R)/O,q=z-L*z;if(D===0)return null;const ue=(S.trendLine.slope*(D-1)+S.trendLine.intercept-R)/O,me=z-ue*z,Y=(D-1)*F+8,se=Math.sqrt(Math.pow(V-Y,2)+Math.pow(q-me,2)),ge=Math.atan2(q-me,V-Y)*(180/Math.PI);return v.jsx(W,{style:[x.trendLine,{left:Y,top:me,width:se,transform:[{rotate:`${ge}deg`}]}]},`trend-${D}`)})})]})]}),v.jsx(W,{style:x.xAxis,children:S.dataPoints.length>0&&v.jsxs(v.Fragment,{children:[v.jsx(j,{style:x.axisLabel,children:new Date(S.dataPoints[0].date).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),v.jsx(j,{style:x.axisLabel,children:new Date(S.dataPoints[S.dataPoints.length-1].date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]})})]})};return g?v.jsxs(Zn,{style:x.container,children:[v.jsx(Pn,{barStyle:f?"light-content":"dark-content",backgroundColor:h.background}),v.jsxs(W,{style:{flex:1},children:[v.jsxs(W,{style:x.header,children:[v.jsx(_e,{onPress:()=>e.navigate("Stats"),children:v.jsx(j,{style:x.backButton,children:" Stats"})}),v.jsx(j,{style:x.title,numberOfLines:1,children:t}),v.jsx(W,{style:x.headerSpacer})]}),v.jsxs(ci,{style:x.content,children:[v.jsxs(W,{style:x.summaryCard,children:[v.jsxs(W,{style:x.statRow,children:[v.jsxs(W,{style:x.statBox,children:[v.jsxs(j,{style:x.statValue,children:[g.maxWeight.toFixed(1)," kg"]}),v.jsx(j,{style:x.statLabel,children:"Max Weight"}),v.jsx(j,{style:x.statDate,children:new Date(g.maxWeightDate).toLocaleDateString()})]}),v.jsxs(W,{style:x.statBox,children:[v.jsx(j,{style:x.statValue,children:g.sessionCount}),v.jsx(j,{style:x.statLabel,children:"Sessions"}),v.jsxs(j,{style:x.statDate,children:[g.frequencyPerWeek.toFixed(1),"/wk"]})]})]}),v.jsxs(W,{style:[x.statRow,x.statRowMargin],children:[v.jsxs(W,{style:x.statBox,children:[v.jsx(j,{style:x.statValue,children:g.totalVolume.toLocaleString()}),v.jsx(j,{style:x.statLabel,children:"Total Volume (kg)"})]}),v.jsxs(W,{style:x.statBox,children:[v.jsxs(j,{style:[x.statValue,{color:T(g.progression.trend)}],children:[g.progression.trend==="improving"?"":g.progression.trend==="declining"?"":""," ",g.progression.trend]}),v.jsx(j,{style:x.statLabel,children:"Trend"})]})]})]}),v.jsx(W,{style:x.timeRangeContainer,children:["4w","3m","1y","all"].map(I=>v.jsx(_e,{style:[x.timeRangeButton,a===I&&x.timeRangeButtonActive],onPress:()=>o(I),children:v.jsx(j,{style:[x.timeRangeText,a===I&&x.timeRangeTextActive],children:I==="4w"?"4W":I==="3m"?"3M":I==="1y"?"1Y":"All"})},I))}),v.jsxs(W,{style:x.chartTypeContainer,children:[v.jsx(_e,{style:[x.chartTypeButton,u==="weight"&&x.chartTypeButtonActive],onPress:()=>c("weight"),children:v.jsx(j,{style:[x.chartTypeText,u==="weight"&&x.chartTypeTextActive],children:"Weight Progress"})}),v.jsx(_e,{style:[x.chartTypeButton,u==="volume"&&x.chartTypeButtonActive],onPress:()=>c("volume"),children:v.jsx(j,{style:[x.chartTypeText,u==="volume"&&x.chartTypeTextActive],children:"Volume Progress"})})]}),v.jsxs(W,{style:x.chartCard,children:[v.jsx(j,{style:x.chartTitle,children:u==="weight"?"Weight Progression":"Volume Progression"}),C()]}),g.progression.rSquared>.5&&v.jsxs(W,{style:x.infoCard,children:[v.jsx(j,{style:x.infoTitle,children:"Progression Insights"}),v.jsxs(j,{style:x.infoText,children:["R Score: ",g.progression.rSquared.toFixed(2)," (",g.progression.rSquared>.7?"Strong":"Moderate"," correlation)"]}),v.jsxs(j,{style:x.infoText,children:["Projected Next PR: ",g.progression.projectedNextPR.toFixed(1)," kg"]}),v.jsxs(j,{style:x.infoText,children:["Rate of change: ",g.progression.slope>0?"+":"",g.progression.slope.toFixed(2)," kg per session"]})]}),v.jsx(W,{style:x.footerSpacer})]}),v.jsx(Vo,{navigation:e,currentScreen:"ExerciseDetail"})]})]}):v.jsxs(Zn,{style:x.container,children:[v.jsxs(W,{style:x.header,children:[v.jsx(_e,{onPress:()=>e.navigate("Stats"),children:v.jsx(j,{style:x.backButton,children:" Stats"})}),v.jsx(j,{style:x.title,children:"Exercise Details"}),v.jsx(W,{style:x.headerSpacer})]}),v.jsx(W,{style:x.emptyContainer,children:v.jsx(j,{style:x.emptyText,children:"No data available for this exercise"})})]})}function Vq(n,e){return Ne.create({container:{flex:1,backgroundColor:n.background},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingHorizontal:K.lg,paddingVertical:K.md,backgroundColor:n.background,borderBottomWidth:1,borderBottomColor:n.border},backButton:{fontSize:16,color:n.primary,fontWeight:"600"},title:{...we.headline,fontWeight:"bold",color:n.text,flex:1,textAlign:"center",marginHorizontal:10},content:{flex:1,padding:K.lg},summaryCard:{backgroundColor:n.surface,borderRadius:Pe.lg,padding:K.lg,marginBottom:K.lg,elevation:2,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,borderWidth:1,borderColor:n.border},statRow:{flexDirection:"row",justifyContent:"space-between"},statBox:{flex:1,alignItems:"center"},statValue:{fontSize:24,fontWeight:"bold",color:n.primary},statLabel:{fontSize:12,color:n.textSecondary,marginTop:4},statDate:{fontSize:10,color:n.textMuted,marginTop:2},timeRangeContainer:{flexDirection:"row",backgroundColor:n.surface,borderRadius:Pe.lg,padding:8,marginBottom:K.lg,gap:8,borderWidth:1,borderColor:n.border},timeRangeButton:{flex:1,paddingVertical:8,borderRadius:Pe.md,backgroundColor:n.background,alignItems:"center"},timeRangeButtonActive:{backgroundColor:n.primary},timeRangeText:{fontSize:12,fontWeight:"600",color:n.textSecondary},timeRangeTextActive:{color:n.textOnPrimary},chartTypeContainer:{flexDirection:"row",backgroundColor:n.surface,borderRadius:Pe.lg,padding:8,marginBottom:K.lg,gap:8,borderWidth:1,borderColor:n.border},chartTypeButton:{flex:1,paddingVertical:10,borderRadius:Pe.md,backgroundColor:n.background,alignItems:"center"},chartTypeButtonActive:{backgroundColor:n.primary},chartTypeText:{fontSize:13,fontWeight:"600",color:n.textSecondary},chartTypeTextActive:{color:n.textOnPrimary},chartCard:{backgroundColor:n.surface,borderRadius:Pe.lg,padding:K.lg,marginBottom:K.lg,elevation:2,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,borderWidth:1,borderColor:n.border},chartTitle:{fontSize:16,fontWeight:"600",color:n.text,marginBottom:K.lg},chartContainer:{marginTop:10},chart:{flexDirection:"row",position:"relative"},yAxis:{width:40,justifyContent:"space-between",paddingRight:8},axisLabel:{fontSize:10,color:n.textMuted},chartArea:{flex:1,position:"relative"},gridLine:{position:"absolute",left:0,right:0,height:1,backgroundColor:n.border},dataPoint:{position:"absolute",width:16,height:16,borderRadius:8,justifyContent:"center",alignItems:"center"},prMarker:{color:"#fff",fontSize:10,fontWeight:"bold"},chartLine:{position:"absolute",height:2,backgroundColor:n.primary,transformOrigin:"left center"},trendLineContainer:{position:"absolute",top:0,left:0,right:0,bottom:0},trendLine:{position:"absolute",height:1,backgroundColor:n.warning,opacity:.6,borderStyle:"dashed",transformOrigin:"left center"},xAxis:{flexDirection:"row",justifyContent:"space-between",marginTop:8,paddingLeft:40},chartPlaceholder:{height:200,justifyContent:"center",alignItems:"center",backgroundColor:n.background,borderRadius:Pe.md},placeholderText:{color:n.textMuted,fontSize:14},infoCard:{backgroundColor:n.surface,borderRadius:Pe.lg,padding:K.lg,marginBottom:K.lg,elevation:2,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,borderWidth:1,borderColor:n.border},infoTitle:{fontSize:16,fontWeight:"600",color:n.text,marginBottom:K.md},infoText:{fontSize:14,color:n.textSecondary,marginBottom:8},emptyContainer:{flex:1,justifyContent:"center",alignItems:"center"},emptyText:{fontSize:16,color:n.textMuted},headerSpacer:{width:60},footerSpacer:{height:40},statRowMargin:{marginTop:K.lg},prPoint:{backgroundColor:n.warning},normalPoint:{backgroundColor:n.primary}})}const jq="modulepreload",Bq=function(n){return"/"+n},qR={},zq=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){let h=function(f){return Promise.all(f.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=u?.nonce||u?.getAttribute("nonce");a=h(t.map(f=>{if(f=Bq(f),f in qR)return;qR[f]=!0;const g=f.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${y}`))return;const _=document.createElement("link");if(_.rel=g?"stylesheet":jq,g||(_.as="script"),_.crossOrigin="",_.href=f,c&&_.setAttribute("nonce",c),document.head.appendChild(_),g)return new Promise((S,T)=>{_.addEventListener("load",S),_.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return a.then(u=>{for(const c of u||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})},FO=E.createContext(null);function Fq({children:n}){const[e,t]=E.useState(null),[r,a]=E.useState(!0),[o]=E.useState(ur());E.useEffect(()=>{(async()=>{try{if(!o){console.log("[Auth] Firebase not configured - running in offline mode"),a(!1);return}const h=await YW();t(h)}catch(h){console.error("[Auth] Initialization error:",h)}finally{a(!1)}})()},[o]);const u={user:e,isAuthenticated:!!e,isLoading:r,isFirebaseEnabled:o};return v.jsx(FO.Provider,{value:u,children:n})}function Uq(){const n=E.useContext(FO);if(!n)throw new Error("useAuth must be used within AuthProvider");return n}function Hq({navigation:n}){const{themeMode:e,isDarkMode:t,setThemeMode:r,colors:a}=Er(),{user:o,isAuthenticated:u,isFirebaseEnabled:c}=Uq(),[h,f]=E.useState(null),[g,y]=E.useState(null),[_,S]=E.useState(!1);E.useEffect(()=>{T(),x()},[]);const T=async()=>{const z=await Cm.getSettings();f(z)},x=async()=>{const z=await Ol.getSyncStatus();y(z)},C=async()=>{S(!0);try{const z=(await zq(async()=>{const{default:V}=await import("./index-CyIsCYSL.js");return{default:V}},[])).default,H=await z.getItem("@workouts"),F=await z.getItem("@workout_templates"),N=H?JSON.parse(H):[],D=F?JSON.parse(F):[];await Ol.performFullSync(N,D),await x(),ut.alert("Success","Your data has been synced to the cloud!")}catch(z){ut.alert("Error","Failed to sync data. Please try again."),console.error("[Settings] Manual sync error:",z)}finally{S(!1)}},I=async(z,H)=>{if(!h)return;const F={...h,[z]:H};f(F),await Cm.updateSettings({[z]:H})},R=()=>{ut.alert("Reset Settings","Are you sure you want to reset all settings to default?",[{text:"Cancel",style:"cancel"},{text:"Reset",style:"destructive",onPress:async()=>{await Cm.resetSettings(),await T()}}])},O=Wq(a);return v.jsxs(Zn,{style:O.safeArea,children:[v.jsx(Pn,{barStyle:t?"light-content":"dark-content",backgroundColor:a.background}),v.jsxs(W,{style:O.container,children:[v.jsxs(W,{style:O.header,children:[v.jsx(_e,{style:O.backButton,onPress:()=>n.goBack(),hitSlop:{top:10,bottom:10,left:10,right:10},children:v.jsx(j,{style:O.backButtonText,children:""})}),v.jsx(j,{style:O.title,children:"Settings"}),v.jsx(W,{style:O.headerSpacer})]}),v.jsxs(ci,{style:O.content,children:[v.jsxs(W,{style:O.section,children:[v.jsx(j,{style:O.sectionTitle,children:"Appearance"}),v.jsxs(W,{style:O.settingRow,children:[v.jsx(j,{style:O.settingLabel,children:"Theme"}),v.jsxs(W,{style:O.themeButtons,children:[v.jsx(_e,{style:[O.themeButton,e==="light"&&O.themeButtonActive],onPress:()=>r("light"),children:v.jsx(j,{style:[O.themeButtonText,e==="light"&&O.themeButtonTextActive],children:" Light"})}),v.jsx(_e,{style:[O.themeButton,e==="dark"&&O.themeButtonActive],onPress:()=>r("dark"),children:v.jsx(j,{style:[O.themeButtonText,e==="dark"&&O.themeButtonTextActive],children:" Dark"})}),v.jsx(_e,{style:[O.themeButton,e==="system"&&O.themeButtonActive],onPress:()=>r("system"),children:v.jsx(j,{style:[O.themeButtonText,e==="system"&&O.themeButtonTextActive],children:" System"})})]})]})]}),h&&v.jsxs(v.Fragment,{children:[v.jsxs(W,{style:O.section,children:[v.jsx(j,{style:O.sectionTitle,children:"Workout Settings"}),v.jsxs(W,{style:O.settingRow,children:[v.jsx(j,{style:O.settingLabel,children:"Weight Unit"}),v.jsxs(W,{style:O.segmentControl,children:[v.jsx(_e,{style:[O.segmentButton,h.weightUnit==="kg"&&O.segmentButtonActive],onPress:()=>I("weightUnit","kg"),children:v.jsx(j,{style:[O.segmentButtonText,h.weightUnit==="kg"&&O.segmentButtonTextActive],children:"KG"})}),v.jsx(_e,{style:[O.segmentButton,h.weightUnit==="lbs"&&O.segmentButtonActive],onPress:()=>I("weightUnit","lbs"),children:v.jsx(j,{style:[O.segmentButtonText,h.weightUnit==="lbs"&&O.segmentButtonTextActive],children:"LBS"})})]})]}),v.jsxs(W,{style:O.settingRow,children:[v.jsxs(W,{style:O.settingLabelContainer,children:[v.jsx(j,{style:O.settingLabel,children:"Rest Timer"}),v.jsx(j,{style:O.settingDescription,children:"Automatic rest timer between sets"})]}),v.jsx(Bm,{value:h.restTimerEnabled,onValueChange:z=>I("restTimerEnabled",z),trackColor:{false:a.textMuted,true:a.primary},thumbColor:a.surface})]}),h.restTimerEnabled&&v.jsxs(W,{style:O.settingRow,children:[v.jsxs(W,{style:O.settingLabelContainer,children:[v.jsx(j,{style:O.settingLabel,children:"Default Rest Time"}),v.jsxs(j,{style:O.settingDescription,children:[h.defaultRestTime," seconds"]})]}),v.jsxs(W,{style:O.restTimeControls,children:[v.jsx(_e,{style:O.restTimeButton,onPress:()=>I("defaultRestTime",Math.max(30,h.defaultRestTime-15)),children:v.jsx(j,{style:O.restTimeButtonText,children:"-15"})}),v.jsx(_e,{style:O.restTimeButton,onPress:()=>I("defaultRestTime",Math.min(300,h.defaultRestTime+15)),children:v.jsx(j,{style:O.restTimeButtonText,children:"+15"})})]})]})]}),v.jsxs(W,{style:O.section,children:[v.jsx(j,{style:O.sectionTitle,children:"Feedback"}),v.jsxs(W,{style:O.settingRow,children:[v.jsxs(W,{style:O.settingLabelContainer,children:[v.jsx(j,{style:O.settingLabel,children:"Vibration"}),v.jsx(j,{style:O.settingDescription,children:"Haptic feedback for actions"})]}),v.jsx(Bm,{value:h.vibrationEnabled,onValueChange:z=>I("vibrationEnabled",z),trackColor:{false:a.textMuted,true:a.primary},thumbColor:a.surface})]})]})]}),v.jsxs(W,{style:O.section,children:[v.jsx(j,{style:O.sectionTitle,children:"Cloud Backup"}),c?v.jsxs(v.Fragment,{children:[v.jsx(W,{style:O.settingRow,children:v.jsxs(W,{style:O.settingLabelContainer,children:[v.jsx(j,{style:O.settingLabel,children:"Sync Status"}),v.jsx(j,{style:O.settingDescription,children:u?" Connected - Your data is backed up":" Connecting..."})]})}),g&&v.jsxs(v.Fragment,{children:[v.jsxs(W,{style:O.settingRow,children:[v.jsx(j,{style:O.settingLabel,children:"Last Sync"}),v.jsx(j,{style:O.settingValue,children:new Date(g.lastSync).toLocaleString()})]}),v.jsxs(W,{style:O.settingRow,children:[v.jsx(j,{style:O.settingLabel,children:"Workouts Synced"}),v.jsx(j,{style:O.settingValue,children:g.workoutsCount})]}),v.jsxs(W,{style:O.settingRow,children:[v.jsx(j,{style:O.settingLabel,children:"Templates Synced"}),v.jsx(j,{style:O.settingValue,children:g.templatesCount})]})]}),v.jsx(_e,{style:O.syncButton,onPress:C,disabled:_,children:_?v.jsx(Kd,{size:"small",color:a.textOnPrimary}):v.jsx(j,{style:O.syncButtonText,children:" Sync Now"})}),v.jsx(W,{style:O.infoCard,children:v.jsx(j,{style:O.infoText,children:" Your workout data is automatically backed up to the cloud. You won't lose your data when updating the app!"})})]}):v.jsx(W,{style:O.infoCard,children:v.jsx(j,{style:O.infoText,children:" Cloud backup is not configured. Your data is stored locally only. To enable cloud backup, configure Firebase in your environment."})})]}),v.jsxs(W,{style:O.section,children:[v.jsx(j,{style:O.sectionTitle,children:"About"}),v.jsxs(W,{style:O.settingRow,children:[v.jsx(j,{style:O.settingLabel,children:"Developer"}),v.jsx(j,{style:O.developerName,children:"Altan Esmer"})]}),v.jsxs(W,{style:O.settingRow,children:[v.jsx(j,{style:O.settingLabel,children:"Version"}),v.jsx(j,{style:O.versionText,children:"1.0.0"})]})]}),v.jsx(W,{style:O.section,children:v.jsx(_e,{style:O.resetButton,onPress:R,children:v.jsx(j,{style:O.resetButtonText,children:"Reset All Settings"})})}),v.jsx(W,{style:O.footer,children:v.jsx(j,{style:O.footerText,children:"Made with  by Altan Esmer"})})]}),v.jsx(Vo,{navigation:n,currentScreen:"Settings"})]})]})}function Wq(n){return Ne.create({safeArea:{flex:1,backgroundColor:n.background},container:{flex:1,backgroundColor:n.background},header:{backgroundColor:n.background,paddingHorizontal:K.lg,paddingVertical:K.lg,borderBottomWidth:1,borderBottomColor:n.border,flexDirection:"row",alignItems:"center",justifyContent:"space-between"},backButton:{width:40,height:40,justifyContent:"center",alignItems:"center"},backButtonText:{fontSize:28,color:n.primary},title:{...we.title2,color:n.text},headerSpacer:{width:40},content:{flex:1},section:{marginTop:K.xl,paddingHorizontal:K.lg},sectionTitle:{...we.caption1,color:n.textSecondary,textTransform:"uppercase",marginBottom:K.sm,letterSpacing:.5},settingRow:{backgroundColor:n.surface,padding:K.lg,flexDirection:"row",alignItems:"center",justifyContent:"space-between",borderBottomWidth:1,borderBottomColor:n.border,borderRadius:Pe.md,marginBottom:1},settingLabel:{...we.body,color:n.text,fontWeight:"500"},settingLabelContainer:{flex:1},settingDescription:{...we.caption1,color:n.textSecondary,marginTop:2},themeButtons:{flexDirection:"row",gap:8},themeButton:{paddingHorizontal:12,paddingVertical:6,borderRadius:8,borderWidth:1,borderColor:n.border,backgroundColor:n.background},themeButtonActive:{backgroundColor:n.primary,borderColor:n.primary},themeButtonText:{fontSize:14,color:n.text,fontWeight:"500"},themeButtonTextActive:{color:n.textOnPrimary},segmentControl:{flexDirection:"row",borderRadius:8,borderWidth:1,borderColor:n.border,overflow:"hidden"},segmentButton:{paddingHorizontal:20,paddingVertical:8,backgroundColor:n.background},segmentButtonActive:{backgroundColor:n.primary},segmentButtonText:{fontSize:14,color:n.text,fontWeight:"600"},segmentButtonTextActive:{color:n.textOnPrimary},developerName:{...we.body,color:n.primary,fontWeight:"600"},versionText:{...we.body,color:n.textSecondary},settingValue:{...we.body,color:n.textSecondary,fontWeight:"400"},syncButton:{backgroundColor:n.primary,padding:K.md,borderRadius:Pe.md,alignItems:"center",marginTop:K.md,marginBottom:K.md},syncButtonText:{color:n.textOnPrimary,fontSize:16,fontWeight:"600"},infoCard:{backgroundColor:n.surfaceHighlight,padding:K.md,borderRadius:Pe.md,borderWidth:1,borderColor:n.border,marginTop:K.sm},infoText:{...we.caption1,color:n.textSecondary,lineHeight:18},resetButton:{backgroundColor:n.surface,padding:K.lg,borderRadius:Pe.lg,alignItems:"center",borderWidth:1,borderColor:n.danger},resetButtonText:{color:n.danger,fontSize:17,fontWeight:"600"},footer:{alignItems:"center",paddingVertical:30},footerText:{fontSize:14,color:n.textSecondary,fontWeight:"500"},restTimeControls:{flexDirection:"row",gap:10},restTimeButton:{backgroundColor:n.primary,paddingHorizontal:15,paddingVertical:8,borderRadius:8},restTimeButtonText:{color:n.textOnPrimary,fontSize:14,fontWeight:"600"}})}const f_="@nutrition_entries",GR="@nutrition_goals";class bu{static async saveEntry(e){try{const t=await this.getAllEntries(),r=t.findIndex(a=>a.id===e.id);r>=0?t[r]=e:t.push(e),await Ye.setItem(f_,JSON.stringify(t))}catch(t){throw console.error("Error saving nutrition entry:",t),t}}static async getAllEntries(){try{const e=await Ye.getItem(f_);return e?JSON.parse(e):[]}catch(e){return console.error("Error getting nutrition entries:",e),[]}}static async getEntriesByDateRange(e,t){try{return(await this.getAllEntries()).filter(a=>a.date>=e&&a.date<=t)}catch(r){return console.error("Error getting entries by date range:",r),[]}}static async getEntryByDate(e){try{return(await this.getAllEntries()).find(r=>r.date===e)||null}catch(t){return console.error("Error getting entry by date:",t),null}}static async deleteEntry(e){try{const r=(await this.getAllEntries()).filter(a=>a.id!==e);await Ye.setItem(f_,JSON.stringify(r))}catch(t){throw console.error("Error deleting nutrition entry:",t),t}}static async saveGoals(e){try{await Ye.setItem(GR,JSON.stringify(e))}catch(t){throw console.error("Error saving nutrition goals:",t),t}}static async getGoals(){try{const e=await Ye.getItem(GR);return e?JSON.parse(e):null}catch(e){return console.error("Error getting nutrition goals:",e),null}}}function qq(){const[n,e]=E.useState([]),[t,r]=E.useState(null),[a,o]=E.useState(!0),u=E.useCallback(async()=>{try{o(!0);const[y,_]=await Promise.all([bu.getAllEntries(),bu.getGoals()]);e(y),r(_)}catch(y){console.error("Error loading nutrition data:",y)}finally{o(!1)}},[]);E.useEffect(()=>{u()},[u]);const c=E.useCallback(async(y,_,S,T)=>{try{const x=await bu.getEntryByDate(y),C={id:x?.id||`nutrition_${Date.now()}`,date:y,calories:_,protein:S,notes:T,createdAt:x?.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString()};await bu.saveEntry(C),await u()}catch(x){throw console.error("Error saving nutrition entry:",x),x}},[u]),h=E.useCallback(async y=>{try{await bu.deleteEntry(y),await u()}catch(_){throw console.error("Error deleting nutrition entry:",_),_}},[u]),f=E.useCallback(async(y,_)=>{try{const S={dailyCalories:y,dailyProtein:_};await bu.saveGoals(S),r(S)}catch(S){throw console.error("Error saving nutrition goals:",S),S}},[]),g=E.useCallback(y=>n.find(_=>_.date===y),[n]);return{entries:n,goals:t,isLoading:a,saveEntry:c,deleteEntry:h,saveGoals:f,getEntryByDate:g}}const UO=E.createContext(null);function Gq({children:n}){const e=qq();return v.jsx(UO.Provider,{value:e,children:n})}function Kq(){const n=E.useContext(UO);if(!n)throw new Error("useNutritionContext must be used within NutritionProvider");return n}function $q({navigation:n}){const{goals:e,saveEntry:t,saveGoals:r,getEntryByDate:a}=Kq(),{isDarkMode:o,colors:u}=Er(),[c,h]=E.useState(!1),[f,g]=E.useState(!1),[y,_]=E.useState(new Date().toISOString().split("T")[0]),[S,T]=E.useState(""),[x,C]=E.useState(""),[I,R]=E.useState(""),[O,z]=E.useState(e?.dailyCalories.toString()||""),[H,F]=E.useState(e?.dailyProtein.toString()||""),N=a(new Date().toISOString().split("T")[0]),D=async()=>{const ie=parseInt(S,10),G=parseInt(x,10);if(!ie||ie<=0){ut.alert("Invalid Input","Please enter valid calories");return}if(!G||G<0){ut.alert("Invalid Input","Please enter valid protein amount");return}try{await t(y,ie,G,I),T(""),C(""),R(""),g(!1),ut.alert("Success","Nutrition entry saved")}catch{ut.alert("Error","Failed to save entry")}},V=async()=>{const ie=parseInt(O,10),G=parseInt(H,10);if(!ie||ie<=0){ut.alert("Invalid Input","Please enter valid calorie goal");return}if(!G||G<0){ut.alert("Invalid Input","Please enter valid protein goal");return}try{await r(ie,G),h(!1),ut.alert("Success","Goals saved")}catch{ut.alert("Error","Failed to save goals")}},B=ie=>{const G=ie||new Date().toISOString().split("T")[0];_(G);const X=a(G);X?(T(X.calories.toString()),C(X.protein.toString()),R(X.notes||"")):(T(""),C(""),R("")),g(!0)},L=()=>{z(e?.dailyCalories.toString()||"2500"),F(e?.dailyProtein.toString()||"150"),h(!0)},ue=(()=>{const ie=[];for(let G=6;G>=0;G--){const X=new Date;X.setDate(X.getDate()-G),ie.push(X.toISOString().split("T")[0])}return ie})().map(ie=>({date:ie,entry:a(ie)})),me=ue.reduce((ie,{entry:G})=>ie+(G?.calories||0),0),Y=ue.reduce((ie,{entry:G})=>ie+(G?.protein||0),0),se=Math.round(me/7),ge=Math.round(Y/7),ee=Yq(u);return v.jsxs(Zn,{style:ee.safeArea,children:[v.jsx(Pn,{barStyle:o?"light-content":"dark-content",backgroundColor:u.background}),v.jsxs(W,{style:ee.container,children:[v.jsxs(W,{style:ee.header,children:[v.jsx(_e,{onPress:()=>n.goBack(),hitSlop:{top:10,bottom:10,left:10,right:10},children:v.jsx(j,{style:ee.backButton,children:""})}),v.jsx(j,{style:ee.title,children:"Nutrition"}),v.jsx(_e,{onPress:L,hitSlop:{top:10,bottom:10,left:10,right:10},children:v.jsx(j,{style:ee.settingsIcon,children:""})})]}),v.jsxs(ci,{style:ee.content,showsVerticalScrollIndicator:!1,children:[e&&v.jsxs(W,{style:ee.goalsCard,children:[v.jsx(j,{style:ee.goalsTitle,children:"Daily Goals"}),v.jsxs(W,{style:ee.goalsRow,children:[v.jsxs(W,{style:ee.goalItem,children:[v.jsx(j,{style:ee.goalValue,children:e.dailyCalories}),v.jsx(j,{style:ee.goalLabel,children:"Calories"})]}),v.jsxs(W,{style:ee.goalItem,children:[v.jsxs(j,{style:ee.goalValue,children:[e.dailyProtein,"g"]}),v.jsx(j,{style:ee.goalLabel,children:"Protein"})]})]})]}),v.jsxs(W,{style:ee.todayCard,children:[v.jsxs(W,{style:ee.todayHeader,children:[v.jsx(j,{style:ee.todayTitle,children:"Today"}),v.jsx(_e,{style:ee.addButton,onPress:()=>B(),children:v.jsx(j,{style:ee.addButtonText,children:N?"Edit":"Log"})})]}),N?v.jsxs(W,{children:[v.jsxs(W,{style:ee.todayStats,children:[v.jsxs(W,{style:ee.statItem,children:[v.jsx(j,{style:ee.statValue,children:N.calories}),v.jsx(j,{style:ee.statLabel,children:"Calories"}),e&&v.jsxs(j,{style:ee.statProgress,children:[Math.round(N.calories/e.dailyCalories*100),"%"]})]}),v.jsxs(W,{style:ee.statItem,children:[v.jsxs(j,{style:ee.statValue,children:[N.protein,"g"]}),v.jsx(j,{style:ee.statLabel,children:"Protein"}),e&&v.jsxs(j,{style:ee.statProgress,children:[Math.round(N.protein/e.dailyProtein*100),"%"]})]})]}),N.notes&&v.jsx(j,{style:ee.notesText,children:N.notes})]}):v.jsx(j,{style:ee.noDataText,children:"No entry logged today"})]}),v.jsxs(W,{style:ee.weekCard,children:[v.jsx(j,{style:ee.weekTitle,children:"Last 7 Days"}),v.jsxs(W,{style:ee.weekStats,children:[v.jsxs(W,{style:ee.weekStatItem,children:[v.jsx(j,{style:ee.weekStatLabel,children:"Avg Calories"}),v.jsx(j,{style:ee.weekStatValue,children:se})]}),v.jsxs(W,{style:ee.weekStatItem,children:[v.jsx(j,{style:ee.weekStatLabel,children:"Avg Protein"}),v.jsxs(j,{style:ee.weekStatValue,children:[ge,"g"]})]})]}),v.jsx(W,{style:ee.weekList,children:ue.reverse().map(({date:ie,entry:G})=>{const X=new Date(ie),ye=X.toLocaleDateString("en-US",{weekday:"short"}),be=X.toLocaleDateString("en-US",{month:"short",day:"numeric"});return v.jsxs(_e,{style:ee.weekItem,onPress:()=>B(ie),children:[v.jsxs(W,{style:ee.weekItemLeft,children:[v.jsx(j,{style:ee.weekItemDay,children:ye}),v.jsx(j,{style:ee.weekItemDate,children:be})]}),G?v.jsxs(W,{style:ee.weekItemRight,children:[v.jsxs(j,{style:ee.weekItemValue,children:[G.calories," cal"]}),v.jsxs(j,{style:ee.weekItemValue,children:[G.protein,"g protein"]})]}):v.jsx(j,{style:ee.weekItemEmpty,children:"Not logged"})]},ie)})})]})]}),v.jsx(hs,{visible:f,animationType:"slide",transparent:!0,onRequestClose:()=>g(!1),children:v.jsx(W,{style:ee.modalOverlay,children:v.jsxs(W,{style:ee.modalContent,children:[v.jsx(j,{style:ee.modalTitle,children:"Log Nutrition"}),v.jsx(j,{style:ee.modalDate,children:new Date(y).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),v.jsxs(W,{style:ee.inputGroup,children:[v.jsx(j,{style:ee.inputLabel,children:"Calories"}),v.jsx(xn,{style:ee.input,value:S,onChangeText:T,keyboardType:"numeric",placeholder:"e.g., 2500",placeholderTextColor:u.textMuted})]}),v.jsxs(W,{style:ee.inputGroup,children:[v.jsx(j,{style:ee.inputLabel,children:"Protein (g)"}),v.jsx(xn,{style:ee.input,value:x,onChangeText:C,keyboardType:"numeric",placeholder:"e.g., 150",placeholderTextColor:u.textMuted})]}),v.jsxs(W,{style:ee.inputGroup,children:[v.jsx(j,{style:ee.inputLabel,children:"Notes (optional)"}),v.jsx(xn,{style:[ee.input,ee.textArea],value:I,onChangeText:R,placeholder:"Add any notes...",placeholderTextColor:u.textMuted,multiline:!0,numberOfLines:3})]}),v.jsxs(W,{style:ee.modalButtons,children:[v.jsx(_e,{style:[ee.modalButton,ee.modalButtonCancel],onPress:()=>g(!1),children:v.jsx(j,{style:ee.modalButtonCancelText,children:"Cancel"})}),v.jsx(_e,{style:[ee.modalButton,ee.modalButtonSave],onPress:D,children:v.jsx(j,{style:ee.modalButtonSaveText,children:"Save"})})]})]})})}),v.jsx(hs,{visible:c,animationType:"slide",transparent:!0,onRequestClose:()=>h(!1),children:v.jsx(W,{style:ee.modalOverlay,children:v.jsxs(W,{style:ee.modalContent,children:[v.jsx(j,{style:ee.modalTitle,children:"Set Daily Goals"}),v.jsxs(W,{style:ee.inputGroup,children:[v.jsx(j,{style:ee.inputLabel,children:"Daily Calorie Goal"}),v.jsx(xn,{style:ee.input,value:O,onChangeText:z,keyboardType:"numeric",placeholder:"e.g., 2500",placeholderTextColor:u.textMuted})]}),v.jsxs(W,{style:ee.inputGroup,children:[v.jsx(j,{style:ee.inputLabel,children:"Daily Protein Goal (g)"}),v.jsx(xn,{style:ee.input,value:H,onChangeText:F,keyboardType:"numeric",placeholder:"e.g., 150",placeholderTextColor:u.textMuted})]}),v.jsxs(W,{style:ee.modalButtons,children:[v.jsx(_e,{style:[ee.modalButton,ee.modalButtonCancel],onPress:()=>h(!1),children:v.jsx(j,{style:ee.modalButtonCancelText,children:"Cancel"})}),v.jsx(_e,{style:[ee.modalButton,ee.modalButtonSave],onPress:V,children:v.jsx(j,{style:ee.modalButtonSaveText,children:"Save"})})]})]})})}),v.jsx(Vo,{navigation:n,currentScreen:"Nutrition"})]})]})}const Yq=(n,e)=>Ne.create({safeArea:{flex:1,backgroundColor:n.background},container:{flex:1,backgroundColor:n.background},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingHorizontal:K.lg,paddingVertical:K.md,borderBottomWidth:1,borderBottomColor:n.border},backButton:{fontSize:28,color:n.primary,fontWeight:"600"},title:{...we.title2,color:n.text},settingsIcon:{fontSize:24},content:{flex:1,paddingHorizontal:K.lg},goalsCard:{backgroundColor:n.surface,borderRadius:Pe.lg,padding:K.lg,marginTop:K.lg},goalsTitle:{...we.headline,color:n.text,marginBottom:K.md},goalsRow:{flexDirection:"row",justifyContent:"space-around"},goalItem:{alignItems:"center"},goalValue:{...we.title1,color:n.primary,fontWeight:"bold"},goalLabel:{...we.footnote,color:n.textSecondary,marginTop:K.xs},todayCard:{backgroundColor:n.surface,borderRadius:Pe.lg,padding:K.lg,marginTop:K.lg},todayHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:K.md},todayTitle:{...we.headline,color:n.text},addButton:{backgroundColor:n.primary,paddingHorizontal:K.lg,paddingVertical:K.sm,borderRadius:Pe.sm},addButtonText:{color:n.textOnPrimary,...we.callout,fontWeight:"600"},todayStats:{flexDirection:"row",justifyContent:"space-around",marginTop:K.sm},statItem:{alignItems:"center"},statValue:{...we.title2,color:n.text,fontWeight:"bold"},statLabel:{...we.footnote,color:n.textSecondary,marginTop:K.xs},statProgress:{...we.caption1,color:n.primary,marginTop:K.xs,fontWeight:"600"},notesText:{...we.callout,color:n.textSecondary,marginTop:K.md,fontStyle:"italic"},noDataText:{...we.callout,color:n.textMuted,textAlign:"center",paddingVertical:K.lg},weekCard:{backgroundColor:n.surface,borderRadius:Pe.lg,padding:K.lg,marginTop:K.lg,marginBottom:K.xl},weekTitle:{...we.headline,color:n.text,marginBottom:K.md},weekStats:{flexDirection:"row",justifyContent:"space-around",paddingVertical:K.md,borderBottomWidth:1,borderBottomColor:n.border,marginBottom:K.md},weekStatItem:{alignItems:"center"},weekStatLabel:{...we.footnote,color:n.textSecondary},weekStatValue:{...we.title3,color:n.text,fontWeight:"600",marginTop:K.xs},weekList:{marginTop:K.sm},weekItem:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:K.md,borderBottomWidth:1,borderBottomColor:n.border},weekItemLeft:{flexDirection:"row",alignItems:"center",gap:K.md},weekItemDay:{...we.callout,color:n.text,fontWeight:"600",width:40},weekItemDate:{...we.callout,color:n.textSecondary},weekItemRight:{alignItems:"flex-end"},weekItemValue:{...we.callout,color:n.text},weekItemEmpty:{...we.callout,color:n.textMuted,fontStyle:"italic"},modalOverlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"center",alignItems:"center"},modalContent:{backgroundColor:n.surface,borderRadius:Pe.lg,padding:K.xl,width:"90%",maxWidth:400},modalTitle:{...we.title2,color:n.text,marginBottom:K.xs},modalDate:{...we.callout,color:n.textSecondary,marginBottom:K.lg},inputGroup:{marginBottom:K.lg},inputLabel:{...we.callout,color:n.text,marginBottom:K.sm,fontWeight:"600"},input:{backgroundColor:n.background,borderWidth:1,borderColor:n.border,borderRadius:Pe.sm,padding:K.md,...we.body,color:n.text},textArea:{minHeight:80,textAlignVertical:"top"},modalButtons:{flexDirection:"row",justifyContent:"space-between",gap:K.md,marginTop:K.md},modalButton:{flex:1,paddingVertical:K.md,borderRadius:Pe.sm,alignItems:"center"},modalButtonCancel:{backgroundColor:n.background,borderWidth:1,borderColor:n.border},modalButtonCancelText:{...we.callout,color:n.text,fontWeight:"600"},modalButtonSave:{backgroundColor:n.primary},modalButtonSaveText:{...we.callout,color:n.textOnPrimary,fontWeight:"600"}});function Qq(n,e,t,r){const a=qd.calculateUserStats(r),o=qd.calculateScore(a),u=n.map(g=>g.userId===e?{...g,stats:a,score:o}:g);u.find(g=>g.userId===e)||u.push({userId:e,displayName:"Anonymous",stats:a,score:o,createdAt:Date.now(),lastUpdated:Date.now()});const h=[...u].sort((g,y)=>y.score-g.score).map((g,y)=>({rank:y+1,userId:g.userId,displayName:g.displayName,score:g.score,stats:g.stats,isCurrentUser:g.userId===e})),f=h.findIndex(g=>g.userId===e)+1;return{timeframe:t,leaderboard:h,currentUserRank:f>0?f:null,totalUsers:h.length}}function Xq(n){const[e,t]=E.useState(null),[r,a]=E.useState("weekly"),[o,u]=E.useState(null),[c,h]=E.useState(!0),[f,g]=E.useState(null),y=E.useRef([]),_=E.useRef(""),S=E.useCallback(async()=>{try{const O=await xm.getDisplayName();u(O)}catch(O){console.error("Error loading display name:",O)}},[]),T=E.useCallback((O,z)=>{if(!_.current)return;const H=qd.filterWorkoutsByTimeframe(n,z),F=Qq(O,_.current,z,H);t(F)},[n]),x=E.useCallback(async()=>{try{await xm.updateUserStats(n)}catch(O){console.error("[Leaderboard] Failed to push user stats:",O)}},[n]);E.useEffect(()=>{let O;return(async()=>{try{h(!0),g(null),_.current=await Ea.getUserId(),await x(),O=Ea.subscribeToLeaderboard(H=>{y.current=H,T(H,r),h(!1)},H=>{g("Failed to load leaderboard. Showing local data."),h(!1)})}catch(H){g(H instanceof Error?H.message:"Failed to initialise leaderboard"),h(!1)}})(),()=>O?.()},[]),E.useEffect(()=>{y.current.length>0&&T(y.current,r)},[r,T]),E.useEffect(()=>{_.current&&x().then(()=>{T(y.current,r)})},[n]);const C=E.useCallback(async O=>{await xm.setDisplayName(O),u(O),await x()},[x]),I=E.useCallback(O=>{a(O)},[]),R=E.useCallback(async()=>{try{h(!0),await x();const O=await Ea.getAllLeaderboardData();y.current=O,T(O,r)}catch{g("Refresh failed")}finally{h(!1)}},[x,T,r]);return E.useEffect(()=>{S()},[S]),{leaderboard:e,timeframe:r,displayName:o,isLoading:c,error:f,updateDisplayName:C,changeTimeframe:I,refresh:R}}function Jq({navigation:n}){const{workoutHistory:e}=Lo(),{colors:t,isDarkMode:r}=Er(),{leaderboard:a,timeframe:o,displayName:u,isLoading:c,updateDisplayName:h,changeTimeframe:f,refresh:g}=Xq(e),[y,_]=E.useState(!1),[S,T]=E.useState(""),[x,C]=E.useState(!1),I=E.useMemo(()=>Zq(t),[t,r]),R=E.useCallback(async()=>{C(!0),await g(),C(!1)},[g]),O=E.useCallback(async()=>{if(!S.trim()){ut.alert("Error","Please enter a display name");return}try{await h(S.trim()),_(!1),T(""),ut.alert("Success","Display name updated!")}catch(D){ut.alert("Error",D instanceof Error?D.message:"Failed to update name")}},[S,h]),z=E.useCallback(D=>{f(D)},[f]),H=E.useMemo(()=>a?.leaderboard.find(D=>D.isCurrentUser),[a]),F=E.useCallback(({item:D})=>{const V=D.rank<=3,B=D.rank===1?"":D.rank===2?"":D.rank===3?"":"";return v.jsxs(W,{style:[I.entryCard,D.isCurrentUser&&I.currentUserCard],children:[v.jsx(W,{style:I.entryRank,children:V?v.jsx(j,{style:I.medalText,children:B}):v.jsxs(j,{style:I.rankText,children:["#",D.rank]})}),v.jsxs(W,{style:I.entryContent,children:[v.jsxs(j,{style:[I.displayName,D.isCurrentUser&&I.currentUserText],children:[D.displayName,D.isCurrentUser&&" (You)"]}),v.jsxs(j,{style:I.statsText,children:[D.stats.totalWorkouts," workouts  ",Math.round(D.stats.totalWeightLifted/1e3),"k lbs  ",D.stats.currentStreak," day streak"]})]}),v.jsx(j,{style:[I.scoreText,D.isCurrentUser&&I.currentUserScore],children:D.score.toLocaleString()})]})},[I]),N=E.useCallback(()=>v.jsxs(W,{style:I.header,children:[v.jsx(j,{style:I.title,children:" Leaderboard"}),v.jsx(W,{style:I.timeframeContainer,children:["daily","weekly","monthly","all-time"].map(D=>v.jsx(_e,{style:[I.timeframeButton,o===D&&I.timeframeButtonActive],onPress:()=>z(D),children:v.jsx(j,{style:[I.timeframeText,o===D&&I.timeframeTextActive],children:D==="all-time"?"All Time":D.charAt(0).toUpperCase()+D.slice(1)})},D))}),u?v.jsxs(W,{style:I.userStatsCard,children:[v.jsx(j,{style:I.userStatsTitle,children:"Your Stats"}),H&&v.jsxs(v.Fragment,{children:[v.jsxs(W,{style:I.statRow,children:[v.jsx(j,{style:I.statLabel,children:"Rank:"}),v.jsxs(j,{style:I.statValue,children:["#",H.rank]})]}),v.jsxs(W,{style:I.statRow,children:[v.jsx(j,{style:I.statLabel,children:"Score:"}),v.jsxs(j,{style:I.statValue,children:[H.score.toLocaleString()," pts"]})]}),v.jsxs(W,{style:I.statRow,children:[v.jsx(j,{style:I.statLabel,children:"Workouts:"}),v.jsx(j,{style:I.statValue,children:H.stats.totalWorkouts})]}),v.jsxs(W,{style:I.statRow,children:[v.jsx(j,{style:I.statLabel,children:"Streak:"}),v.jsxs(j,{style:I.statValue,children:[H.stats.currentStreak," days "]})]})]}),v.jsx(_e,{style:I.changeNameButton,onPress:()=>_(!0),children:v.jsx(j,{style:I.changeNameText,children:"Change Name"})})]}):v.jsxs(W,{style:I.namePromptCard,children:[v.jsx(j,{style:I.namePromptTitle,children:"Join the Competition!"}),v.jsx(j,{style:I.namePromptText,children:"Set your display name to appear on the leaderboard"}),v.jsx(_e,{style:I.setPrimaryButton,onPress:()=>_(!0),children:v.jsx(j,{style:I.buttonText,children:"Set Display Name"})})]})]}),[I,u,o,H,z]);return c&&!a?v.jsxs(Zn,{style:I.container,children:[v.jsx(Pn,{barStyle:r?"light-content":"dark-content"}),v.jsx(W,{style:I.loadingContainer,children:v.jsx(Kd,{size:"large",color:t.primary})})]}):v.jsxs(Zn,{style:I.container,children:[v.jsx(Pn,{barStyle:r?"light-content":"dark-content"}),v.jsx(W,{style:I.content,children:v.jsx(fg,{data:a?.leaderboard||[],renderItem:F,keyExtractor:D=>D.userId,ListHeaderComponent:N,refreshControl:v.jsx(hg,{refreshing:x,onRefresh:R,tintColor:t.primary}),contentContainerStyle:I.listContent})}),v.jsx(_e,{style:I.backButton,onPress:()=>n.goBack(),children:v.jsx(j,{style:I.backButtonText,children:""})}),y&&v.jsx(W,{style:I.modal,children:v.jsxs(W,{style:I.modalContent,children:[v.jsx(j,{style:I.modalTitle,children:"Set Display Name"}),v.jsx(j,{style:I.modalSubtitle,children:"Choose a name to show on the leaderboard (2-20 characters)"}),v.jsx(xn,{style:I.input,value:S,onChangeText:T,placeholder:"Enter your name...",placeholderTextColor:t.textMuted,maxLength:20,autoFocus:!0}),v.jsxs(W,{style:I.modalButtons,children:[v.jsx(_e,{style:I.modalButtonCancel,onPress:()=>{_(!1),T("")},children:v.jsx(j,{style:I.modalButtonCancelText,children:"Cancel"})}),v.jsx(_e,{style:I.modalButtonSave,onPress:O,children:v.jsx(j,{style:I.modalButtonSaveText,children:"Save"})})]})]})})]})}function Zq(n,e){return Ne.create({container:{flex:1,backgroundColor:n.background},content:{flex:1},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center"},listContent:{paddingBottom:K.xxxl},header:{padding:K.lg},title:{...we.largeTitle,color:n.text,marginBottom:K.lg},timeframeContainer:{flexDirection:"row",gap:K.sm,marginBottom:K.lg},timeframeButton:{flex:1,paddingVertical:K.sm,paddingHorizontal:K.md,backgroundColor:n.surface,borderRadius:Pe.sm,alignItems:"center",borderWidth:1,borderColor:n.border},timeframeButtonActive:{backgroundColor:n.primary,borderColor:n.primary},timeframeText:{...we.footnote,color:n.textSecondary,fontWeight:"600"},timeframeTextActive:{color:n.textOnPrimary},namePromptCard:{backgroundColor:n.surface,borderRadius:Pe.md,padding:K.lg,marginBottom:K.lg},namePromptTitle:{...we.title3,color:n.text,marginBottom:K.sm},namePromptText:{...we.body,color:n.textSecondary,marginBottom:K.lg},setPrimaryButton:{backgroundColor:n.primary,borderRadius:Pe.sm,paddingVertical:K.md,alignItems:"center"},buttonText:{...we.headline,color:n.textOnPrimary},userStatsCard:{backgroundColor:n.surface,borderRadius:Pe.md,padding:K.lg,marginBottom:K.lg},userStatsTitle:{...we.title3,color:n.text,marginBottom:K.md},statRow:{flexDirection:"row",justifyContent:"space-between",marginBottom:K.sm},statLabel:{...we.body,color:n.textSecondary},statValue:{...we.body,color:n.text,fontWeight:"600"},changeNameButton:{marginTop:K.md,alignItems:"center"},changeNameText:{...we.callout,color:n.primary},entryCard:{flexDirection:"row",alignItems:"center",backgroundColor:n.surface,borderRadius:Pe.md,padding:K.md,marginHorizontal:K.lg,marginBottom:K.sm},currentUserCard:{backgroundColor:n.surfaceHighlight,borderWidth:2,borderColor:n.primary},entryRank:{width:50,alignItems:"center"},medalText:{fontSize:24},rankText:{...we.headline,color:n.textSecondary},entryContent:{flex:1,marginLeft:K.md},displayName:{...we.headline,color:n.text,marginBottom:K.xs},currentUserText:{color:n.primary},statsText:{...we.footnote,color:n.textSecondary},scoreText:{...we.title3,color:n.text,fontWeight:"600"},currentUserScore:{color:n.primary},backButton:{position:"absolute",top:K.lg+(Pn.currentHeight||0),left:K.lg,width:40,height:40,borderRadius:Pe.round,backgroundColor:n.surface,justifyContent:"center",alignItems:"center"},backButtonText:{fontSize:24,color:n.text},modal:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",justifyContent:"center",alignItems:"center",padding:K.lg},modalContent:{backgroundColor:n.surface,borderRadius:Pe.md,padding:K.xl,width:"100%",maxWidth:400},modalTitle:{...we.title2,color:n.text,marginBottom:K.sm},modalSubtitle:{...we.body,color:n.textSecondary,marginBottom:K.lg},input:{backgroundColor:n.background,borderRadius:Pe.sm,padding:K.md,...we.body,color:n.text,marginBottom:K.lg,borderWidth:1,borderColor:n.border},modalButtons:{flexDirection:"row",gap:K.md},modalButtonCancel:{flex:1,paddingVertical:K.md,borderRadius:Pe.sm,alignItems:"center",backgroundColor:n.background},modalButtonCancelText:{...we.headline,color:n.text},modalButtonSave:{flex:1,paddingVertical:K.md,borderRadius:Pe.sm,alignItems:"center",backgroundColor:n.primary},modalButtonSaveText:{...we.headline,color:n.textOnPrimary}})}const m_="@weight_entries",KR="@weight_goal";class Su{static async saveEntry(e){try{const t=await this.getAllEntries(),r=t.findIndex(a=>a.id===e.id);r>=0?t[r]=e:t.push(e),await Ye.setItem(m_,JSON.stringify(t))}catch(t){throw console.error("Error saving weight entry:",t),t}}static async getAllEntries(){try{const e=await Ye.getItem(m_);return e?JSON.parse(e):[]}catch(e){return console.error("Error getting weight entries:",e),[]}}static async getEntryByDate(e){try{return(await this.getAllEntries()).find(r=>r.date===e)||null}catch(t){return console.error("Error getting weight entry by date:",t),null}}static async deleteEntry(e){try{const r=(await this.getAllEntries()).filter(a=>a.id!==e);await Ye.setItem(m_,JSON.stringify(r))}catch(t){throw console.error("Error deleting weight entry:",t),t}}static async saveGoal(e){try{await Ye.setItem(KR,JSON.stringify(e))}catch(t){throw console.error("Error saving weight goal:",t),t}}static async getGoal(){try{const e=await Ye.getItem(KR);return e?JSON.parse(e):null}catch(e){return console.error("Error getting weight goal:",e),null}}}const e7=.453592,t7=2.20462;class fo{static convertWeight(e,t,r){if(t===r)return e;const a=t==="lbs"?e*e7:e*t7;return Math.round(a*10)/10}static normalizeEntries(e,t){return e.map(r=>r.unit===t?r.weight:this.convertWeight(r.weight,r.unit,t))}static calculateStats(e,t){if(e.length===0)return null;const r=[...e].sort((f,g)=>new Date(f.date).getTime()-new Date(g.date).getTime()),a=this.normalizeEntries(r,t),o=a[a.length-1],u=a[0],c=Math.round((o-u)*10)/10,h=u!==0?Math.round((o-u)/u*1e3)/10:0;return{currentWeight:o,startingWeight:u,lowestWeight:Math.min(...a),highestWeight:Math.max(...a),averageWeight:Math.round(a.reduce((f,g)=>f+g,0)/a.length*10)/10,totalChange:c,percentChange:h,trend:this.getTrend(a),entriesCount:e.length}}static getTrend(e){if(e.length<2)return"stable";const t=e.slice(-5);if(t.length<2)return"stable";let r=0,a=0;for(let o=1;o<t.length;o++){const u=t[o]-t[o-1];u>.1?r++:u<-.1&&a++}return r>a?"increasing":a>r?"decreasing":"stable"}static getGoalProgress(e,t,r){const a=e.unit===r?e.targetWeight:this.convertWeight(e.targetWeight,e.unit,r),o=e.unit===r?e.startWeight:this.convertWeight(e.startWeight,e.unit,r),u=Math.abs(a-o);if(u===0)return 100;const c=Math.abs(t-o),h=Math.min(c/u*100,100);return Math.round(h)}static getMotivationalMessage(e,t,r){const a=e.unit===r?e.targetWeight:this.convertWeight(e.targetWeight,e.unit,r);if(Math.abs(t-a)<.5)return"You reached your goal! Amazing work!";const u=this.getGoalProgress(e,t,r);return u>=75?"Almost there! Keep pushing!":u>=50?"Halfway there! Great consistency!":u>=25?"Good progress! Stay on track!":"Every step counts. Keep going!"}}function n7(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const e=Math.random()*16|0;return(n==="x"?e:e&3|8).toString(16)})}function r7(){const[n,e]=E.useState([]),[t,r]=E.useState(null),[a,o]=E.useState(!0),u=t?.unit||"lbs",c=E.useCallback(async()=>{try{o(!0);const[T,x]=await Promise.all([Su.getAllEntries(),Su.getGoal()]),C=T.sort((I,R)=>new Date(I.date).getTime()-new Date(R.date).getTime());e(C),r(x)}catch(T){console.error("Error loading weight data:",T)}finally{o(!1)}},[]);E.useEffect(()=>{c()},[c]);const h=E.useMemo(()=>fo.calculateStats(n,u),[n,u]),f=E.useCallback(async(T,x,C,I,R)=>{const O=new Date().toISOString(),z={id:n7(),weight:T,unit:x,date:C,time:I,notes:R,createdAt:O,updatedAt:O};await Su.saveEntry(z),await c()},[c]),g=E.useCallback(async(T,x,C,I,R,O)=>{const z=n.find(F=>F.id===T);if(!z)return;const H={...z,weight:x,unit:C,date:I,time:R,notes:O,updatedAt:new Date().toISOString()};await Su.saveEntry(H),await c()},[n,c]),y=E.useCallback(async T=>{await Su.deleteEntry(T),await c()},[c]),_=E.useCallback(async T=>{await Su.saveGoal(T),r(T)},[]),S=E.useCallback(T=>{if(T==="all")return n;const x=new Date;let C;switch(T){case"1w":C=new Date(x.getTime()-10080*60*1e3);break;case"1m":C=new Date(x.getFullYear(),x.getMonth()-1,x.getDate());break;case"3m":C=new Date(x.getFullYear(),x.getMonth()-3,x.getDate());break}return n.filter(I=>new Date(I.date)>=C)},[n]);return{entries:n,goal:t,stats:h,isLoading:a,displayUnit:u,addEntry:f,updateEntry:g,deleteEntry:y,saveGoal:_,getEntriesForRange:S}}const i7=[{key:"1w",label:"1W"},{key:"1m",label:"1M"},{key:"3m",label:"3M"},{key:"all",label:"All"}],a7=[{key:"lose",label:"Lose Weight"},{key:"gain",label:"Gain Muscle"},{key:"maintain",label:"Maintain"}];function s7({navigation:n}){const{entries:e,goal:t,stats:r,isLoading:a,displayUnit:o,addEntry:u,updateEntry:c,deleteEntry:h,saveGoal:f,getEntriesForRange:g}=r7(),{isDarkMode:y,colors:_}=Er(),[S,T]=E.useState("1m"),[x,C]=E.useState(!1),[I,R]=E.useState(!1),[O,z]=E.useState(null),[H,F]=E.useState(""),[N,D]=E.useState(o),[V,B]=E.useState(""),[L,q]=E.useState(""),[M,ue]=E.useState(""),[me,Y]=E.useState(o),[se,ge]=E.useState("lose"),[ee,ie]=E.useState(""),G=E.useMemo(()=>g(S),[g,S]),X=E.useMemo(()=>[...e].sort((Se,Ct)=>new Date(Ct.date).getTime()-new Date(Se.date).getTime()).slice(0,20),[e]),ye=Se=>{switch(Se){case"decreasing":return"";case"increasing":return"";default:return""}},be=Se=>{switch(Se){case"decreasing":return _.success;case"increasing":return _.warning;default:return _.textMuted}},Ie=()=>{z(null),F(""),D(o),B(new Date().toISOString().split("T")[0]),q(""),C(!0)},De=Se=>{z(Se.id),F(Se.weight.toString()),D(Se.unit),B(Se.date),q(Se.notes||""),C(!0)},ke=async()=>{const Se=parseFloat(H);if(!Se||Se<=0){ut.alert("Invalid Input","Please enter a valid weight");return}try{O?await c(O,Se,N,V,void 0,L||void 0):await u(Se,N,V,void 0,L||void 0),C(!1)}catch{ut.alert("Error","Failed to save entry")}},Ve=Se=>{ut.alert("Delete Entry","Are you sure you want to delete this entry?",[{text:"Cancel",style:"cancel"},{text:"Delete",style:"destructive",onPress:async()=>{try{await h(Se)}catch{ut.alert("Error","Failed to delete entry")}}}])},$e=Se=>{ut.alert(`${Se.weight} ${Se.unit}`,$R(Se.date),[{text:"Cancel",style:"cancel"},{text:"Edit",onPress:()=>De(Se)},{text:"Delete",style:"destructive",onPress:()=>Ve(Se.id)}])},We=()=>{t?(ue(t.targetWeight.toString()),Y(t.unit),ge(t.goalType),ie(t.targetDate||"")):(ue(""),Y(o),ge("lose"),ie("")),R(!0)},gt=async()=>{const Se=parseFloat(M);if(!Se||Se<=0){ut.alert("Invalid Input","Please enter a valid target weight");return}const Ct=new Date().toISOString();try{await f({targetWeight:Se,unit:me,goalType:se,startWeight:r?.currentWeight||Se,startDate:t?.startDate||Ct.split("T")[0],targetDate:ee||void 0,isActive:!0,createdAt:t?.createdAt||Ct,updatedAt:Ct}),R(!1),ut.alert("Success","Goal saved")}catch{ut.alert("Error","Failed to save goal")}},xt=Se=>{const Ct=parseFloat(H)||0,Rt=Math.max(0,Math.round((Ct+Se)*10)/10);F(Rt.toString())},le=l7(_);return a?v.jsxs(Zn,{style:le.safeArea,children:[v.jsx(Pn,{barStyle:y?"light-content":"dark-content",backgroundColor:_.background}),v.jsx(W,{style:[le.container,{justifyContent:"center",alignItems:"center"}],children:v.jsx(j,{style:le.noDataText,children:"Loading..."})})]}):v.jsxs(Zn,{style:le.safeArea,children:[v.jsx(Pn,{barStyle:y?"light-content":"dark-content",backgroundColor:_.background}),v.jsxs(W,{style:le.container,children:[v.jsxs(W,{style:le.header,children:[v.jsx(_e,{onPress:()=>n.goBack(),hitSlop:{top:10,bottom:10,left:10,right:10},children:v.jsx(j,{style:le.backButton,children:""})}),v.jsx(j,{style:le.title,children:"Weight Tracker"}),v.jsx(_e,{onPress:We,hitSlop:{top:10,bottom:10,left:10,right:10},children:v.jsx(j,{style:le.settingsIcon,children:""})})]}),v.jsxs(ci,{style:le.content,showsVerticalScrollIndicator:!1,children:[r?v.jsxs(W,{style:le.summaryCard,children:[v.jsx(j,{style:le.cardTitle,children:"Current Weight"}),v.jsxs(W,{style:le.summaryRow,children:[v.jsxs(j,{style:le.currentWeight,children:[r.currentWeight," ",o]}),v.jsx(W,{style:[le.trendBadge,{backgroundColor:be(r.trend)+"20"}],children:v.jsxs(j,{style:[le.trendText,{color:be(r.trend)}],children:[ye(r.trend)," ",r.totalChange>0?"+":"",r.totalChange," ",o]})})]}),v.jsxs(W,{style:le.miniStatsRow,children:[v.jsxs(W,{style:le.miniStat,children:[v.jsx(j,{style:le.miniStatValue,children:r.lowestWeight}),v.jsx(j,{style:le.miniStatLabel,children:"Low"})]}),v.jsxs(W,{style:le.miniStat,children:[v.jsx(j,{style:le.miniStatValue,children:r.averageWeight}),v.jsx(j,{style:le.miniStatLabel,children:"Avg"})]}),v.jsxs(W,{style:le.miniStat,children:[v.jsx(j,{style:le.miniStatValue,children:r.highestWeight}),v.jsx(j,{style:le.miniStatLabel,children:"High"})]}),v.jsxs(W,{style:le.miniStat,children:[v.jsx(j,{style:le.miniStatValue,children:r.entriesCount}),v.jsx(j,{style:le.miniStatLabel,children:"Entries"})]})]})]}):v.jsx(W,{style:le.summaryCard,children:v.jsx(j,{style:le.noDataText,children:"No entries yet. Log your first weight!"})}),v.jsxs(W,{style:le.chartCard,children:[v.jsx(j,{style:le.cardTitle,children:"Trend"}),v.jsx(W,{style:le.timeRangeRow,children:i7.map(({key:Se,label:Ct})=>v.jsx(_e,{style:[le.timeRangeBtn,S===Se&&le.timeRangeBtnActive],onPress:()=>T(Se),children:v.jsx(j,{style:[le.timeRangeLabel,S===Se&&le.timeRangeLabelActive],children:Ct})},Se))}),v.jsx(o7,{entries:G,displayUnit:o,goalWeight:t?t.unit===o?t.targetWeight:fo.convertWeight(t.targetWeight,t.unit,o):void 0,colors:_})]}),t&&r&&v.jsxs(W,{style:le.goalCard,children:[v.jsx(j,{style:le.cardTitle,children:"Goal Progress"}),v.jsxs(W,{style:le.goalInfoRow,children:[v.jsxs(j,{style:le.goalLabel,children:["Target: ",t.targetWeight," ",t.unit]}),v.jsxs(j,{style:le.goalLabel,children:[fo.getGoalProgress(t,r.currentWeight,o),"%"]})]}),v.jsx(W,{style:le.progressBarBg,children:v.jsx(W,{style:[le.progressBarFill,{width:`${Math.min(fo.getGoalProgress(t,r.currentWeight,o),100)}%`,backgroundColor:_.primary}]})}),v.jsx(j,{style:le.motivationalText,children:fo.getMotivationalMessage(t,r.currentWeight,o)})]}),v.jsx(_e,{style:le.logButton,onPress:Ie,activeOpacity:.8,children:v.jsx(j,{style:le.logButtonText,children:"+ Log Weight"})}),v.jsxs(W,{style:le.historyCard,children:[v.jsx(j,{style:le.cardTitle,children:"Recent Entries"}),X.length===0?v.jsx(j,{style:le.noDataText,children:"No entries yet"}):X.map((Se,Ct)=>{const Rt=X[Ct+1];let sn=null;if(Rt){const mn=Rt.unit===Se.unit?Rt.weight:fo.convertWeight(Rt.weight,Rt.unit,Se.unit);sn=Math.round((Se.weight-mn)*10)/10}return v.jsxs(_e,{style:le.historyItem,onPress:()=>$e(Se),children:[v.jsxs(W,{style:le.historyLeft,children:[v.jsx(j,{style:le.historyDate,children:$R(Se.date)}),Se.notes?v.jsx(j,{style:le.historyNotes,numberOfLines:1,children:Se.notes}):null]}),v.jsxs(W,{style:le.historyRight,children:[v.jsxs(j,{style:le.historyWeight,children:[Se.weight," ",Se.unit]}),sn!==null&&v.jsxs(j,{style:[le.historyChange,{color:sn<0?_.success:sn>0?_.warning:_.textMuted}],children:[sn>0?"":sn<0?"":"=",Math.abs(sn)]})]})]},Se.id)})]}),v.jsx(W,{style:{height:K.xxxl}})]}),v.jsx(hs,{visible:x,animationType:"slide",transparent:!0,onRequestClose:()=>C(!1),children:v.jsx(W,{style:le.modalOverlay,children:v.jsxs(W,{style:le.modalContent,children:[v.jsx(j,{style:le.modalTitle,children:O?"Edit Weight":"Log Weight"}),v.jsx(j,{style:le.modalDate,children:V?new Date(V+"T00:00:00").toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):""}),v.jsxs(W,{style:le.weightInputRow,children:[v.jsx(_e,{style:le.adjustBtn,onPress:()=>xt(-.5),children:v.jsx(j,{style:le.adjustBtnText,children:""})}),v.jsx(xn,{style:le.weightInput,value:H,onChangeText:F,keyboardType:"decimal-pad",placeholder:"0",placeholderTextColor:_.textMuted}),v.jsx(_e,{style:le.adjustBtn,onPress:()=>xt(.5),children:v.jsx(j,{style:le.adjustBtnText,children:"+"})})]}),v.jsx(W,{style:le.unitToggleRow,children:["lbs","kg"].map(Se=>v.jsx(_e,{style:[le.unitBtn,N===Se&&le.unitBtnActive],onPress:()=>D(Se),children:v.jsx(j,{style:[le.unitBtnText,N===Se&&le.unitBtnTextActive],children:Se})},Se))}),v.jsxs(W,{style:le.inputGroup,children:[v.jsx(j,{style:le.inputLabel,children:"Date"}),v.jsx(xn,{style:le.input,value:V,onChangeText:B,placeholder:"YYYY-MM-DD",placeholderTextColor:_.textMuted})]}),v.jsxs(W,{style:le.inputGroup,children:[v.jsx(j,{style:le.inputLabel,children:"Notes (optional)"}),v.jsx(xn,{style:[le.input,le.textArea],value:L,onChangeText:q,placeholder:"e.g., Morning weight",placeholderTextColor:_.textMuted,multiline:!0,numberOfLines:2})]}),v.jsxs(W,{style:le.modalButtons,children:[v.jsx(_e,{style:[le.modalButton,le.modalButtonCancel],onPress:()=>C(!1),children:v.jsx(j,{style:le.modalButtonCancelText,children:"Cancel"})}),v.jsx(_e,{style:[le.modalButton,le.modalButtonSave],onPress:ke,children:v.jsx(j,{style:le.modalButtonSaveText,children:"Save"})})]})]})})}),v.jsx(hs,{visible:I,animationType:"slide",transparent:!0,onRequestClose:()=>R(!1),children:v.jsx(W,{style:le.modalOverlay,children:v.jsxs(W,{style:le.modalContent,children:[v.jsx(j,{style:le.modalTitle,children:"Set Weight Goal"}),v.jsxs(W,{style:le.inputGroup,children:[v.jsx(j,{style:le.inputLabel,children:"Target Weight"}),v.jsxs(W,{style:le.goalInputRow,children:[v.jsx(xn,{style:[le.input,{flex:1}],value:M,onChangeText:ue,keyboardType:"decimal-pad",placeholder:"e.g., 175",placeholderTextColor:_.textMuted}),v.jsx(W,{style:le.unitToggleRow,children:["lbs","kg"].map(Se=>v.jsx(_e,{style:[le.unitBtn,me===Se&&le.unitBtnActive],onPress:()=>Y(Se),children:v.jsx(j,{style:[le.unitBtnText,me===Se&&le.unitBtnTextActive],children:Se})},Se))})]})]}),v.jsxs(W,{style:le.inputGroup,children:[v.jsx(j,{style:le.inputLabel,children:"Goal Type"}),v.jsx(W,{style:le.goalTypeRow,children:a7.map(({key:Se,label:Ct})=>v.jsx(_e,{style:[le.goalTypeBtn,se===Se&&le.goalTypeBtnActive],onPress:()=>ge(Se),children:v.jsx(j,{style:[le.goalTypeText,se===Se&&le.goalTypeTextActive],children:Ct})},Se))})]}),v.jsxs(W,{style:le.inputGroup,children:[v.jsx(j,{style:le.inputLabel,children:"Target Date (optional)"}),v.jsx(xn,{style:le.input,value:ee,onChangeText:ie,placeholder:"YYYY-MM-DD",placeholderTextColor:_.textMuted})]}),v.jsxs(W,{style:le.modalButtons,children:[v.jsx(_e,{style:[le.modalButton,le.modalButtonCancel],onPress:()=>R(!1),children:v.jsx(j,{style:le.modalButtonCancelText,children:"Cancel"})}),v.jsx(_e,{style:[le.modalButton,le.modalButtonSave],onPress:gt,children:v.jsx(j,{style:le.modalButtonSaveText,children:"Save Goal"})})]})]})})}),v.jsx(Vo,{navigation:n,currentScreen:"WeightTracking"})]})]})}function o7({entries:n,displayUnit:e,goalWeight:t,colors:r}){if(n.length===0)return v.jsx(W,{style:{height:160,justifyContent:"center",alignItems:"center"},children:v.jsx(j,{style:{color:r.textMuted,fontSize:14},children:"No data for this range"})});const u=n.map(x=>x.unit===e?x.weight:fo.convertWeight(x.weight,x.unit,e)),c=t?[...u,t]:u,h=Math.min(...c)-1,g=Math.max(...c)+1-h||1,y=t?(t-h)/g*160:null,_=30,S=n.length>_?n.slice(-_):n,T=S.map(x=>x.unit===e?x.weight:fo.convertWeight(x.weight,x.unit,e));return v.jsxs(W,{style:{height:188,marginTop:12,position:"relative"},children:[y!==null&&v.jsx(W,{style:{position:"absolute",bottom:28+y,left:0,right:0,height:1,backgroundColor:r.danger,zIndex:2}}),y!==null&&v.jsx(j,{style:{position:"absolute",bottom:28+y+2,right:0,fontSize:10,color:r.danger,zIndex:3},children:"Goal"}),v.jsx(W,{style:{flexDirection:"row",alignItems:"flex-end",height:160,gap:2,paddingHorizontal:2},children:T.map((x,C)=>{const I=Math.max((x-h)/g*160,4),R=C===T.length-1;return v.jsx(W,{style:{flex:1,height:I,backgroundColor:R?r.primary:r.primary+"80",borderTopLeftRadius:3,borderTopRightRadius:3,minWidth:4}},S[C].date+"-"+C)})}),v.jsxs(W,{style:{flexDirection:"row",justifyContent:"space-between",paddingTop:4},children:[v.jsx(j,{style:{fontSize:10,color:r.textMuted},children:YR(S[0].date)}),v.jsx(j,{style:{fontSize:10,color:r.textMuted},children:YR(S[S.length-1].date)})]})]})}function $R(n){return new Date(n+"T00:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function YR(n){return new Date(n+"T00:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric"})}const l7=(n,e)=>Ne.create({safeArea:{flex:1,backgroundColor:n.background},container:{flex:1,backgroundColor:n.background},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingHorizontal:K.lg,paddingVertical:K.md,borderBottomWidth:1,borderBottomColor:n.border},backButton:{fontSize:28,color:n.primary,fontWeight:"600"},title:{...we.title2,color:n.text},settingsIcon:{fontSize:24},content:{flex:1,paddingHorizontal:K.lg},summaryCard:{backgroundColor:n.surface,borderRadius:Pe.lg,padding:K.lg,marginTop:K.lg},cardTitle:{...we.headline,color:n.text,marginBottom:K.sm},summaryRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},currentWeight:{...we.title1,color:n.primary,fontWeight:"bold"},trendBadge:{paddingHorizontal:K.md,paddingVertical:K.xs,borderRadius:Pe.sm},trendText:{...we.callout,fontWeight:"600"},miniStatsRow:{flexDirection:"row",justifyContent:"space-around",marginTop:K.lg,paddingTop:K.md,borderTopWidth:1,borderTopColor:n.border},miniStat:{alignItems:"center"},miniStatValue:{...we.callout,color:n.text,fontWeight:"600"},miniStatLabel:{...we.caption1,color:n.textSecondary,marginTop:2},chartCard:{backgroundColor:n.surface,borderRadius:Pe.lg,padding:K.lg,marginTop:K.lg},timeRangeRow:{flexDirection:"row",gap:K.sm,marginBottom:K.xs},timeRangeBtn:{paddingHorizontal:K.md,paddingVertical:K.xs,borderRadius:Pe.sm,backgroundColor:n.background},timeRangeBtnActive:{backgroundColor:n.primary},timeRangeLabel:{...we.caption1,color:n.textSecondary,fontWeight:"600"},timeRangeLabelActive:{color:n.textOnPrimary},goalCard:{backgroundColor:n.surface,borderRadius:Pe.lg,padding:K.lg,marginTop:K.lg},goalInfoRow:{flexDirection:"row",justifyContent:"space-between",marginBottom:K.sm},goalLabel:{...we.callout,color:n.textSecondary},progressBarBg:{height:8,backgroundColor:n.background,borderRadius:4,overflow:"hidden"},progressBarFill:{height:8,borderRadius:4},motivationalText:{...we.footnote,color:n.primary,marginTop:K.sm,fontWeight:"600",textAlign:"center"},logButton:{backgroundColor:n.primary,borderRadius:Pe.md,paddingVertical:K.lg,alignItems:"center",marginTop:K.lg},logButtonText:{...we.headline,color:n.textOnPrimary},historyCard:{backgroundColor:n.surface,borderRadius:Pe.lg,padding:K.lg,marginTop:K.lg},historyItem:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:K.md,borderBottomWidth:1,borderBottomColor:n.border},historyLeft:{flex:1},historyDate:{...we.callout,color:n.text,fontWeight:"600"},historyNotes:{...we.caption1,color:n.textMuted,marginTop:2},historyRight:{alignItems:"flex-end"},historyWeight:{...we.callout,color:n.text,fontWeight:"600"},historyChange:{...we.caption1,fontWeight:"600",marginTop:2},noDataText:{...we.callout,color:n.textMuted,textAlign:"center",paddingVertical:K.lg},modalOverlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"center",alignItems:"center"},modalContent:{backgroundColor:n.surface,borderRadius:Pe.lg,padding:K.xl,width:"90%",maxWidth:400},modalTitle:{...we.title2,color:n.text,marginBottom:K.xs},modalDate:{...we.callout,color:n.textSecondary,marginBottom:K.lg},weightInputRow:{flexDirection:"row",alignItems:"center",justifyContent:"center",gap:K.md,marginBottom:K.lg},adjustBtn:{width:44,height:44,borderRadius:22,backgroundColor:n.background,borderWidth:1,borderColor:n.border,justifyContent:"center",alignItems:"center"},adjustBtnText:{fontSize:24,color:n.primary,fontWeight:"600"},weightInput:{...we.title1,color:n.text,textAlign:"center",borderBottomWidth:2,borderBottomColor:n.primary,paddingVertical:K.sm,minWidth:100},unitToggleRow:{flexDirection:"row",gap:K.sm,justifyContent:"center",marginBottom:K.lg},unitBtn:{paddingHorizontal:K.lg,paddingVertical:K.sm,borderRadius:Pe.sm,backgroundColor:n.background,borderWidth:1,borderColor:n.border},unitBtnActive:{backgroundColor:n.primary,borderColor:n.primary},unitBtnText:{...we.callout,color:n.textSecondary,fontWeight:"600"},unitBtnTextActive:{color:n.textOnPrimary},goalInputRow:{flexDirection:"row",alignItems:"center",gap:K.md},goalTypeRow:{flexDirection:"row",gap:K.sm},goalTypeBtn:{flex:1,paddingVertical:K.sm,borderRadius:Pe.sm,backgroundColor:n.background,borderWidth:1,borderColor:n.border,alignItems:"center"},goalTypeBtnActive:{backgroundColor:n.primary,borderColor:n.primary},goalTypeText:{...we.caption1,color:n.textSecondary,fontWeight:"600"},goalTypeTextActive:{color:n.textOnPrimary},inputGroup:{marginBottom:K.lg},inputLabel:{...we.callout,color:n.text,marginBottom:K.sm,fontWeight:"600"},input:{backgroundColor:n.background,borderWidth:1,borderColor:n.border,borderRadius:Pe.sm,padding:K.md,...we.body,color:n.text},textArea:{minHeight:60,textAlignVertical:"top"},modalButtons:{flexDirection:"row",justifyContent:"space-between",gap:K.md,marginTop:K.md},modalButton:{flex:1,paddingVertical:K.md,borderRadius:Pe.sm,alignItems:"center"},modalButtonCancel:{backgroundColor:n.background,borderWidth:1,borderColor:n.border},modalButtonCancelText:{...we.callout,color:n.text,fontWeight:"600"},modalButtonSave:{backgroundColor:n.primary},modalButtonSaveText:{...we.callout,color:n.textOnPrimary,fontWeight:"600"}}),$i=V3();function u7(){const{isDarkMode:n}=Er();return v.jsxs(v.Fragment,{children:[v.jsx(Pn,{barStyle:n?"light-content":"dark-content"}),v.jsxs($i.Navigator,{screenOptions:{headerShown:!1},children:[v.jsx($i.Screen,{name:"Dashboard",component:aq}),v.jsx($i.Screen,{name:"ActiveWorkout",component:gq}),v.jsx($i.Screen,{name:"History",component:Tq}),v.jsx($i.Screen,{name:"WorkoutDetail",component:Rq}),v.jsx($i.Screen,{name:"Stats",component:Oq}),v.jsx($i.Screen,{name:"ExerciseDetail",component:Lq}),v.jsx($i.Screen,{name:"Settings",component:Hq}),v.jsx($i.Screen,{name:"Nutrition",component:$q}),v.jsx($i.Screen,{name:"Leaderboard",component:Jq}),v.jsx($i.Screen,{name:"WeightTracking",component:s7})]})]})}function c7(){return v.jsx(SI,{children:v.jsx(nq,{children:v.jsx(rq,{children:v.jsx(Fq,{children:v.jsx(ZW,{children:v.jsx(Gq,{children:v.jsx(Y4,{children:v.jsx(u7,{})})})})})})})})}const HO="WorkoutPlanner";Dd.registerComponent(HO,()=>c7);Dd.runApplication(HO,{rootTag:document.getElementById("root")});export{Ye as A};
//# sourceMappingURL=index-BoA0D16e.js.map
